2026-01-09T13:10:24.208+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713119211 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:24.219+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:24.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:24.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28b05f39]
2026-01-09T13:10:24.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:24.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:24.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e2ce8e7] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:24.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414478220 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:24.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:24.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:24.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:24.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0cf6d2]
2026-01-09T13:10:24.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:24.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a39819] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:24.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84891039 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:24.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:24.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:24.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:24.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e2ce8e7]
2026-01-09T13:10:24.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:24.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:24.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:24.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40a39819]
2026-01-09T13:10:24.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:24.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:24.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:24.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:25.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/cards/user
2026-01-09T13:10:25.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cards/user
2026-01-09T13:10:25.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/cards/user
2026-01-09T13:10:25.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cards/user
2026-01-09T13:10:25.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cards/user", parameters={}
2026-01-09T13:10:25.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CardController#getUserCards()
2026-01-09T13:10:25.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:25.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f2cd36] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:25.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093114772 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:25.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findActiveByUserId             : ==>  Preparing: SELECT uc.*, u.korean_name AS user_name FROM user_card_tb uc LEFT JOIN user_tb u ON uc.user_id = u.user_id WHERE uc.user_id = ? AND uc.is_active = 1 ORDER BY uc.is_default DESC, uc.created_at DESC
2026-01-09T13:10:25.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findActiveByUserId             : ==> Parameters: 2(Long)
2026-01-09T13:10:25.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findActiveByUserId             : <==      Total: 1
2026-01-09T13:10:25.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f2cd36]
2026-01-09T13:10:25.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:25.551+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=개인 카드 목록 조회 성공, data=[UserCardDto(cardId=2, userId=2, cardName=개인카 (truncated)...]
2026-01-09T13:10:25.553+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:25.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:25.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:25.609+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:25.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:25.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:25.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:25.616+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:25.616+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:25.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:25.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:25.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:25.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:25.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:25.618+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ca78d4] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:25.618+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:25.618+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0be050] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:25.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@834464509 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:25.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492684482 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:25.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:25.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:25.622+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:25.624+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:25.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:25.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:25.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44ca78d4]
2026-01-09T13:10:25.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0be050]
2026-01-09T13:10:25.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:25.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:25.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa0e199] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:25.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e32deeb] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:25.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@812203932 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:25.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443828114 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:25.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:25.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:25.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:25.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:25.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:25.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:25.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e32deeb]
2026-01-09T13:10:25.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aa0e199]
2026-01-09T13:10:25.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:25.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:25.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:25.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:25.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:25.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:26.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:26.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-01-09T13:10:26.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:10:26.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-09T13:10:26.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2026-01-09T13:10:26.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-01-09T13:10:26.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:26.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-01-09T13:10:26.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:10:26.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-09T13:10:26.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-01-09T13:10:26.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-01-09T13:10:26.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:26.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:26.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/me
2026-01-09T13:10:26.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:10:26.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/companies
2026-01-09T13:10:26.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/companies/pending
2026-01-09T13:10:26.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-01-09T13:10:26.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/users/me
2026-01-09T13:10:26.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:26.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-01-09T13:10:26.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:26.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:10:26.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-09T13:10:26.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-01-09T13:10:26.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-01-09T13:10:26.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-01-09T13:10:26.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:10:26.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8d9157] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-09T13:10:26.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-01-09T13:10:26.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-01-09T13:10:26.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-01-09T13:10:26.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:10:26.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-09T13:10:26.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-01-09T13:10:26.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345d85b0] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@320626000 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:26.746+09:00  INFO 23648 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 2, companyId: 1
2026-01-09T13:10:26.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad4b4] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a6f365] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.757+09:00  INFO 23648 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 2, companyId: 1
2026-01-09T13:10:26.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:26.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:26.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1806714480 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:10:26.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:10:26.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1450647287 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:26.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417019468 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:26.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d17317] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a230d0] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long), PENDING(String)
2026-01-09T13:10:26.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:10:26.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:10:26.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:10:26.780+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:26.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-09T13:10:26.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1371891218 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:26.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@272700988 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:26.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8d9157]
2026-01-09T13:10:26.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-01-09T13:10:26.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:26.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:26.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:26.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345d85b0]
2026-01-09T13:10:26.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:26.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:26.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d4a64a] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:26.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:26.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432046464 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:26.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:26.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:26.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-09T13:10:26.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:26.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:10:26.941+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ad4b4]
2026-01-09T13:10:26.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:26.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:10:26.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-09T13:10:26.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:26.944+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:27.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:27.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:27.047+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68a6f365]
2026-01-09T13:10:27.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a230d0]
2026-01-09T13:10:27.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13d17317]
2026-01-09T13:10:27.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d4a64a]
2026-01-09T13:10:27.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:27.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:27.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:27.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:27.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=2, userId=2, companyId=1 (truncated)...]
2026-01-09T13:10:27.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5971dc52] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:27.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629a9f4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:27.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:27.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:27.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581553916 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:27.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2058629449 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:27.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:27.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:10:27.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:10:27.143+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-09T13:10:27.145+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 2(Long)
2026-01-09T13:10:27.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-09T13:10:27.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-09T13:10:27.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5971dc52]
2026-01-09T13:10:27.153+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@629a9f4a]
2026-01-09T13:10:27.154+09:00  INFO 23648 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 2, companyId: 1, role: USER
2026-01-09T13:10:27.155+09:00  INFO 23648 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 2, companyId: 1, role: USER
2026-01-09T13:10:27.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:27.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:27.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=2, username=test_user1, passw (truncated)...]
2026-01-09T13:10:27.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=2, username=test_user1, passw (truncated)...]
2026-01-09T13:10:27.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:27.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:27.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:27.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:27.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:27.279+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:27.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:27.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:27.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:27.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:27.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:27.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:27.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:27.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:27.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:27.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76033d5a] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:27.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:27.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869711533 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:27.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8d74c2] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:27.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:27.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1658512503 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:27.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:27.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:27.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:27.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:27.303+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76033d5a]
2026-01-09T13:10:27.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:27.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:27.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd85159] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:27.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8d74c2]
2026-01-09T13:10:27.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@324950645 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:27.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:27.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:27.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617fc99e] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:27.307+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:27.307+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081444887 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:27.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:27.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:27.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:27.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cd85159]
2026-01-09T13:10:27.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:27.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:27.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:27.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:27.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617fc99e]
2026-01-09T13:10:27.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:27.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:27.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:30.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:10:30.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:10:30.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:10:30.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:30.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:30.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:10:30.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:10:30.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:30.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:10:30.297+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:30.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:10:30.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:10:30.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:30.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:10:30.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:10:30.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:30.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:30.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:10:30.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:10:30.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-09T13:10:30.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:30.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:10:30.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:30.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:10:30.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:10:30.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:10:30.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:30.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:10:30.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:30.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:10:30.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:10:30.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:10:30.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:30.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:10:30.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:30.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:10:30.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:10:30.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:10:30.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:10:30.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:30.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:10:30.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49954846] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ff91b0] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e224d57] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c40ac9] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@720e7c0] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.347+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0d15da] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971582650 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829907699 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:10:30.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1333257398 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:30.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@668010606 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@714983842 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:30.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1167234211 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:30.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:10:30.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:30.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:10:30.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49954846]
2026-01-09T13:10:30.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e224d57]
2026-01-09T13:10:30.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:10:30.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 2
2026-01-09T13:10:30.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ff91b0]
2026-01-09T13:10:30.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:10:30.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:30.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c40ac9]
2026-01-09T13:10:30.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d0ac6c9] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2eb053] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a0d15da]
2026-01-09T13:10:30.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@720e7c0]
2026-01-09T13:10:30.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea1e02] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1462924458 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.380+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@638027907 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.380+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:10:30.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@368150410 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:30.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:10:30.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@822d24a] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:10:30.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037812876 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:30.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-09T13:10:30.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:10:30.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:10:30.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:10:30.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:10:30.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2eb053]
2026-01-09T13:10:30.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d0ac6c9]
2026-01-09T13:10:30.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:10:30.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:10:30.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:10:30.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea1e02]
2026-01-09T13:10:30.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@822d24a]
2026-01-09T13:10:30.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b8fe3d1] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:30.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:10:30.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48125e3b] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1086874331 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250b6bd6] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.430+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@262ad2c3] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996397817 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:30.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:30.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:10:30.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:30.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632992123 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:30.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:10:30.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@965139617 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:30.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:10:30.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:10:30.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:30.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long)
2026-01-09T13:10:30.447+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:30.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:10:30.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:10:30.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:30.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:10:30.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:10:30.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:10:30.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:30.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b8fe3d1]
2026-01-09T13:10:30.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-09T13:10:30.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 2
2026-01-09T13:10:30.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48125e3b]
2026-01-09T13:10:30.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250b6bd6]
2026-01-09T13:10:30.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@420b3aeb] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119cbf3] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f418] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@262ad2c3]
2026-01-09T13:10:30.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938465940 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:30.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294393633 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1418075818 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc50014] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b50ce9] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6973e198] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912369361 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2141094610 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:30.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:10:30.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431983295 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:30.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:10:30.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:30.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f418]
2026-01-09T13:10:30.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@420b3aeb]
2026-01-09T13:10:30.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119cbf3]
2026-01-09T13:10:30.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b50ce9]
2026-01-09T13:10:30.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bc50014]
2026-01-09T13:10:30.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@531450] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6973e198]
2026-01-09T13:10:30.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:10:30.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7002067f] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@523228022 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057689055 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:10:30.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterI (truncated)...]
2026-01-09T13:10:30.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7318b76b] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd2faff] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1885260988 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:10:30.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:30.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272685564 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:30.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:10:30.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:10:30.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:30.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:30.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:10:30.513+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:10:30.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:30.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:10:30.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long)
2026-01-09T13:10:30.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:30.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:30.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7002067f]
2026-01-09T13:10:30.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@531450]
2026-01-09T13:10:30.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:10:30.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:30.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:30.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-09T13:10:30.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dd2faff]
2026-01-09T13:10:30.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7318b76b]
2026-01-09T13:10:30.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:30.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:30.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:30.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ed93e3] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80499d3] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58dbe2ba] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ffd5bb] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862596826 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28810aa0] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450532962 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:10:30.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1358367465 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:30.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@189843065 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:10:30.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:10:30.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@504648500 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:10:30.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:30.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:30.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:10:30.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ed93e3]
2026-01-09T13:10:30.575+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323ea5d7] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:30.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:30.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28810aa0]
2026-01-09T13:10:30.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@693590776 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21ffd5bb]
2026-01-09T13:10:30.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@80499d3]
2026-01-09T13:10:30.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58dbe2ba]
2026-01-09T13:10:30.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterI (truncated)...]
2026-01-09T13:10:30.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6a1f3f] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@484b565d] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626fc791] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024008794 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:30.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1748992510 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317601294 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:10:30.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:10:30.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:10:30.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@323ea5d7]
2026-01-09T13:10:30.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6a1f3f]
2026-01-09T13:10:30.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669a236e] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558707319 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.609+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:30.609+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:10:30.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:10:30.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:10:30.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@484b565d]
2026-01-09T13:10:30.618+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.618+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce8dae] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338025108 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:10:30.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626fc791]
2026-01-09T13:10:30.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:10:30.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:10:30.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@669a236e]
2026-01-09T13:10:30.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:30.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea6fbe2] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152055307 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:10:30.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:10:30.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ce8dae]
2026-01-09T13:10:30.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233d14b3] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366052487 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea6fbe2]
2026-01-09T13:10:30.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:10:30.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.665+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:30.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233d14b3]
2026-01-09T13:10:30.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e6eece] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@750118413 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:10:30.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:10:30.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:10:30.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e6eece]
2026-01-09T13:10:30.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:30.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a96bc32] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:30.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450276144 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:10:30.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:30.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:30.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:30.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a96bc32]
2026-01-09T13:10:30.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:30.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:10:30.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:31.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:31.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:10:31.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:31.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:31.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:10:31.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:31.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:10:31.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:31.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:10:31.380+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:31.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:31.380+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:10:31.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486fc5a4] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:31.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:10:31.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:31.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46405243] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:31.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450509243 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:31.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:31.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:31.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681410817 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:31.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:10:31.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:10:31.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:31.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46405243]
2026-01-09T13:10:31.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:10:31.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486fc5a4]
2026-01-09T13:10:31.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:31.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:10:31.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a287e28] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:31.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40936a8e] was not registered for synchronization because synchronization is not active
2026-01-09T13:10:31.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1778465343 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c361118] will not be managed by Spring
2026-01-09T13:10:31.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:31.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912099926 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:10:31.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:10:31.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:31.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:10:31.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:31.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:10:31.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40936a8e]
2026-01-09T13:10:31.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a287e28]
2026-01-09T13:10:31.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:31.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:10:31.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:31.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:10:31.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:10:31.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:55.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:11:55.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:11:55.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:11:55.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:11:55.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:11:55.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:11:55.083+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:11:55.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:11:55.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:11:55.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:11:55.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:11:55.083+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:11:55.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:11:55.086+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:11:55.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:11:55.090+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:11:55.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:11:55.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:11:55.250+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:11:55.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:11:55.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:11:55.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:11:55.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:11:55.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:11:55.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:11:55.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-09T13:11:55.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:11:55.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:11:55.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:11:55.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:11:55.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:11:55.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:11:55.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:11:55.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:11:55.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:11:55.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:11:55.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:11:55.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:11:55.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:11:55.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:11:55.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:11:55.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:11:55.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:11:55.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:11:55.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:11:55.568+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:11:55.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:11:55.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:11:55.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2026-01-09T13:11:55.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:11:55.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:11:55.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:11:55.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124bf724] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.573+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ce1864] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.568+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:11:55.568+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:11:55.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:11:55.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:11:55.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.573+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bad45b] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:11:55.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:11:55.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:11:55.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:11:55.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa8014] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10773081] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bacce3c] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:11:55.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:11:55.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:11:55.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:11:55.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:11:55.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@65640426 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:11:55.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585558144 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:11:55.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084804612 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:55.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56755534 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:11:55.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/expenses
2026-01-09T13:11:55.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:11:55.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179820200 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:11:55.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:55.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:11:55.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:11:55.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:11:55.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:11:55.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@106c24af] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54641ae5] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c80bc91] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:11:55.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:55.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:55.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:11:55.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:11:55.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:11:55.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:11:55.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:11:55.997+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:11:55.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c28275b] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:55.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:55.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:11:55.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:11:55.998+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bad45b]
2026-01-09T13:11:56.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ce1864]
2026-01-09T13:11:56.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@124bf724]
2026-01-09T13:11:56.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29fdd8a] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a4b8d0] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1375681771 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:11:56.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:11:56.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 2
2026-01-09T13:11:56.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067498213 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:11:56.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254761121 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:56.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:11:56.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351651028 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:11:56.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:11:56.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a95056] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:11:56.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa8014]
2026-01-09T13:11:56.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10773081]
2026-01-09T13:11:56.185+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbafa44] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:11:56.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:11:56.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-09T13:11:56.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 2(Long)
2026-01-09T13:11:56.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865357830 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:11:56.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2063056752 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:11:56.243+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:11:56.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:11:56.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:11:56.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548522e9] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:11:56.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 2(Long), 1(Long)
2026-01-09T13:11:56.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:11:56.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 2
2026-01-09T13:11:56.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-09T13:11:56.407+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.407+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54641ae5]
2026-01-09T13:11:56.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086458272 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:56.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bacce3c]
2026-01-09T13:11:56.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@106c24af]
2026-01-09T13:11:56.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c80bc91]
2026-01-09T13:11:56.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 2
2026-01-09T13:11:56.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587842621 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:56.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53118901 wrapping com.mysql.cj.jdbc.ConnectionImpl@3177fe65] will not be managed by Spring
2026-01-09T13:11:56.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@419583134 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:11:56.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c28275b]
2026-01-09T13:11:56.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29fdd8a]
2026-01-09T13:11:56.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:11:56.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:11:56.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713e59df] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:11:56.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@8802827 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:11:56.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c1e6c58] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:11:56.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1095864959 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:11:56.958+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.958+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.959+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76a4b8d0]
2026-01-09T13:11:56.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a95056]
2026-01-09T13:11:56.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbafa44]
2026-01-09T13:11:56.970+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548522e9]
2026-01-09T13:11:56.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:56.982+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aef0f8c] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.976+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be44fd4] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:11:56.983+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=3, drafterId=2 (truncated)...]
2026-01-09T13:11:56.983+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713e59df]
2026-01-09T13:11:56.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@137185885 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:56.985+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@325550878 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:56.986+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:56.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:56.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59eb86e1] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:56.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:56.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:11:56.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c1e6c58]
2026-01-09T13:11:56.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511578786 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:11:56.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:56.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:11:56.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:56.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:11:57.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@117fa500] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long)
2026-01-09T13:11:57.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2121033691 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:11:57.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aef0f8c]
2026-01-09T13:11:57.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:11:57.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 12(Long), 8(Long)
2026-01-09T13:11:57.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5971ad00] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:11:57.022+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1265650381 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be44fd4]
2026-01-09T13:11:57.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:11:57.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:11:57.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102a10e0] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162097118 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:57.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-09T13:11:57.069+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2026-01-09T13:11:57.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.079+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@117fa500]
2026-01-09T13:11:57.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59eb86e1]
2026-01-09T13:11:57.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.153+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205b1bc7] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4431852a] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@671776521 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:11:57.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.154+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629300643 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:11:57.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.206+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102a10e0]
2026-01-09T13:11:57.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4431852a]
2026-01-09T13:11:57.249+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:11:57.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:57.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@205b1bc7]
2026-01-09T13:11:57.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e08cd0a] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:11:57.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:11:57.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5971ad00]
2026-01-09T13:11:57.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterI (truncated)...]
2026-01-09T13:11:57.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:57.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=12, drafterI (truncated)...]
2026-01-09T13:11:57.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323659579 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:57.279+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 2, role: USER, companyId: 1, uri: /api/companies
2026-01-09T13:11:57.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@972a55b] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:57.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:57.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:11:57.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:11:57.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564414168 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:11:57.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:11:57.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:11:57.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e0833e3] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:11:57.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1523562485 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:11:57.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e08cd0a]
2026-01-09T13:11:57.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@972a55b]
2026-01-09T13:11:57.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:11:57.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.338+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 2(Long)
2026-01-09T13:11:57.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61700ef4] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@510a6c28] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@693698381 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:57.359+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1305363247 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:11:57.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-09T13:11:57.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:11:57.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:11:57.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e0833e3]
2026-01-09T13:11:57.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:11:57.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:57.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:11:57.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:57.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:11:57.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:11:57.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@510a6c28]
2026-01-09T13:11:57.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61700ef4]
2026-01-09T13:11:57.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432bcbd8] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cea8d8b] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@583891687 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:57.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122564882 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND u.korean_name LIKE CONCAT('%', ?, '%') ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:11:57.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), test_user1(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:11:57.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 13
2026-01-09T13:11:57.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432bcbd8]
2026-01-09T13:11:57.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cea8d8b]
2026-01-09T13:11:57.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ea639f] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@385cb3b6] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@335682673 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:57.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@284354531 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:11:57.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:11:57.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:11:57.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@385cb3b6]
2026-01-09T13:11:57.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ea639f]
2026-01-09T13:11:57.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@687c5efd] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4dfcf1] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895516999 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105302172 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:11:57.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:11:57.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 38(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 24(Long), 8(Long), 7(Long), 6(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:11:57.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 13
2026-01-09T13:11:57.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4dfcf1]
2026-01-09T13:11:57.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@687c5efd]
2026-01-09T13:11:57.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:57.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:11:57.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:11:57.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a768cc3] was not registered for synchronization because synchronization is not active
2026-01-09T13:11:57.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:11:57.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16232646 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:11:57.531+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:11:57.532+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2026-01-09T13:11:57.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:11:57.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a768cc3]
2026-01-09T13:11:57.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:11:57.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:11:57.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:00.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-09T13:12:00.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-09T13:12:00.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-09T13:12:00.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-09T13:12:00.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-09T13:12:00.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-09T13:12:00.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user3, password=1234)]
2026-01-09T13:12:00.446+09:00  INFO 23648 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user3
2026-01-09T13:12:00.447+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:00.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493b56f1] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:00.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931055495 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:00.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-09T13:12:00.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2026-01-09T13:12:00.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-09T13:12:00.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@493b56f1]
2026-01-09T13:12:00.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:00.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c5b16c] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:00.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@308832056 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:00.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:12:00.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2026-01-09T13:12:00.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-09T13:12:00.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c5b16c]
2026-01-09T13:12:00.551+09:00  INFO 23648 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 4, role: ACCOUNTANT, companyId: 1
2026-01-09T13:12:00.551+09:00  INFO 23648 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=4 username=test_user3 role=ACCOUNTANT
2026-01-09T13:12:00.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:00.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=4, username=test_user3, password (truncated)...]
2026-01-09T13:12:00.553+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:00.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:12:00.997+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:12:00.999+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-09T13:12:01.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:12:01.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:12:01.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:12:01.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e848d] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@977077225 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:01.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:12:01.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-09T13:12:01.023+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-09T13:12:01.023+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e848d]
2026-01-09T13:12:01.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:12:01.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:01.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:12:01.200+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:01.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-09T13:12:01.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:01.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-09T13:12:01.239+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:01.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:01.252+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:01.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-09T13:12:01.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:12:01.249+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:01.251+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:12:01.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-09T13:12:01.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:01.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:01.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:01.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-09T13:12:01.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:01.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:01.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:12:01.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:12:01.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:01.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-09T13:12:01.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:01.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:01.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-09T13:12:01.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:12:01.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:01.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-09T13:12:01.278+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:01.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:01.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-09T13:12:01.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:12:01.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:01.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:01.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:01.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:01.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ceede9] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:01.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fde90e3] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27645230] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@301d573c] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370ed76a] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180b2a1f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503421927 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:01.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082950300 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:01.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437372205 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:01.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@726809540 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1713550093 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016105591 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:12:01.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:01.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:01.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:12:01.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:01.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27645230]
2026-01-09T13:12:01.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:01.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fde90e3]
2026-01-09T13:12:01.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ceede9]
2026-01-09T13:12:01.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab0640f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:01.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:12:01.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1598048443 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:01.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264b6748] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@370ed76a]
2026-01-09T13:12:01.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5dd237] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@301d573c]
2026-01-09T13:12:01.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306252205 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:01.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:01.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1338054188 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:01.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:01.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180b2a1f]
2026-01-09T13:12:01.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.407+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ccf11e] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:01.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1943911670 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:01.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73af28ae] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.435+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:01.435+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086418134 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@264b6748]
2026-01-09T13:12:01.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab0640f]
2026-01-09T13:12:01.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b5dd237]
2026-01-09T13:12:01.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689bef8b] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:01.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544c40e] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123952720 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:01.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780b106e] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1275939509 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:01.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@229812530 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:01.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:01.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:12:01.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:01.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ccf11e]
2026-01-09T13:12:01.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:01.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:12:01.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:01.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73af28ae]
2026-01-09T13:12:01.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:12:01.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:01.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:01.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:12:01.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@689bef8b]
2026-01-09T13:12:01.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:01.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:12:01.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:01.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-09T13:12:01.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6d0606] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1544c40e]
2026-01-09T13:12:01.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:01.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1230e257] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205345111 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:01.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@254746e2] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-09T13:12:01.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726885524 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:01.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:01.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370180848 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-09T13:12:01.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780b106e]
2026-01-09T13:12:01.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:01.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:12:01.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.513+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8295c2] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d4fbc6] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6d0606]
2026-01-09T13:12:01.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554670172 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:12:01.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@545860403 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1230e257]
2026-01-09T13:12:01.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:01.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.532+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.537+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:12:01.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@254746e2]
2026-01-09T13:12:01.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb47759] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@274419739 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.566+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:01.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8295c2]
2026-01-09T13:12:01.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:01.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23dd1edb] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259975655 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.599+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73d4fbc6]
2026-01-09T13:12:01.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:01.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:01.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363bb579] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1659200179 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:01.622+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb47759]
2026-01-09T13:12:01.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:01.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23dd1edb]
2026-01-09T13:12:01.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b2e8cc] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1863336284 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db024b6] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:01.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105959453 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:01.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363bb579]
2026-01-09T13:12:01.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:01.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:01.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ba9392] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.670+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@574715809 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:01.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:01.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43b2e8cc]
2026-01-09T13:12:01.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:01.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55003d28] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27286476 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.683+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:01.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db024b6]
2026-01-09T13:12:01.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304cb1bb] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2090182288 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55003d28]
2026-01-09T13:12:01.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4102f2d5] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@304cb1bb]
2026-01-09T13:12:01.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:01.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@356478624 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ba9392]
2026-01-09T13:12:01.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:01.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a7e6601] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:01.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2436c5] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@795529628 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496960336 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:01.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:01.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:01.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4102f2d5]
2026-01-09T13:12:01.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:01.750+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c634f5] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2436c5]
2026-01-09T13:12:01.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a7e6601]
2026-01-09T13:12:01.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@319087298 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:01.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd7c96d] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2880795a] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1038374444 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@566713381 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:01.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:01.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:01.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:01.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2880795a]
2026-01-09T13:12:01.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45c634f5]
2026-01-09T13:12:01.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd7c96d]
2026-01-09T13:12:01.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:01.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:12:01.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:12:01.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b77405] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:01.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436821727 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:01.784+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:01.823+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:01.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b77405]
2026-01-09T13:12:01.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f874f20] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2090011529 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.857+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:01.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:01.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.882+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.892+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:01.897+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:01.898+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:01.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:01.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:01.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:01.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:01.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:01.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:01.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:01.914+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:01.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f874f20]
2026-01-09T13:12:01.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93d4ebb] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b738bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354315682 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:01.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3017717f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572563652 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:01.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1974257170 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.936+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:01.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:01.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:01.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:01.956+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:01.962+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:01.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:01.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:01.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3017717f]
2026-01-09T13:12:01.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20b738bd]
2026-01-09T13:12:01.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93d4ebb]
2026-01-09T13:12:01.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:01.976+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9e4c72] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.976+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d94747c] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.976+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440d60f3] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:01.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1418281591 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:01.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1417662371 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:01.978+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665232991 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:01.978+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.983+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:01.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:01.985+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:02.000+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:02.000+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:02.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:02.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d94747c]
2026-01-09T13:12:02.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@440d60f3]
2026-01-09T13:12:02.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9e4c72]
2026-01-09T13:12:02.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:02.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:02.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:02.022+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:02.038+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:02.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:12:02.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:02.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:02.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:04.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:12:04.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:12:04.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:04.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:12:04.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:12:04.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:04.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:12:04.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:12:04.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:04.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:12:04.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:12:04.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:04.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:12:04.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:04.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:12:04.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:04.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:12:04.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:12:04.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:12:04.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:12:04.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:12:04.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:04.558+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:04.631+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:04.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:04.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:12:04.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:04.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:12:04.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:04.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:12:04.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:12:04.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:12:04.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:04.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:12:04.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:04.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:12:04.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:12:04.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:04.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108e22bf] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:04.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:04.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:04.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:12:04.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:12:04.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f92565] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.683+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@626072912 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:04.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74f0eb17] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a2a7f81] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3abb89af] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c090203] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1713204909 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:04.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:04.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315895967 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:04.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1152147417 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:04.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974748746 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:04.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1599948442 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:04.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:12:04.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:04.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.704+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:04.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@108e22bf]
2026-01-09T13:12:04.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:12:04.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:04.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3abb89af]
2026-01-09T13:12:04.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74f0eb17]
2026-01-09T13:12:04.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:04.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d796bae] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.715+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f92565]
2026-01-09T13:12:04.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a2a7f81]
2026-01-09T13:12:04.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484706084 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:04.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5321f483] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bce9db5] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2107ba] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:12:04.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1676232400 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:04.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2092661872 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:04.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681ef50b] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380097630 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:04.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c090203]
2026-01-09T13:12:04.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@448679760 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:04.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:12:04.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d796bae]
2026-01-09T13:12:04.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bce9db5]
2026-01-09T13:12:04.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5321f483]
2026-01-09T13:12:04.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@143e28e5] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:04.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d2107ba]
2026-01-09T13:12:04.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42730967 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:04.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c622e6] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542c0e01] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:04.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:04.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991913822 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:04.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@681ef50b]
2026-01-09T13:12:04.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:04.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:12:04.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:04.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:04.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:04.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:04.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:04.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:12:04.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938668085 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:04.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:12:04.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:04.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:04.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:12:04.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@143e28e5]
2026-01-09T13:12:04.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:04.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:12:04.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68234131] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c622e6]
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:04.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eac93b7] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108720093 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:04.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:12:04.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:12:04.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:12:04.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2075191687 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:04.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7618857a] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:04.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:12:04.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542c0e01]
2026-01-09T13:12:04.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1859209293 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:04.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ca195f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:04.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ce86b3] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560111211 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:04.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.796+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1795478389 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:04.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:04.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:12:04.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527f954d] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:04.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68234131]
2026-01-09T13:12:04.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2111466761 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:04.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eac93b7]
2026-01-09T13:12:04.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:04.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:12:04.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7618857a]
2026-01-09T13:12:04.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:12:04.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da25c2c] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ca195f]
2026-01-09T13:12:04.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@804955232 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:04.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.823+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34268396] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:12:04.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:12:04.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:12:04.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111665981 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:04.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:04.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ce86b3]
2026-01-09T13:12:04.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:12:04.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:04.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527f954d]
2026-01-09T13:12:04.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:12:04.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:12:04.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:12:04.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:12:04.847+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:12:04.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d0c6687] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:12:04.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:04.857+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:12:04.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595025814 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:04.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:04.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:12:04.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:04.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c251551] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:04.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:12:04.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5da25c2c]
2026-01-09T13:12:04.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34268396]
2026-01-09T13:12:04.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710362058 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:04.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:04.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:04.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:04.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eca5e22] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.885+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:04.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344d2cd5] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:04.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@519062622 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:04.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:04.891+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.891+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220723803 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:04.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:12:04.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:04.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@880cadf] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.904+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:12:04.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:12:04.914+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:04.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d0c6687]
2026-01-09T13:12:04.916+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10534333 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:04.916+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:12:04.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c251551]
2026-01-09T13:12:04.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.937+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.941+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:04.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:12:04.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77874fa] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:12:04.944+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125b63b4] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.944+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773015756 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:04.947+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:04.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.947+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@643851059 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:04.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:04.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:04.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28fafa3e] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eca5e22]
2026-01-09T13:12:04.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:04.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1839412300 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:04.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344d2cd5]
2026-01-09T13:12:04.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@880cadf]
2026-01-09T13:12:04.986+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77614f8f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042209678 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:04.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:04.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:04.961+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:12:04.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:04.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f26d68f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.970+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c352ac] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:04.983+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:04.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:04.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:12:04.995+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1657830970 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:05.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@187973432 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:05.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77874fa]
2026-01-09T13:12:05.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125b63b4]
2026-01-09T13:12:05.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77614f8f]
2026-01-09T13:12:05.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:12:05.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:05.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2362842f] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1966fb2b] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28fafa3e]
2026-01-09T13:12:05.059+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.060+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:12:05.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.053+09:00 DEBUG 23648 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.054+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736047389 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:05.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1349090672 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:05.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:05.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:05.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:05.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:05.075+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:12:05.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c352ac]
2026-01-09T13:12:05.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f26d68f]
2026-01-09T13:12:05.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:12:05.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:05.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f80eaaf] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c57ee38] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:05.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:05.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376493505 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:05.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1976360339 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:05.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:05.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:12:05.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:05.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2362842f]
2026-01-09T13:12:05.143+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:05.143+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:05.143+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:05.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1966fb2b]
2026-01-09T13:12:05.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:05.151+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:05.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:05.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.153+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f8c502] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.154+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dab297c] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:05.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1a2638] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062329019 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:05.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524599578 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:05.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:05.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613100531 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:12:05.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:05.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:05.162+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcb7079] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:12:05.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:05.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:05.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227577965 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:05.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c57ee38]
2026-01-09T13:12:05.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f80eaaf]
2026-01-09T13:12:05.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:05.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.178+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d967f06] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:05.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdb67ae] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@902512521 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:12:05.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:05.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dab297c]
2026-01-09T13:12:05.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:05.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524186659 wrapping com.mysql.cj.jdbc.ConnectionImpl@6547f1d9] will not be managed by Spring
2026-01-09T13:12:05.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1a2638]
2026-01-09T13:12:05.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f8c502]
2026-01-09T13:12:05.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:05.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495f4384] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:05.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:05.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185db0d3] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2097898266 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:05.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:12:05.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcb7079]
2026-01-09T13:12:05.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120988175 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:12:05.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:12:05.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d967f06]
2026-01-09T13:12:05.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:12:05.197+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344ab494] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:12:05.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1114915548 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:05.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:12:05.204+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cdb67ae]
2026-01-09T13:12:05.208+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.213+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:12:05.216+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:12:05.216+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.218+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:12:05.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:12:05.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:12:05.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@495f4384]
2026-01-09T13:12:05.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:12:05.224+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185db0d3]
2026-01-09T13:12:05.224+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:12:05.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344ab494]
2026-01-09T13:12:05.227+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ada59a] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.228+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:05.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@727553640 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:05.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4313b6ec] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:05.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211796382 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:05.238+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:12:05.244+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:12:05.245+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.248+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18ada59a]
2026-01-09T13:12:05.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:12:05.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbff9d] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4313b6ec]
2026-01-09T13:12:05.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1992231691 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:05.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:12:05.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758294d1] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:12:05.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@737736795 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:12:05.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:12:05.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cbff9d]
2026-01-09T13:12:05.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:12:05.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2f3d99] was not registered for synchronization because synchronization is not active
2026-01-09T13:12:05.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558105270 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:12:05.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758294d1]
2026-01-09T13:12:05.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:12:05.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:12:05.307+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:12:05.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:12:05.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:12:05.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d2f3d99]
2026-01-09T13:12:05.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:12:05.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:12:05.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:20.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:20.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:13:20.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:13:20.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:13:20.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:13:20.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:13:20.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:20.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:13:20.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:13:20.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:20.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:13:20.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:13:20.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:13:20.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:20.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:13:20.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:13:20.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:13:20.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:13:20.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:20.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:13:20.847+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:13:20.847+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:13:20.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:13:20.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:13:20.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:20.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:13:20.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:13:20.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:13:20.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:13:20.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:13:20.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:13:20.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:13:20.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:13:20.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd0776c] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:13:20.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a12d681] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4992335d] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:13:20.856+09:00  INFO 23648 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:13:20.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:13:20.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709341836 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:20.863+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ac4bf8] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@293655691 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:20.865+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:13:20.864+09:00  INFO 23648 --- [http-nio-8080-exec-11] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:13:20.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26fb95d8] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1110661259 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:20.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:13:20.865+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:20.865+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@553300839 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:20.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1153492403 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:20.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:13:20.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:20.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a58e384] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.871+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:13:20.872+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:13:20.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:13:20.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:13:20.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1413298031 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:20.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:20.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a12d681]
2026-01-09T13:13:20.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4992335d]
2026-01-09T13:13:20.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:13:20.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:20.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:20.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1933bfdb] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:13:20.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:20.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103964799 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:20.885+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:20.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fd0776c]
2026-01-09T13:13:20.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:13:20.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:13:20.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:13:20.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f9ffec] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ac4bf8]
2026-01-09T13:13:20.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26fb95d8]
2026-01-09T13:13:20.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1431884573 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:20.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:20.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:13:20.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:13:20.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:20.904+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a860e4b] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a58e384]
2026-01-09T13:13:20.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:13:20.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1933bfdb]
2026-01-09T13:13:20.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:20.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@472133067 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:20.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:20.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:20.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:13:20.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:13:20.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17100d62] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.912+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.913+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:20.914+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1595025079 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:20.916+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:13:20.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:20.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f9ffec]
2026-01-09T13:13:20.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:20.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:13:20.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:20.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a860e4b]
2026-01-09T13:13:20.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:13:20.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:20.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17100d62]
2026-01-09T13:13:20.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b52d84e] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16966679] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346590811 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:20.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:13:20.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24773332 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:20.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.929+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:13:20.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:13:20.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b52d84e]
2026-01-09T13:13:20.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b45853d] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918075059 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:20.936+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:13:20.936+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:13:20.936+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:13:20.936+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16966679]
2026-01-09T13:13:20.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4caf39aa] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:13:20.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1773091816 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:20.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b45853d]
2026-01-09T13:13:20.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:20.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:20.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:20.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54700077] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:20.941+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594221993 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:20.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:20.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:20.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:20.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4caf39aa]
2026-01-09T13:13:20.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:20.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:13:20.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:20.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:20.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54700077]
2026-01-09T13:13:20.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:20.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:13:20.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:22.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:13:22.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:13:22.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:22.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:22.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:13:22.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:13:22.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:13:22.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:22.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:22.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:13:22.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:13:22.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:13:22.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:22.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:13:22.956+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:13:22.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:13:22.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:13:22.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:13:22.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:22.969+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:13:22.969+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:13:22.969+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:13:22.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:13:22.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:13:22.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:22.973+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:13:22.973+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:13:22.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:13:22.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:13:22.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:13:22.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:22.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:13:22.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:13:22.980+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:13:22.981+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:13:22.981+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:13:22.985+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:22.986+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:13:22.986+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:13:22.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:13:22.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:22.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:22.996+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e0c57ff] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:22.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:22.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:13:22.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:13:22.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:13:22.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73df209] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085927215 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4a0435] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cbc6e51] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b30356] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8d8950] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.015+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830420468 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184134929 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@951945921 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:23.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:13:23.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e0c57ff]
2026-01-09T13:13:23.022+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.023+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148449255 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:13:23.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329237930 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.030+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:13:23.032+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eedc202] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73df209]
2026-01-09T13:13:23.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915284306 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:13:23.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:13:23.086+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cbc6e51]
2026-01-09T13:13:23.086+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e4a0435]
2026-01-09T13:13:23.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.086+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:13:23.086+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b30356]
2026-01-09T13:13:23.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0e6767] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.090+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.090+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:13:23.090+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93644679 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a8d8950]
2026-01-09T13:13:23.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:13:23.099+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec1319e] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.099+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.103+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@467889053 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eedc202]
2026-01-09T13:13:23.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66832317] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:13:23.104+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:23.104+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1840026762 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:13:23.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:23.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8727f7] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:13:23.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:23.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1024070039 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:13:23.118+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:23.118+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.120+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:23.135+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.136+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec1319e]
2026-01-09T13:13:23.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c0e6767]
2026-01-09T13:13:23.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@655092e5] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.151+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66832317]
2026-01-09T13:13:23.151+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042305937 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.162+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b0bce7] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.163+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.163+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12714a3d] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf8683] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@855355245 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442567212 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125170230 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:13:23.176+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:13:23.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:13:23.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.188+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:13:23.188+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:13:23.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d8727f7]
2026-01-09T13:13:23.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:13:23.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:13:23.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bb441f] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:13:23.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1022847584 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:13:23.200+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@655092e5]
2026-01-09T13:13:23.200+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf8683]
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d12956] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b0bce7]
2026-01-09T13:13:23.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12714a3d]
2026-01-09T13:13:23.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126e043] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3106a3] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036252876 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.206+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf67d65] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.204+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2090898810 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.204+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@253191738 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.204+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.206+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d90001] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.206+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869202564 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.210+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.208+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.208+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@490985849 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:23.208+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bb441f]
2026-01-09T13:13:23.208+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.210+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.214+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.215+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.216+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:13:23.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126e043]
2026-01-09T13:13:23.216+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@627814bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.218+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.221+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1886469969 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:13:23.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:13:23.224+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.224+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e3106a3]
2026-01-09T13:13:23.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.224+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50d90001]
2026-01-09T13:13:23.224+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf67d65]
2026-01-09T13:13:23.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:13:23.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@398c0c6e] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.230+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.231+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:13:23.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609433570 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:13:23.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:13:23.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:13:23.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:13:23.237+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.237+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d12956]
2026-01-09T13:13:23.238+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:13:23.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@627814bd]
2026-01-09T13:13:23.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.243+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:13:23.246+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:23.248+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:13:23.249+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.250+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2784e33c] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.251+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:13:23.253+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:23.253+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:13:23.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446ba93d] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.255+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906945795 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:13:23.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:23.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:13:23.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1712619761 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:13:23.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:23.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@398c0c6e]
2026-01-09T13:13:23.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5191183a] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:13:23.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:23.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216930742 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.265+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332b096e] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606484fe] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961678304 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281277648 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bd1ce80] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2784e33c]
2026-01-09T13:13:23.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:13:23.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:13:23.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217751280 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:23.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446ba93d]
2026-01-09T13:13:23.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4080ebcb] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075670500 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5191183a]
2026-01-09T13:13:23.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:13:23.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2e5c3b] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:13:23.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332b096e]
2026-01-09T13:13:23.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.315+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606484fe]
2026-01-09T13:13:23.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1712660642 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:13:23.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@378633e5] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1854909927 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bbd47b] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1564270790 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:13:23.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:13:23.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:13:23.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bd1ce80]
2026-01-09T13:13:23.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:23.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b135e39] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:23.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@771962389 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:23.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:13:23.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:13:23.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:23.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bbd47b]
2026-01-09T13:13:23.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f2e5c3b]
2026-01-09T13:13:23.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@378633e5]
2026-01-09T13:13:23.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4080ebcb]
2026-01-09T13:13:23.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:23.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@700f51f3] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:23.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5143a14] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0edbcc] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c7c889] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@924201610 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120612033 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@55349682 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332978383 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6c8247] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:13:23.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1086776210 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b135e39]
2026-01-09T13:13:23.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:13:23.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:13:23.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:13:23.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@700f51f3]
2026-01-09T13:13:23.447+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:13:23.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e0edbcc]
2026-01-09T13:13:23.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5143a14]
2026-01-09T13:13:23.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c7c889]
2026-01-09T13:13:23.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.464+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0c1ab0] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:23.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6c8247]
2026-01-09T13:13:23.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:13:23.464+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.464+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ee2fbd] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1869368671 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b3e97bc] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:23.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.470+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac2f2ee] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.470+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@826691063 wrapping com.mysql.cj.jdbc.ConnectionImpl@194cfc3] will not be managed by Spring
2026-01-09T13:13:23.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1350262310 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:23.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1642784959 wrapping com.mysql.cj.jdbc.ConnectionImpl@736fd559] will not be managed by Spring
2026-01-09T13:13:23.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:23.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:13:23.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:23.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:23.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:13:23.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b3a97ad] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:13:23.537+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49ee2fbd]
2026-01-09T13:13:23.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0c1ab0]
2026-01-09T13:13:23.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b3e97bc]
2026-01-09T13:13:23.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302873201 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:13:23.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:23.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:13:23.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c346fe] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:23.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:13:23.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac2f2ee]
2026-01-09T13:13:23.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033262476 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:23.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:13:23.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:13:23.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:23.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:23.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:13:23.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:13:23.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:13:23.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2faea417] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:13:23.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.615+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1151711477 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.616+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:13:23.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:13:23.623+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b3a97ad]
2026-01-09T13:13:23.624+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c346fe]
2026-01-09T13:13:23.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6bece8] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155dc5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.631+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88310263 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:13:23.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@3586270 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:23.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5688cee1] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@515147384 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:13:23.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:13:23.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:13:23.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5688cee1]
2026-01-09T13:13:23.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2faea417]
2026-01-09T13:13:23.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6bece8]
2026-01-09T13:13:23.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed04c21] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:13:23.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@335857648 wrapping com.mysql.cj.jdbc.ConnectionImpl@2bccfa42] will not be managed by Spring
2026-01-09T13:13:23.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:13:23.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@155dc5b]
2026-01-09T13:13:23.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:13:23.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a23c66] was not registered for synchronization because synchronization is not active
2026-01-09T13:13:23.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597669677 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:13:23.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:13:23.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:13:23.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed04c21]
2026-01-09T13:13:23.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:13:23.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70a23c66]
2026-01-09T13:13:23.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:13:23.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:13:23.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:13:23.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:51.261+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:17:51.261+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:17:51.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:51.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:17:51.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:17:51.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:51.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:17:51.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:17:51.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:17:51.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:51.314+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:51.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:17:51.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:17:51.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:17:51.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:51.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:17:51.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:51.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:17:51.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:17:51.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:51.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:17:51.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:51.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:17:51.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:17:51.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:51.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:17:51.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:51.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:17:51.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:17:51.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:17:51.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:17:51.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:51.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:17:51.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:51.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:17:51.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:17:51.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:17:51.359+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:51.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:17:51.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:51.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:17:51.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:17:51.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:51.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:17:51.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.380+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60e6fffe] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:17:51.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:17:51.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fa5fec] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21d366e5] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7286100] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e89a94f] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676ed89a] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.447+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849698687 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:51.447+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2074911895 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604839080 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887512204 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:51.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1246208578 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:51.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:51.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:17:51.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:51.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:17:51.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:17:51.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:51.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:17:51.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:51.548+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60e6fffe]
2026-01-09T13:17:51.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21d366e5]
2026-01-09T13:17:51.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7286100]
2026-01-09T13:17:51.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e89a94f]
2026-01-09T13:17:51.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fa5fec]
2026-01-09T13:17:51.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197268399 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:17:51.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65ca608f] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cad02c0] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:17:51.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5738613f] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084583643 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139381694 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:51.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.584+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1546459839 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:51.623+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:17:51.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.599+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:17:51.624+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:17:51.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:17:51.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:17:51.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676ed89a]
2026-01-09T13:17:51.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:17:51.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:17:51.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:17:51.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:17:51.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebd0191] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:17:51.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@128114329 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c4ba4d] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a90630] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@686091807 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:51.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5738613f]
2026-01-09T13:17:51.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@45643074 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:51.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65ca608f]
2026-01-09T13:17:51.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cad02c0]
2026-01-09T13:17:51.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:51.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:51.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65517bec] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.662+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:51.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebd0191]
2026-01-09T13:17:51.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395237329 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:17:51.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:51.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-09T13:17:51.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:51.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:51.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164d647a] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1345998507 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:17:51.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:51.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:17:51.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:51.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:17:51.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69a90630]
2026-01-09T13:17:51.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:51.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49c4ba4d]
2026-01-09T13:17:51.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:17:51.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:51.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:17:51.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:51.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65517bec]
2026-01-09T13:17:51.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc928e2] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:51.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a21a22] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f68be3] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48116437] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665976246 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:51.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1549326505 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:51.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1284905546 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117467663 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:51.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3ddf61] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:17:51.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387826710 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:51.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-09T13:17:51.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:51.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:17:51.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:51.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-09T13:17:51.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22f68be3]
2026-01-09T13:17:51.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a21a22]
2026-01-09T13:17:51.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164d647a]
2026-01-09T13:17:51.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a3ddf61]
2026-01-09T13:17:51.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc928e2]
2026-01-09T13:17:51.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48116437]
2026-01-09T13:17:51.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d3009d] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a299c4f] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830499727 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:51.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae59d07] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.765+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562af09c] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba18d00] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2081860474 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:17:51.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:17:51.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@393632405 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1925770223 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:51.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268116142 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:51.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:17:51.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:17:51.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:51.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:17:51.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:17:51.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:51.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:17:51.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:17:51.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:17:51.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11d3009d]
2026-01-09T13:17:51.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:17:51.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.796+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:17:51.796+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620436d4] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.796+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809454561 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:51.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab3a282] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076340037 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:51.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:17:51.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:17:51.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a299c4f]
2026-01-09T13:17:51.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ae59d07]
2026-01-09T13:17:51.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562af09c]
2026-01-09T13:17:51.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@620436d4]
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a42e1d0] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:17:51.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4e534e] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ab3a282]
2026-01-09T13:17:51.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:51.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@212851507 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba18d00]
2026-01-09T13:17:51.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055601253 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:17:51.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:51.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:17:51.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:17:51.822+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:17:51.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:51.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@556c039a] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:17:51.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:17:51.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:17:51.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:17:51.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@41045434 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:51.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:51.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:17:51.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:17:51.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:51.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:51.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:17:51.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:17:51.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:17:51.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:17:51.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:17:51.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:51.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:51.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a42e1d0]
2026-01-09T13:17:51.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:17:51.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c4e534e]
2026-01-09T13:17:51.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:51.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23464a4c] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.865+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@127a3c55] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:51.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498668644 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:51.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a76790] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.863+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:17:51.865+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4a66dd] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558235511 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:51.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:51.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@223759413 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:51.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@556c039a]
2026-01-09T13:17:51.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409985010 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:51.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:51.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e3d7ff] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:51.871+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:51.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:51.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:51.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:51.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2101112065 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:51.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:17:51.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:51.884+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:51.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:51.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:17:51.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:51.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:51.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:17:52.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23464a4c]
2026-01-09T13:17:52.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30a76790]
2026-01-09T13:17:52.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6506ed76] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.036+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855360417 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:52.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:17:52.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4a66dd]
2026-01-09T13:17:52.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@127a3c55]
2026-01-09T13:17:52.031+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:17:52.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:17:52.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43015a01] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e242ffd] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:17:52.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f65e9c3] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@5918368 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:52.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@262214239 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:52.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:17:52.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1623596156 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:52.076+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.076+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.075+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:17:52.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:17:52.080+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:17:52.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:52.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.103+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6506ed76]
2026-01-09T13:17:52.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19e3d7ff]
2026-01-09T13:17:52.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43015a01]
2026-01-09T13:17:52.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f65e9c3]
2026-01-09T13:17:52.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@206a56e5] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e242ffd]
2026-01-09T13:17:52.110+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34148f6b] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1662631427 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:52.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de7dc6e] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343b0dde] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4868ee02] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@607081435 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:52.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868098553 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:52.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc1547d] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@861960329 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:52.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24142940 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:52.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:52.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:17:52.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353041343 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:52.118+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:17:52.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:17:52.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:52.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:17:52.196+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:17:52.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:17:52.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@206a56e5]
2026-01-09T13:17:52.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:17:52.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:17:52.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:17:52.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343b0dde]
2026-01-09T13:17:52.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc1547d]
2026-01-09T13:17:52.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3de7dc6e]
2026-01-09T13:17:52.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34148f6b]
2026-01-09T13:17:52.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4868ee02]
2026-01-09T13:17:52.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:17:52.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3bf8f2] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5585edbc] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:52.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423377332 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:52.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:17:52.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7414c98b] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1519518192 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:52.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.347+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:52.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693155253 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:52.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:52.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:52.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:52.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:52.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:17:52.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:52.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:52.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:17:52.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:17:52.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:52.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:52.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:52.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:52.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:17:52.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:52.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@407475af] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:52.407+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a70ff6] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1104925485 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:52.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:52.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@181809792 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:52.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:52.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:17:52.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5585edbc]
2026-01-09T13:17:52.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:52.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:52.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:52.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7414c98b]
2026-01-09T13:17:52.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3bf8f2]
2026-01-09T13:17:52.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:52.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:17:52.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:17:52.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:17:52.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f26b8f] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:17:52.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608950962 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:52.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:17:52.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:52.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:17:52.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:52.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:52.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:52.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:52.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:17:52.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:17:52.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:52.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:17:52.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:17:52.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e71209] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:52.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:52.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:17:52.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:17:52.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122438021 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:52.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@407475af]
2026-01-09T13:17:52.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49a70ff6]
2026-01-09T13:17:52.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16594e78] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@358544497 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:17:52.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:17:52.464+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:17:52.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:52.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f26b8f]
2026-01-09T13:17:52.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf6d9df] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@805534013 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:17:52.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:52.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20273898] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134426174 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:17:52.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eeb26e4] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1069701232 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:17:52.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0e934b] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.535+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.535+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:17:52.535+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061892419 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:52.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20273898]
2026-01-09T13:17:52.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16594e78]
2026-01-09T13:17:52.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bf6d9df]
2026-01-09T13:17:52.551+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:17:52.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:17:52.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:52.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:17:52.558+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:52.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:52.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eeb26e4]
2026-01-09T13:17:52.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e71209]
2026-01-09T13:17:52.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:52.582+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6884cc6f] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@900656172 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:17:52.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:17:52.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a0e934b]
2026-01-09T13:17:52.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:17:52.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c05d0cc] was not registered for synchronization because synchronization is not active
2026-01-09T13:17:52.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391434444 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:17:52.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:17:52.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:17:52.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6884cc6f]
2026-01-09T13:17:52.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:17:52.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:52.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c05d0cc]
2026-01-09T13:17:52.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:17:52.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:17:52.663+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:17:52.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:15.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:15.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:15.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:18:15.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:18:15.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:18:15.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:18:15.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:15.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:15.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:15.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:15.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:15.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:15.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:15.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:15.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:18:15.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:18:15.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.516+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:15.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:18:15.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24827341] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:18:15.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:18:15.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:18:15.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:15.532+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:18:15.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:18:15.534+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:18:15.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:18:15.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:18:15.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:18:15.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:18:15.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384528575 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:15.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778915f0] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:18:15.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:18:15.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:18:15.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:18:15.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:15.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:18:15.566+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aab8e2d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.567+09:00  INFO 23648 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:18:15.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:18:15.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:15.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:18:15.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307444307 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:15.582+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.584+09:00  INFO 23648 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:18:15.584+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:15.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452251011 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:15.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:18:15.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea24223] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4279dcfc] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.597+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:15.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d8030b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:15.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24827341]
2026-01-09T13:18:15.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305439273 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:15.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:15.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@512835223 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:15.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:18:15.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778915f0]
2026-01-09T13:18:15.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:18:15.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1267ed2a] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:15.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:15.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353936735 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:15.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:15.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:15.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:15.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:15.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1394472345 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:15.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:18:15.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:18:15.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aab8e2d]
2026-01-09T13:18:15.662+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:15.662+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:18:15.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1267ed2a]
2026-01-09T13:18:15.663+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:15.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4279dcfc]
2026-01-09T13:18:15.671+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:15.671+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64994964] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:18:15.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:15.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714171034 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:15.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea24223]
2026-01-09T13:18:15.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2425477d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:15.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:18:15.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:18:15.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:15.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667487206 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:15.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d8030b]
2026-01-09T13:18:15.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:18:15.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:18:15.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:15.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:15.715+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:18:15.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:15.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:18:15.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:18:15.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2425477d]
2026-01-09T13:18:15.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64994964]
2026-01-09T13:18:15.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271ee09a] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6ce63] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697189803 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:15.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722105808 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:15.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:18:15.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:18:15.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:18:15.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:18:15.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271ee09a]
2026-01-09T13:18:15.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f6ce63]
2026-01-09T13:18:15.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2943a21b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf29208] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030673305 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:15.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143606819 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:15.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:18:15.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:18:15.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:15.765+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:18:15.765+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:18:15.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2943a21b]
2026-01-09T13:18:15.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf29208]
2026-01-09T13:18:15.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:15.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b15e0c2] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f6788] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:15.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878180545 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:15.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207119491 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:15.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:15.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:15.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:15.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:15.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:15.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:15.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f6788]
2026-01-09T13:18:15.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b15e0c2]
2026-01-09T13:18:15.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:15.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:15.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:18:15.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:18:15.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:15.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:22.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:22.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:22.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:18:22.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:22.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:18:22.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:22.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:23.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:23.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:18:23.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:23.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:18:23.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:23.575+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:23.575+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:23.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:23.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:23.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:23.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:23.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:23.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:23.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe80150] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:23.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:23.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:18:23.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:23.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:23.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:18:23.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:23.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:23.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:23.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:18:23.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:18:23.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:23.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:23.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:18:23.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:23.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:18:23.822+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:23.823+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:18:23.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:23.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:18:23.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:23.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:23.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:23.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:23.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:23.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1688361826 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:23.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:23.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e114a72] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:23.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:23.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d3eae4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:23.929+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527fbdaf] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:23.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a471641] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:23.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:23.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:23.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:23.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:18:23.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1288581439 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:23.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1500612708 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:23.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878597460 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:23.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799531696 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:23.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:23.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:23.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:23.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:23.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:23.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:23.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:23.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:23.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:23.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c49149] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:23.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:23.968+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:23.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe80150]
2026-01-09T13:18:24.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:24.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:24.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d3eae4]
2026-01-09T13:18:24.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527fbdaf]
2026-01-09T13:18:24.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e114a72]
2026-01-09T13:18:24.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164233dd] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.016+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465146938 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:24.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a135cf7] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:24.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73556cd4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@518489606 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.032+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.032+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119696348 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:24.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1246849408 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:18:24.046+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:24.047+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a471641]
2026-01-09T13:18:24.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:24.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cfb6d7] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:24.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@803525395 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:24.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a135cf7]
2026-01-09T13:18:24.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164233dd]
2026-01-09T13:18:24.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73556cd4]
2026-01-09T13:18:24.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:24.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a889c98] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6fe5fc] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54c49149]
2026-01-09T13:18:24.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:24.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:24.076+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1208108755 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1871440386 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:24.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.075+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:24.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.079+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1552fa09] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:24.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:18:24.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:24.131+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:24.143+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1952523560 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:24.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:24.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:24.176+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:24.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42cfb6d7]
2026-01-09T13:18:24.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:18:24.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:18:24.188+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:24.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:24.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6fe5fc]
2026-01-09T13:18:24.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3834c410] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23db1006] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:24.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a889c98]
2026-01-09T13:18:24.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.197+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d988c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@468404108 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:24.196+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471692196 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.197+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.197+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@116247984 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:24.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:24.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f89fb6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffcc6a5] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.199+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:24.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:18:24.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139265033 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@827259806 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:24.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.211+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1552fa09]
2026-01-09T13:18:24.229+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.230+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335e6d0f] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.216+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@836656095 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.261+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:18:24.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:24.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23db1006]
2026-01-09T13:18:24.265+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3834c410]
2026-01-09T13:18:24.265+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d988c]
2026-01-09T13:18:24.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@258d1b4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a01d6e4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:24.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1750847627 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1361164418 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:24.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:24.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:24.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.297+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:18:24.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335e6d0f]
2026-01-09T13:18:24.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66f89fb6]
2026-01-09T13:18:24.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffcc6a5]
2026-01-09T13:18:24.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:18:24.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.314+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.315+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:24.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@258d1b4]
2026-01-09T13:18:24.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:18:24.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1373094e] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a01d6e4]
2026-01-09T13:18:24.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2006ab] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:24.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:18:24.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401239610 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b6ba] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755449302 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:18:24.347+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:18:24.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1161888325 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.365+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b055a0] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@415689152 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:24.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:24.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:24.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:24.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:24.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1373094e]
2026-01-09T13:18:24.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0b6ba]
2026-01-09T13:18:24.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f2006ab]
2026-01-09T13:18:24.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:24.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:24.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:24.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:24.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:18:24.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:24.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b808b0e] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:18:24.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307f51e] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:24.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:24.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1877054882 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211664523 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:24.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:24.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ede1df] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:18:24.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:24.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@671982841 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b055a0]
2026-01-09T13:18:24.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b82f46b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:24.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@602477571 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:24.531+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.531+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490bc75c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:24.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:24.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256939656 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:24.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b808b0e]
2026-01-09T13:18:24.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:24.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13098fad] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@226e2380] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084482617 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:24.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@632631499 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:24.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:24.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:24.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:24.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307f51e]
2026-01-09T13:18:24.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ede1df]
2026-01-09T13:18:24.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:24.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba8f132] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735f9d7c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389762652 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728000977 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:24.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:24.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:24.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.599+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b82f46b]
2026-01-09T13:18:24.599+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13098fad]
2026-01-09T13:18:24.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@226e2380]
2026-01-09T13:18:24.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490bc75c]
2026-01-09T13:18:24.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a935eaa] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42baf423] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@643750463 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.613+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af3c782] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c1b643] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496074558 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.615+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.615+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035454847 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:24.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@107454976 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:24.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@735f9d7c]
2026-01-09T13:18:24.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba8f132]
2026-01-09T13:18:24.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:24.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:18:24.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da5f2d8] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6897a480] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:18:24.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a935eaa]
2026-01-09T13:18:24.665+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1922966637 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42baf423]
2026-01-09T13:18:24.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73071041 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c1b643]
2026-01-09T13:18:24.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2af3c782]
2026-01-09T13:18:24.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:24.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:24.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:18:24.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:24.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12526ad6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.683+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:24.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@238925169 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:24.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:24.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:24.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:24.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:24.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:24.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da5f2d8]
2026-01-09T13:18:24.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:24.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6897a480]
2026-01-09T13:18:24.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219bd926] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954400817 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:24.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:24.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:24.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:24.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d51de1b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:24.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27755138 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:24.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:24.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:24.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:24.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:24.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12526ad6]
2026-01-09T13:18:24.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:24.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:18:24.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:24.750+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:24.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e305b6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323917310 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:24.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:24.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:24.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:24.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:24.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:24.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:24.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f55af] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:24.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202184063 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:24.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:24.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:24.969+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:24.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:24.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:24.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:24.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8c019b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:25.000+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134539470 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:24.847+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:24.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:24.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:24.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:25.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:25.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219bd926]
2026-01-09T13:18:25.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:25.015+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e28c00f] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:25.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50e305b6]
2026-01-09T13:18:25.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d51de1b]
2026-01-09T13:18:25.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:25.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:18:25.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:25.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:25.015+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1636136965 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:25.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:25.023+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:25.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:25.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:25.047+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:25.048+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:25.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:25.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:25.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8c019b]
2026-01-09T13:18:25.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73f55af]
2026-01-09T13:18:25.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:25.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:25.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef2b60] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:25.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525858fd] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:25.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235247871 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:25.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@792198452 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:25.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:25.083+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:25.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:25.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:25.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:25.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e28c00f]
2026-01-09T13:18:25.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:25.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@977e27f] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:25.093+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1359442918 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:25.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:25.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:25.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:25.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525858fd]
2026-01-09T13:18:25.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ef2b60]
2026-01-09T13:18:25.095+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:25.096+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:25.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:25.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:25.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:25.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:25.099+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:25.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:25.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@977e27f]
2026-01-09T13:18:25.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:25.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780a249e] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:25.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322800634 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:25.130+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:25.131+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:25.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:25.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780a249e]
2026-01-09T13:18:25.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:25.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:18:25.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:26.240+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:26.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:26.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:18:26.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:18:26.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:18:26.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:18:26.246+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:26.249+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:26.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:18:26.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:26.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:26.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:26.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:18:26.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:26.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:26.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:18:26.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:18:26.261+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:18:26.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:26.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:26.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:18:26.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:18:26.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:18:26.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:18:26.265+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:26.265+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:18:26.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:18:26.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:18:26.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:18:26.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d89ef77] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb4eb28] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:18:26.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:18:26.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:18:26.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5eb1a6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:18:26.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@823993397 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:26.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:18:26.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@507809368 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:26.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:18:26.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:18:26.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:26.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@194507734 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:26.277+09:00  INFO 23648 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:18:26.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:18:26.278+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.278+09:00  INFO 23648 --- [http-nio-8080-exec-11] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:18:26.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:26.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:26.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:26.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b260] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:26.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c1e9b66] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d89ef77]
2026-01-09T13:18:26.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8e95d5] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:18:26.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57057471 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:26.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.289+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@972393521 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:26.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:26.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb4eb28]
2026-01-09T13:18:26.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1499633267 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:26.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:18:26.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7164a22c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:18:26.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5eb1a6]
2026-01-09T13:18:26.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:18:26.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:26.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:26.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb5f7d6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:26.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1612216784 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:26.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:26.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@254125752 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:26.297+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:26.298+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:18:26.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:18:26.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:26.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:18:26.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:26.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b260]
2026-01-09T13:18:26.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d8e95d5]
2026-01-09T13:18:26.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1881b6b9] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:26.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:18:26.315+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331936553 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:26.315+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:18:26.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c1e9b66]
2026-01-09T13:18:26.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:18:26.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:26.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:18:26.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:26.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:26.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb5f7d6]
2026-01-09T13:18:26.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7164a22c]
2026-01-09T13:18:26.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:18:26.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83d6d37] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:26.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:26.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1549938849 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:26.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:18:26.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:26.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:18:26.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:26.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1881b6b9]
2026-01-09T13:18:26.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58007bb5] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302407794 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:26.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:18:26.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:18:26.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83d6d37]
2026-01-09T13:18:26.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5789efc] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1716457393 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:26.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:18:26.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:18:26.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58007bb5]
2026-01-09T13:18:26.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:18:26.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52fb8f48] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5789efc]
2026-01-09T13:18:26.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@167615345 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:26.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:18:26.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71f1be9b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:18:26.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425645969 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:26.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:26.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:26.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:26.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:18:26.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71f1be9b]
2026-01-09T13:18:26.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52fb8f48]
2026-01-09T13:18:26.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:26.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:26.358+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:18:26.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734bb48d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:26.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1619494784 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:26.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:26.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:26.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:26.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:26.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734bb48d]
2026-01-09T13:18:26.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:26.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:18:26.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:27.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:27.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:27.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:18:27.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:27.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:27.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:18:27.995+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:27.996+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:27.997+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:18:27.999+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:28.000+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:18:28.000+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:28.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:28.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:28.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:28.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:28.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:18:28.016+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:28.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:28.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:28.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:28.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:18:28.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:28.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:28.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:28.022+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:28.023+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:28.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:18:28.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:18:28.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:18:28.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:28.029+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:28.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:28.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:28.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:18:28.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:18:28.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:28.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.048+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:28.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:18:28.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:18:28.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:28.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:28.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f189600] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4055c269] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.059+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:28.060+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.060+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.061+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:28.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ed2970] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2149c781] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5785d2fe] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1915187611 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@149095b8] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@255946143 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@599790838 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:28.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169564242 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.075+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@706811669 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:28.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723244342 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.079+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.080+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2149c781]
2026-01-09T13:18:28.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:28.083+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:28.096+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4055c269]
2026-01-09T13:18:28.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1156e1e8] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f189600]
2026-01-09T13:18:28.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:18:28.099+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.099+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934074338 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.101+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ed2970]
2026-01-09T13:18:28.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:28.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75275922] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1330433111 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:28.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691cf322] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:28.118+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:28.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1232119758 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5785d2fe]
2026-01-09T13:18:28.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@149095b8]
2026-01-09T13:18:28.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:28.179+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe8d14d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@405654199 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:28.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1156e1e8]
2026-01-09T13:18:28.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.196+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d679bf] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.196+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2725164 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.197+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736569ed] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.184+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.184+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:28.200+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540453006 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.250+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.250+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.264+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:28.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:28.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75275922]
2026-01-09T13:18:28.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@691cf322]
2026-01-09T13:18:28.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26d679bf]
2026-01-09T13:18:28.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f0406a] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.314+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291764074 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.314+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0f0210] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ee93957] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:28.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1434742704 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908649971 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe8d14d]
2026-01-09T13:18:28.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:28.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:18:28.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:28.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:28.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:18:28.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:28.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:28.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736569ed]
2026-01-09T13:18:28.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f0406a]
2026-01-09T13:18:28.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354b4dec] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:28.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:18:28.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860417599 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:28.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:28.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:18:28.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:18:28.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fd55b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.363+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:28.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:18:28.365+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ee93957]
2026-01-09T13:18:28.365+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0f0210]
2026-01-09T13:18:28.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:28.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1496186524 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:28.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:28.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd0822c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:28.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860965892 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7152195b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c5cdf9] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430275939 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462310954 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:28.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:18:28.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@354b4dec]
2026-01-09T13:18:28.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:18:28.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:28.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41624d7c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:18:28.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15fd55b]
2026-01-09T13:18:28.430+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@782851217 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.430+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:18:28.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dd0822c]
2026-01-09T13:18:28.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22831cf3] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:18:28.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569321205 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:18:28.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ec90ca] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:28.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41624d7c]
2026-01-09T13:18:28.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fee058d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010085025 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7152195b]
2026-01-09T13:18:28.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811838362 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c5cdf9]
2026-01-09T13:18:28.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:28.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:28.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c303466] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311b91ea] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:28.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2110353018 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2071672885 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:28.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.513+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:28.514+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:28.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22831cf3]
2026-01-09T13:18:28.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:18:28.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fee058d]
2026-01-09T13:18:28.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1f766f] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.531+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.532+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:28.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812309673 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a07bb9] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:28.534+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.534+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534971085 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:28.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:28.535+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:28.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:28.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:28.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:18:28.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311284d1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.551+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ec90ca]
2026-01-09T13:18:28.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311b91ea]
2026-01-09T13:18:28.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:28.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:28.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2117285272 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:28.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44a07bb9]
2026-01-09T13:18:28.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c303466]
2026-01-09T13:18:28.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a1f766f]
2026-01-09T13:18:28.558+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a4e609] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5855369d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:28.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@34231511 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730a06b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892102844 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bda364a] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f2ef4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884004570 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:28.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993649235 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085229845 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:28.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.574+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.574+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@311284d1]
2026-01-09T13:18:28.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:28.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a4e609]
2026-01-09T13:18:28.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5855369d]
2026-01-09T13:18:28.581+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:28.582+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730a06b1]
2026-01-09T13:18:28.582+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:28.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.583+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660b19bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.584+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:18:28.584+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b962e92] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31f2ef4a]
2026-01-09T13:18:28.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bda364a]
2026-01-09T13:18:28.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4092d904] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2051067706 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:28.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@125714395 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444996771 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:28.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:28.597+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:28.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.599+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:28.599+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:18:28.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:28.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:28.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:28.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:28.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:28.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:28.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:18:28.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660b19bd]
2026-01-09T13:18:28.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f6c620] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:28.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4092d904]
2026-01-09T13:18:28.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110032498 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:28.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5815f94b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:28.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832453053 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.646+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b962e92]
2026-01-09T13:18:28.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f9f1f4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c4a73b2] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2051462598 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:28.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:28.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188907805 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:18:28.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:28.662+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.665+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:28.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:28.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38f6c620]
2026-01-09T13:18:28.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:28.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c4a73b2]
2026-01-09T13:18:28.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5815f94b]
2026-01-09T13:18:28.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:18:28.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5a394] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@82231e3] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048759667 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2139770381 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:28.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:28.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:28.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f9f1f4]
2026-01-09T13:18:28.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:28.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185c56af] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371483137 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:28.683+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:28.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@82231e3]
2026-01-09T13:18:28.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5a394]
2026-01-09T13:18:28.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:28.689+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f46d1cb] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122126004 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@185c56af]
2026-01-09T13:18:28.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:28.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f46d1cb]
2026-01-09T13:18:28.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9cd910] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1917682977 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:28.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:28.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:28.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b9cd910]
2026-01-09T13:18:28.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:28.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a2772d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:28.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1828415056 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:28.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:28.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:28.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:28.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a2772d]
2026-01-09T13:18:28.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:28.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:18:28.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:28.963+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:28.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:29.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:29.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:29.153+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:29.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:29.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:29.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:29.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:29.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:29.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:29.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:29.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba7b311] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.188+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ad555ab] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@969860355 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.200+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080239675 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:29.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:29.209+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:29.210+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:29.211+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:29.247+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:29.247+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:29.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ba7b311]
2026-01-09T13:18:29.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ad555ab]
2026-01-09T13:18:29.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b74d044] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49503bbd] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628247766 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339141312 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:29.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:29.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:29.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:29.278+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:29.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:29.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:29.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b74d044]
2026-01-09T13:18:29.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49503bbd]
2026-01-09T13:18:29.316+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:29.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:29.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:29.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:29.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:29.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:29.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2026-01-09T13:18:29.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:18:29.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/12
2026-01-09T13:18:29.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:18:29.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:29.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:29.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2026-01-09T13:18:29.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:29.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:18:29.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:29.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2026-01-09T13:18:29.822+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2026-01-09T13:18:29.823+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2026-01-09T13:18:29.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:29.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:18:29.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:29.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:29.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:18:29.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:18:29.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:29.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:29.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:18:29.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:29.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/12
2026-01-09T13:18:29.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:18:29.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/12
2026-01-09T13:18:29.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce5c297] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:18:29.882+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.882+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27038285] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:18:29.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/12
2026-01-09T13:18:29.884+09:00  INFO 23648 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:18:29.884+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362bdca7] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.892+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:18:29.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680320232 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:18:29.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/12", parameters={}
2026-01-09T13:18:29.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264315652 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:29.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:18:29.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:18:29.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:29.897+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10e39407] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.898+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:18:29.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:29.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9632354] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1903266938 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:29.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:29.901+09:00  INFO 23648 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:18:29.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:18:29.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:29.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:29.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@441698317 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:29.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@352326802 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:29.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ce5c297]
2026-01-09T13:18:29.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27038285]
2026-01-09T13:18:29.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791d4248] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:18:29.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:18:29.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.911+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:29.911+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:29.911+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.912+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df523b0] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.913+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:29.913+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166486660 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:29.913+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@362bdca7]
2026-01-09T13:18:29.914+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1513168012 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:18:29.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:29.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:18:29.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.916+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.917+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:29.917+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19589483] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:18:29.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:18:29.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2035703949 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:29.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10e39407]
2026-01-09T13:18:29.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9632354]
2026-01-09T13:18:29.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:29.929+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7028e10f] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@df523b0]
2026-01-09T13:18:29.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:18:29.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:29.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@923722730 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:29.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791d4248]
2026-01-09T13:18:29.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:18:29.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:29.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e455cf0] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.935+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19589483]
2026-01-09T13:18:29.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@713623083 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:18:29.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:18:29.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:29.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:29.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:18:29.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:29.947+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7028e10f]
2026-01-09T13:18:29.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a28299d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.959+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2101320014 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:29.959+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:18:29.961+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2026-01-09T13:18:29.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 2
2026-01-09T13:18:29.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e455cf0]
2026-01-09T13:18:29.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a28299d]
2026-01-09T13:18:29.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b2cb435] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6125092d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865077628 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.968+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783275605 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:29.968+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:18:29.968+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:18:29.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 12(Long), 1(Long)
2026-01-09T13:18:29.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:18:29.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6125092d]
2026-01-09T13:18:29.978+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b9d3d8] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:18:29.980+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855769187 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:29.980+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b2cb435]
2026-01-09T13:18:29.980+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:29.981+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:29.981+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:29.982+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279922] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:29.982+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772020239 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:29.983+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:29.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:29.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:29.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:29.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27b9d3d8]
2026-01-09T13:18:29.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279922]
2026-01-09T13:18:29.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:29.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2026-01-09T13:18:29.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=12, drafterId=1, r (truncated)...]
2026-01-09T13:18:29.995+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:30.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:36.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:36.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:36.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:18:36.566+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:18:36.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:36.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:36.582+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:36.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:36.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:18:36.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:18:36.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:36.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:36.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:18:36.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:36.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:36.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:36.613+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:36.613+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:36.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:36.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:36.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:36.615+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:36.616+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:18:36.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:36.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:18:36.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:36.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:18:36.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:36.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:36.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:36.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:36.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:36.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:18:36.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:36.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:18:36.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:36.631+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb719ba] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.631+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:18:36.631+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:36.631+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238acb2] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:18:36.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:36.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:18:36.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:36.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:36.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1755580379 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:36.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@519263898 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:36.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5482c90b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c40031] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f465702] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.650+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bce6a6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:36.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:36.663+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785347409 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:36.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@394076431 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:36.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462446515 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:36.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:36.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:36.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:36.671+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2013973354 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:36.671+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:36.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@238acb2]
2026-01-09T13:18:36.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb719ba]
2026-01-09T13:18:36.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:36.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:18:36.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:36.680+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5482c90b]
2026-01-09T13:18:36.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c40031]
2026-01-09T13:18:36.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f465702]
2026-01-09T13:18:36.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:36.684+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d80dd] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:36.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1007781645 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:36.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f6aec1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:36.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1570bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:36.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19bce6a6]
2026-01-09T13:18:36.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794905137 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:36.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@992591916 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:36.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:36.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:36.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b05caa7] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:36.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:36.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1523828643 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:36.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:18:36.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:36.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:36.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d80dd]
2026-01-09T13:18:36.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:36.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:36.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3772c5] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:36.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660936200 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:36.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f6aec1]
2026-01-09T13:18:36.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:18:36.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:18:36.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:18:36.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:18:36.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:18:36.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34c6f288] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b05caa7]
2026-01-09T13:18:36.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982513142 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:36.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e1570bd]
2026-01-09T13:18:36.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a362003] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.784+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:36.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e58355] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906626850 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:36.784+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1615923363 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:36.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b4613b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:36.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:36.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:18:36.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245568764 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:36.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:36.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:36.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:18:36.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:36.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:18:36.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:18:36.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3772c5]
2026-01-09T13:18:36.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:18:36.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aac5ca1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:36.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2058206315 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:36.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ab80c6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.847+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:36.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:36.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:18:36.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:18:36.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1363312769 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:36.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34c6f288]
2026-01-09T13:18:36.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a362003]
2026-01-09T13:18:36.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e58355]
2026-01-09T13:18:36.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b4613b1]
2026-01-09T13:18:36.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f033d3d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a3ee477] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:18:36.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aac5ca1]
2026-01-09T13:18:36.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ebd0549] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2085798631 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:36.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833874699 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:36.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.865+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355294900 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:36.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.872+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:18:36.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b84bab] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:18:36.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@424235625 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:36.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:18:36.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:36.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.891+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23ab80c6]
2026-01-09T13:18:36.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:18:36.891+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:36.892+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.892+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:18:36.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1850b121] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736621917 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:36.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6b6b72] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:36.897+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785114070 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:36.897+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:36.897+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:36.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:36.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f033d3d]
2026-01-09T13:18:36.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:36.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:36.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a3ee477]
2026-01-09T13:18:36.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.929+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ebd0549]
2026-01-09T13:18:36.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1850b121]
2026-01-09T13:18:36.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b84bab]
2026-01-09T13:18:36.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:36.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:36.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.947+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0d3797] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:18:36.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211630b6] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4228be5d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:36.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1189962205 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:36.958+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:36.962+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:36.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1020417036 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:36.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556683424 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:36.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:36.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:18:36.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:36.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:18:36.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:36.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:36.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:36.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b6b6b72]
2026-01-09T13:18:36.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:18:36.980+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:36.981+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:36.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:36.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:36.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:18:36.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:36.997+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:37.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761a8abb] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:18:37.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:37.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b0d3797]
2026-01-09T13:18:37.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@912936945 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:37.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:37.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae079b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e70b2c] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208818843 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:37.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27d70da4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:37.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:37.029+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1535390728 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:37.029+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.032+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197155563 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:37.032+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4228be5d]
2026-01-09T13:18:37.032+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211630b6]
2026-01-09T13:18:37.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:37.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:37.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:37.047+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:37.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:18:37.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@671d44be] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.060+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761a8abb]
2026-01-09T13:18:37.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1998474091 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:37.096+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.096+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ae079b1]
2026-01-09T13:18:37.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:37.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:37.093+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:37.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e70b2c]
2026-01-09T13:18:37.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca0dc5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175f1ab] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.099+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:37.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27d70da4]
2026-01-09T13:18:37.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc60fac] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313721382 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:37.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2023828933 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:37.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:37.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850327315 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:37.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:37.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:37.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112d0d50] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:18:37.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:37.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@235440380 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:37.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.118+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.131+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:18:37.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca0dc5b]
2026-01-09T13:18:37.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1564e2a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@671d44be]
2026-01-09T13:18:37.151+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.154+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@175f1ab]
2026-01-09T13:18:37.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814830174 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:37.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fc60fac]
2026-01-09T13:18:37.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2965ac8d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.176+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:37.176+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54733888] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.176+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe3b63f] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.211+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3050c83d] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.178+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1129185278 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:18:37.179+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:37.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497804300 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:37.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1907752129 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:37.212+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1594100468 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:37.212+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.212+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:37.212+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112d0d50]
2026-01-09T13:18:37.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:37.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:37.243+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:37.243+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.244+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:37.245+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:37.245+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:37.249+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:37.250+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1564e2a7]
2026-01-09T13:18:37.251+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.251+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:37.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:37.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b3a1e9] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2965ac8d]
2026-01-09T13:18:37.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54733888]
2026-01-09T13:18:37.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1383073410 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:37.266+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:18:37.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:18:37.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:37.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1590b4ff] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:37.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:37.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:37.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1483368893 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:37.298+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:37.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:37.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:18:37.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3050c83d]
2026-01-09T13:18:37.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:37.297+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe3b63f]
2026-01-09T13:18:37.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:18:37.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:37.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c0859b8] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:18:37.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bf48b8] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:37.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1855471688 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:18:37.313+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:18:37.314+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1637380946 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:18:37.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:18:37.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:18:37.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b3a1e9]
2026-01-09T13:18:37.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca30267] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:18:37.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973265399 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:37.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:18:37.342+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6057ee] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:37.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:37.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1590b4ff]
2026-01-09T13:18:37.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084422793 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:37.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:37.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:18:37.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f4713bb] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:18:37.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bf48b8]
2026-01-09T13:18:37.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c0859b8]
2026-01-09T13:18:37.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331717088 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:37.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:18:37.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:37.435+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:18:37.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca30267]
2026-01-09T13:18:37.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:18:37.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:18:37.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b844b34] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b6057ee]
2026-01-09T13:18:37.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@790681113 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:18:37.573+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.558+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.574+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.575+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@618b91d4] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f4713bb]
2026-01-09T13:18:37.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@749f2dc1] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@321008162 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:37.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414020908 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:18:37.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:18:37.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:18:37.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:18:37.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@618b91d4]
2026-01-09T13:18:37.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@749f2dc1]
2026-01-09T13:18:37.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b844b34]
2026-01-09T13:18:37.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:18:37.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:37.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1ec65b] was not registered for synchronization because synchronization is not active
2026-01-09T13:18:37.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:18:37.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1885474076 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:18:37.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:18:37.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:18:37.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:18:37.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:18:37.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d1ec65b]
2026-01-09T13:18:37.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:18:37.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:18:37.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:21.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-09T13:22:21.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:21.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-09T13:22:21.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approvers/active
2026-01-09T13:22:21.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approvers/active
2026-01-09T13:22:21.134+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:21.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-09T13:22:21.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-09T13:22:21.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:21.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/4/approvers/active
2026-01-09T13:22:21.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/4/approvers/active
2026-01-09T13:22:21.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:21.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-09T13:22:21.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-09T13:22:21.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-09T13:22:21.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-09T13:22:21.154+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/users/4/approvers/active
2026-01-09T13:22:21.163+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-09T13:22:21.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-09T13:22:21.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:21.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/4/approvers/active
2026-01-09T13:22:21.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/4/approvers/active", parameters={}
2026-01-09T13:22:21.176+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserApproverController#getActiveApprovers(Long)
2026-01-09T13:22:21.166+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:21.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-09T13:22:21.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/4/approvers/active
2026-01-09T13:22:21.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-09T13:22:21.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:21.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:21.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:21.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:21.178+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:21.178+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/users/4/approvers/active
2026-01-09T13:22:21.184+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:21.185+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:21.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:21.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:21.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:21.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/users/4/approvers/active", parameters={}
2026-01-09T13:22:21.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:21.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:21.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserApproverController#getActiveApprovers(Long)
2026-01-09T13:22:21.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f6f107a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.205+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477447fc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2989f623] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.243+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6986361b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494c435e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:21.245+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:21.249+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.251+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c627046] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1118650925 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:21.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1747148736 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:21.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17997323 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:21.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1186710901 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:21.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@731643303 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:21.349+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665961038 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:21.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findActiveApproversByUserId    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_approver_mapping_tb uam JOIN user_tb u ON uam.approver_id = u.user_id JOIN user_company_tb uc ON uam.approver_id = uc.user_id AND uam.company_id = uc.company_id WHERE uam.user_id = ? AND uam.company_id = ? AND (uam.is_active IS NULL OR uam.is_active = 1) AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY uam.priority ASC, u.korean_name ASC
2026-01-09T13:22:21.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:21.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:21.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findActiveApproversByUserId    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_approver_mapping_tb uam JOIN user_tb u ON uam.approver_id = u.user_id JOIN user_company_tb uc ON uam.approver_id = uc.user_id AND uam.company_id = uc.company_id WHERE uam.user_id = ? AND uam.company_id = ? AND (uam.is_active IS NULL OR uam.is_active = 1) AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY uam.priority ASC, u.korean_name ASC
2026-01-09T13:22:21.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-09T13:22:21.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:21.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-09T13:22:21.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findActiveApproversByUserId    : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:21.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:21.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findActiveApproversByUserId    : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:21.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:22:21.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:21.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:22:21.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477447fc]
2026-01-09T13:22:21.536+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:21.537+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.U.findActiveApproversByUserId    : <==      Total: 2
2026-01-09T13:22:21.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:21.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c627046]
2026-01-09T13:22:21.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:21.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:21.568+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_user4, password=null, (truncated)...]
2026-01-09T13:22:21.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:21.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:21.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-09T13:22:21.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6986361b]
2026-01-09T13:22:21.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@494c435e]
2026-01-09T13:22:21.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:21.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:21.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2a7c9d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:21.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-09T13:22:21.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@5493557 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:21.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:21.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:21.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:21.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findActiveApproversByUserId    : <==      Total: 2
2026-01-09T13:22:21.617+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2989f623]
2026-01-09T13:22:21.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:21.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:21.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-09T13:22:21.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_user4, password=null, (truncated)...]
2026-01-09T13:22:21.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2a7c9d]
2026-01-09T13:22:21.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f6f107a]
2026-01-09T13:22:21.624+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:21.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:21.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:21.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:21.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-09T13:22:21.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:21.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:28.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:28.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:28.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:28.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:28.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:28.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:28.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:28.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:28.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:22:28.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:28.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:28.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:28.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:28.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:28.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:28.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:28.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:28.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:28.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:28.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:28.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:28.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:28.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:28.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:28.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:28.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:28.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:28.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:28.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:28.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:28.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:28.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:28.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:28.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:28.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:28.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:28.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:28.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:28.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:28.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:28.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:28.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:28.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:28.516+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:28.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:28.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:28.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5d6196] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c98dfe] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf297e1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5779cc9e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2472ef8b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d3bb52] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329544027 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:28.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1914007405 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:28.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27544985 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:28.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1504978446 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:28.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1415056480 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:28.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130907948 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:28.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:28.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:28.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:28.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:28.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:28.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:28.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf297e1]
2026-01-09T13:22:28.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69c98dfe]
2026-01-09T13:22:28.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2472ef8b]
2026-01-09T13:22:28.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:28.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:28.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5779cc9e]
2026-01-09T13:22:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5d6196]
2026-01-09T13:22:28.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d3bb52]
2026-01-09T13:22:28.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52781aca] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@740561d7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12afceb0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36ffc8af] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041259208 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:28.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1772434489 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:28.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330373740 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:28.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:28.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d4fb1d5] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@807208441 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:28.596+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134668334 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:28.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:28.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:28.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:28.622+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:28.624+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:28.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d4fb1d5]
2026-01-09T13:22:28.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@740561d7]
2026-01-09T13:22:28.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36ffc8af]
2026-01-09T13:22:28.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52781aca]
2026-01-09T13:22:28.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12afceb0]
2026-01-09T13:22:28.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65939f05] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f6ff63] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524812222 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:28.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75b8fc8a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:28.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef6b0b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:28.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@852962801 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:28.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:28.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:28.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@711729203 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:28.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1556766191 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:28.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:28.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:28.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:28.683+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:28.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:28.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:28.689+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:28.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:28.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:28.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:28.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f6ff63]
2026-01-09T13:22:28.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:28.704+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:28.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:28.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65939f05]
2026-01-09T13:22:28.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:28.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:28.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:28.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3349b684] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:28.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:28.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75b8fc8a]
2026-01-09T13:22:28.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:28.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453410921 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:28.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1ab0ef] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef6b0b1]
2026-01-09T13:22:28.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1116240702 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:28.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2808aa36] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34f510e8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6050c9a4] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@989810879 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:28.715+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c9a9d9] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@102495824 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:28.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62954412 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:28.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581377257 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:28.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:28.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:28.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3349b684]
2026-01-09T13:22:28.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:28.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:28.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b1ab0ef]
2026-01-09T13:22:28.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:28.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:28.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2808aa36]
2026-01-09T13:22:28.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:28.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:28.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34f510e8]
2026-01-09T13:22:28.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:22:28.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:28.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-09T13:22:28.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:28.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c9a9d9]
2026-01-09T13:22:28.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6050c9a4]
2026-01-09T13:22:28.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:22:28.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:28.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:28.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:22:28.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:28.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:28.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11321153] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4ddbb0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:22:28.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:28.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:28.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2044589517 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:28.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236675092 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:28.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:28.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704289fc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:28.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:28.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:28.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:28.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1621241169 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:28.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:28.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:28.765+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:28.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:28.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:28.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:28.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:22:28.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444b32aa] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2086203867 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:28.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:28.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.795+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17df9633] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.780+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-09T13:22:28.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:28.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11321153]
2026-01-09T13:22:28.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19c6972b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.802+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070482998 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:28.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:28.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4ddbb0]
2026-01-09T13:22:28.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1370787340 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:28.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:28.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:28.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7897f0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-09T13:22:28.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:28.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@776057797 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:28.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704289fc]
2026-01-09T13:22:28.845+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.845+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:28.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:28.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:28.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:22:28.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:28.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:28.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@444b32aa]
2026-01-09T13:22:28.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:28.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:28.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17df9633]
2026-01-09T13:22:28.917+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:28.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:28.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19c6972b]
2026-01-09T13:22:28.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:28.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:28.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:28.951+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:28.958+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:28.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553282f3] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:28.956+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:28.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7897f0]
2026-01-09T13:22:28.962+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:28.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:28.983+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:28.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:28.986+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:28.962+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@339afe5f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.970+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1043851368 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:28.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:28.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41b28a52] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:28.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@508053704 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:28.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:28.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464bbe60] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:28.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@706626179 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:28.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377783bb] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:28.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:28.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944299451 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:28.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:28.995+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514395257 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553282f3]
2026-01-09T13:22:29.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.016+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da6e3a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:29.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b75c9a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:29.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@339afe5f]
2026-01-09T13:22:29.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@742576634 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:29.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@390334091 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:29.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:29.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.029+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.030+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:29.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:29.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41b28a52]
2026-01-09T13:22:29.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.036+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:29.036+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:29.037+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:29.040+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@377783bb]
2026-01-09T13:22:29.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464bbe60]
2026-01-09T13:22:29.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131ed44f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:29.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185623140 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:29.045+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:29.048+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544c4a2b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd4ceb9] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:29.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:29.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596809538 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@813157661 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:29.054+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:29.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:29.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:29.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.058+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.059+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.059+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b75c9a]
2026-01-09T13:22:29.060+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6da6e3a7]
2026-01-09T13:22:29.061+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61546a01] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:29.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2100970643 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:29.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@131ed44f]
2026-01-09T13:22:29.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4701bd59] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544c4a2b]
2026-01-09T13:22:29.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450a2f5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.067+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.069+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535517062 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:29.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76642991 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:29.068+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd4ceb9]
2026-01-09T13:22:29.069+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:29.069+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71eeaca] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.069+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.070+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.070+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648880330 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:29.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc9b043] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.074+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:29.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61546a01]
2026-01-09T13:22:29.075+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:29.075+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.077+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@384111749 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:29.078+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.079+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.079+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.081+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:29.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:29.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:29.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4701bd59]
2026-01-09T13:22:29.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450a2f5b]
2026-01-09T13:22:29.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.093+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307b7609] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:29.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:29.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@614459306 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:29.103+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:29.103+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384de2a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.104+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:29.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:29.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:29.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:29.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235570806 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:29.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:29.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:29.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:29.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:29.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:29.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:29.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:29.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:29.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71eeaca]
2026-01-09T13:22:29.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:29.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc9b043]
2026-01-09T13:22:29.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307b7609]
2026-01-09T13:22:29.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:29.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.120+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.120+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.121+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.121+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:29.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cb38aa] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:29.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a84dc1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20149ff1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137013930 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:29.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1672853663 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:29.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270116036 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:29.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459de3e6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.126+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.126+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@384de2a]
2026-01-09T13:22:29.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:29.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:29.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@72097982 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:29.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:29.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.134+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:29.135+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:29.136+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@479e62de] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:29.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:29.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649316233 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:29.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:29.144+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.144+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:29.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:29.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:29.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35a84dc1]
2026-01-09T13:22:29.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49cb38aa]
2026-01-09T13:22:29.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:29.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:29.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:29.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20149ff1]
2026-01-09T13:22:29.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@459de3e6]
2026-01-09T13:22:29.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0e6148] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:29.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c9b555f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:29.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644967516 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:29.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@210051086 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd1e07d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547db93b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.162+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@479e62de]
2026-01-09T13:22:29.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.167+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:29.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@465444705 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:29.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119557761 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:29.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:29.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:29.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:29.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.178+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.179+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:29.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.182+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:29.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.184+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:29.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:29.189+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c9b555f]
2026-01-09T13:22:29.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0e6148]
2026-01-09T13:22:29.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.191+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54168773] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.193+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f79bbb6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:29.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.194+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947824792 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:29.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@842662545 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:29.196+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@547db93b]
2026-01-09T13:22:29.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fd1e07d]
2026-01-09T13:22:29.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:29.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:29.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:29.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@837dc4b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.210+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.211+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@410326840 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:29.219+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:29.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:29.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:29.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54168773]
2026-01-09T13:22:29.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f79bbb6]
2026-01-09T13:22:29.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:29.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:29.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:29.229+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:29.229+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@837dc4b]
2026-01-09T13:22:29.229+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:29.230+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241cb8d7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:29.231+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318766491 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:29.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:29.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:29.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:29.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@241cb8d7]
2026-01-09T13:22:29.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:29.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:29.237+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:34.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:34.204+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:34.204+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:22:34.205+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:22:34.206+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:22:34.207+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:22:34.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:34.221+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:34.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:22:34.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:22:34.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:22:34.238+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:22:34.238+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:22:34.223+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:22:34.225+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:22:34.228+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:34.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:34.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:22:34.239+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:22:34.240+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:22:34.240+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:22:34.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:34.241+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:34.242+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:22:34.244+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.245+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:22:34.258+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:22:34.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:34.261+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:34.261+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:22:34.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71566a03] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:22:34.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:22:34.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:34.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:34.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:22:34.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:22:34.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:22:34.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.278+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fbf7d1b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.276+09:00  INFO 23648 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:34.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.278+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cbc660] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.277+09:00  INFO 23648 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:34.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7520c4e7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.278+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b43df7d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11857189] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@490581495 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:34.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605724917 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:34.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:34.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:34.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:34.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:34.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665205543 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:34.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1841068564 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:34.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:22:34.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:22:34.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:34.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1550587526 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:34.298+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:22:34.298+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702219649 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:34.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:22:34.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:34.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:22:34.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11857189]
2026-01-09T13:22:34.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:34.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:22:34.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:22:34.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cbc660]
2026-01-09T13:22:34.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:34.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4380b4a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814184365 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:34.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:22:34.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:22:34.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b43df7d]
2026-01-09T13:22:34.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:22:34.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71566a03]
2026-01-09T13:22:34.324+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:34.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:22:34.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf6b27e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:34.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1888772651 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:34.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fbf7d1b]
2026-01-09T13:22:34.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:34.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:22:34.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:34.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:34.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:34.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7520c4e7]
2026-01-09T13:22:34.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:34.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e414884] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@439377282 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:34.338+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:34.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:34.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:34.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:22:34.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:22:34.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e414884]
2026-01-09T13:22:34.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4380b4a7]
2026-01-09T13:22:34.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf6b27e]
2026-01-09T13:22:34.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:34.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:34.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b823c3b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e4e12f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:34.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224496736 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:34.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764400239 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:34.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:22:34.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:22:34.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:22:34.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:22:34.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23e4e12f]
2026-01-09T13:22:34.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b823c3b]
2026-01-09T13:22:34.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1642500b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f549d7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291572508 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:34.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@849099711 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:34.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:22:34.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:22:34.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:34.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:22:34.460+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:22:34.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f549d7]
2026-01-09T13:22:34.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1642500b]
2026-01-09T13:22:34.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:34.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f988cc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a657a53] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:34.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1222563957 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:34.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1050912540 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:34.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:34.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:34.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:34.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:34.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:34.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:34.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54f988cc]
2026-01-09T13:22:34.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a657a53]
2026-01-09T13:22:34.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:34.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:34.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:22:34.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:22:34.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:34.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.244+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.244+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:35.246+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:35.247+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.247+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:35.248+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:35.253+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.257+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:35.259+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:35.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:35.267+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:35.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:35.272+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:35.275+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:35.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:35.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.282+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:35.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:35.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:35.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:35.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:35.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:35.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:35.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:35.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:35.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:35.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:35.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:35.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:35.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:35.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:35.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f943d49] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:35.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a16123f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646471ac] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.305+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333ebeb1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:35.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652474506 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@319372005 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dfe4b73] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567284497 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.315+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66bb0991] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2145593467 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:35.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1244137260 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1086271652 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.322+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.323+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:35.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:35.325+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.327+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f943d49]
2026-01-09T13:22:35.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a16123f]
2026-01-09T13:22:35.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.328+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646471ac]
2026-01-09T13:22:35.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ff7814] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333ebeb1]
2026-01-09T13:22:35.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:35.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663685036 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cff2271] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11cffdd4] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2082692814 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.338+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@760414599 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.339+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66bb0991]
2026-01-09T13:22:35.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75bde40] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457737115 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.351+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23061228] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@840979449 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dfe4b73]
2026-01-09T13:22:35.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@711c0f21] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1047230878 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11cffdd4]
2026-01-09T13:22:35.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cff2271]
2026-01-09T13:22:35.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66ff7814]
2026-01-09T13:22:35.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75bde40]
2026-01-09T13:22:35.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:35.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23061228]
2026-01-09T13:22:35.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:35.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164b2f32] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf710fa] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e8ee8c2] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@199871031 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@955502846 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:35.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:35.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1476304525 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:35.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:35.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:35.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:35.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:35.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:35.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:35.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:35.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:35.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:35.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281f4304] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372cadff] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1478993015 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51425622 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:35.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:35.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372cadff]
2026-01-09T13:22:35.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164b2f32]
2026-01-09T13:22:35.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ece1261] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a0f07a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484384018 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@165508387 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:35.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:35.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281f4304]
2026-01-09T13:22:35.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e8ee8c2]
2026-01-09T13:22:35.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@711c0f21]
2026-01-09T13:22:35.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf710fa]
2026-01-09T13:22:35.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:35.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77939970] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.408+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4989723f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:35.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1492977960 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@237152184 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46a0f07a]
2026-01-09T13:22:35.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ece1261]
2026-01-09T13:22:35.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:35.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:35.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:35.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:35.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae48b68] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:35.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.435+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336058703 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:35.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:35.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:35.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:35.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77939970]
2026-01-09T13:22:35.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4989723f]
2026-01-09T13:22:35.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:35.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3d8970] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227653ad] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:35.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1844050404 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1677843217 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:35.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93bd357] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:35.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:35.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@195121349 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:35.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:35.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ae48b68]
2026-01-09T13:22:35.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:35.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:35.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:35.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7818eca0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@763fe7e1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227653ad]
2026-01-09T13:22:35.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3d8970]
2026-01-09T13:22:35.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:35.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383229738 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2014219653 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7e0790] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:35.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4599bcab] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428768006 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.482+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1432511630 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167e0939] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867654957 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@93bd357]
2026-01-09T13:22:35.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:35.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7e0790]
2026-01-09T13:22:35.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@763fe7e1]
2026-01-09T13:22:35.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7818eca0]
2026-01-09T13:22:35.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fbfc9a8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4599bcab]
2026-01-09T13:22:35.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:35.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675880035 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657ce09d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167e0939]
2026-01-09T13:22:35.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1645b86] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538c35db] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:35.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:35.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@181479717 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@141403300 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817100006 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:35.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:35.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:35.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:35.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:35.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.516+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:35.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:35.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:35.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:35.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fbfc9a8]
2026-01-09T13:22:35.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1645b86]
2026-01-09T13:22:35.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@657ce09d]
2026-01-09T13:22:35.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f3a2c06] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053376704 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198446dd] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb0dcf2] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7910f136] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@983533056 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.548+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@223002001 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:35.551+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.551+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725981811 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.553+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:35.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@538c35db]
2026-01-09T13:22:35.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:35.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.566+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.568+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f3a2c06]
2026-01-09T13:22:35.573+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.576+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:35.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae1a696] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fb0dcf2]
2026-01-09T13:22:35.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@198446dd]
2026-01-09T13:22:35.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946960636 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d89c597] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7910f136]
2026-01-09T13:22:35.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:35.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1673368124 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13b259ab] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403afb26] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1842709418 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@987ec0f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067001170 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:35.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647619158 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:35.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:35.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:35.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ae1a696]
2026-01-09T13:22:35.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:35.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d89c597]
2026-01-09T13:22:35.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:35.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351b9028] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.662+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13b259ab]
2026-01-09T13:22:35.663+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568f424c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.664+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843666699 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:35.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@367628407 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76af2e2f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:35.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:35.670+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:35.670+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119936181 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:35.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:35.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:35.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:35.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:35.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:35.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403afb26]
2026-01-09T13:22:35.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@987ec0f]
2026-01-09T13:22:35.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704e52bf] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:35.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731884123 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:35.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9c6e8c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:35.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:35.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@568f424c]
2026-01-09T13:22:35.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:35.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@944573636 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:35.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@351b9028]
2026-01-09T13:22:35.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76af2e2f]
2026-01-09T13:22:35.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:35.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:35.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:35.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:35.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d651e4f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:35.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:35.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:35.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@819646b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:35.982+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@299153037 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:35.998+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@704e52bf]
2026-01-09T13:22:35.998+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:35.999+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@122219793 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:36.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:36.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:36.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:36.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:36.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:36.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686b9008] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:36.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e9c6e8c]
2026-01-09T13:22:36.016+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:36.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:36.015+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790110736 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:36.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:36.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:36.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:36.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:36.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:36.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:36.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d651e4f]
2026-01-09T13:22:36.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@819646b]
2026-01-09T13:22:36.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:36.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:36.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:36.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:36.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:36.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686b9008]
2026-01-09T13:22:36.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:36.028+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:36.029+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:36.036+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:36.036+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:37.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:37.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-01-09T13:22:37.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-09T13:22:37.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2026-01-09T13:22:37.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2026-01-09T13:22:37.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:37.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:37.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-01-09T13:22:37.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-09T13:22:37.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2026-01-09T13:22:37.487+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:37.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:37.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me
2026-01-09T13:22:37.492+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2026-01-09T13:22:37.493+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/companies
2026-01-09T13:22:37.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:37.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/companies/pending
2026-01-09T13:22:37.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:37.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-01-09T13:22:37.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me
2026-01-09T13:22:37.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-09T13:22:37.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:37.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2026-01-09T13:22:37.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:37.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-01-09T13:22:37.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2026-01-09T13:22:37.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-09T13:22:37.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:37.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2026-01-09T13:22:37.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:37.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-01-09T13:22:37.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2026-01-09T13:22:37.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-09T13:22:37.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2026-01-09T13:22:37.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.507+09:00  INFO 23648 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:37.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2026-01-09T13:22:37.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c4eb35] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558813] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4853d9c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.510+09:00  INFO 23648 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:37.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ddc8d3] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e6c6e2] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1026254025 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:37.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@775186442 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:37.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@634609734 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:37.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cfea4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:37.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:22:37.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:37.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090493886 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:37.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148593145 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:37.535+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:37.536+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2026-01-09T13:22:37.536+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:37.536+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:37.537+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:22:37.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712335492 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:37.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:37.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 4(Long), PENDING(String)
2026-01-09T13:22:37.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:37.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-09T13:22:37.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:37.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:37.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:37.551+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c4eb35]
2026-01-09T13:22:37.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4853d9c]
2026-01-09T13:22:37.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2026-01-09T13:22:37.553+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:37.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558813]
2026-01-09T13:22:37.558+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ddc8d3]
2026-01-09T13:22:37.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43e6c6e2]
2026-01-09T13:22:37.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.570+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=4, userId=4, companyId=1 (truncated)...]
2026-01-09T13:22:37.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:37.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:37.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cdfdb9d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68cfea4a]
2026-01-09T13:22:37.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-09T13:22:37.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ebfef20] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653954619 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:37.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083748782 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:37.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:37.619+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7bfbcc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:22:37.621+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:37.622+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@438234437 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:37.623+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2026-01-09T13:22:37.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-09T13:22:37.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:37.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 4(Long)
2026-01-09T13:22:37.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cdfdb9d]
2026-01-09T13:22:37.628+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-09T13:22:37.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.629+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ebfef20]
2026-01-09T13:22:37.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:37.638+09:00  INFO 23648 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 4, companyId: 1, role: ACCOUNTANT
2026-01-09T13:22:37.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=4, username=test_user3, passw (truncated)...]
2026-01-09T13:22:37.644+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-09T13:22:37.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7bfbcc]
2026-01-09T13:22:37.658+09:00  INFO 23648 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 4, companyId: 1, role: ACCOUNTANT
2026-01-09T13:22:37.667+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=4, username=test_user3, passw (truncated)...]
2026-01-09T13:22:37.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:37.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:37.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:37.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:37.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:37.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:37.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:37.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:37.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:37.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:37.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:37.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:37.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318f5e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a72600d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30405106 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:37.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1124155323 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:37.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:37.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:37.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:37.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:37.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:37.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:37.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a72600d]
2026-01-09T13:22:37.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318f5e]
2026-01-09T13:22:37.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:37.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595fb4c5] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9bf7d9] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:37.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1611978219 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:37.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106742443 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:37.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:37.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:37.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:37.911+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:37.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:37.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:37.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9bf7d9]
2026-01-09T13:22:37.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@595fb4c5]
2026-01-09T13:22:37.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:37.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:37.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:37.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:37.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:38.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:38.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:38.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:38.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:38.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:38.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:38.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:38.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:38.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:38.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:38.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:38.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:38.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:38.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:38.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:38.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:38.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:38.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:38.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:38.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:38.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:38.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:38.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:38.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:38.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:38.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:38.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:38.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:38.689+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:38.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:38.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:38.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:38.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:38.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:38.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:38.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:38.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c708860] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:38.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:38.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:38.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:38.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:38.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:38.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:38.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b28046] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5719320f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12da8d5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71b865a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f860537] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749041110 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:38.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814550923 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:38.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892954027 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@979359326 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@683112208 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1124353186 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:38.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:38.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c708860]
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5719320f]
2026-01-09T13:22:38.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b28046]
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f860537]
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12da8d5b]
2026-01-09T13:22:38.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71b865a7]
2026-01-09T13:22:38.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:38.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1725fcb0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a265fb1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:38.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1964cb73] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cad83e1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1180545540 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@515084582 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:38.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:38.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605016382 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:38.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534531285 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:38.749+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.750+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.750+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.750+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:38.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:38.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:38.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:38.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a265fb1]
2026-01-09T13:22:38.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1725fcb0]
2026-01-09T13:22:38.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:38.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.765+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:38.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1964cb73]
2026-01-09T13:22:38.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:38.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:38.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ebf6ba] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1243e8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cad83e1]
2026-01-09T13:22:38.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:38.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403918443 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762338608 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:38.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796348f8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:38.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1180904436 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:38.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f24d93] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:38.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:38.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266993708 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:38.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:38.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:38.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:38.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:38.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:38.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ebf6ba]
2026-01-09T13:22:38.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:38.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:38.802+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:38.802+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c1243e8]
2026-01-09T13:22:38.803+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.803+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:38.803+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@796348f8]
2026-01-09T13:22:38.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37dc7293] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:38.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79cd541] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d5c27] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224543476 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:38.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@247647756 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:38.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46f24d93]
2026-01-09T13:22:38.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e81305] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.809+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2014200323 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:38.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1370470696 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f302cad] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:38.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c31a202] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1350148506 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:38.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1752956610 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:38.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:38.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79cd541]
2026-01-09T13:22:38.823+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:38.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.822+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37dc7293]
2026-01-09T13:22:38.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51426a6e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815111130 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:38.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e81305]
2026-01-09T13:22:38.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67d5c27]
2026-01-09T13:22:38.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:38.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e6e2c0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f302cad]
2026-01-09T13:22:38.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@91900549 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:38.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb2a720] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aadba19] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c31a202]
2026-01-09T13:22:38.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:38.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@481354184 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1180522255 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:38.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f6f7562] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.841+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:38.842+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:38.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:38.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.843+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@511701823 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:38.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:38.845+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:38.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51426a6e]
2026-01-09T13:22:38.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:38.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.863+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:38.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:38.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:38.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:38.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:38.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:38.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:38.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:38.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45dbf6c1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:38.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025157822 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:38.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:38.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:38.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.883+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:38.885+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5ddfae] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@11584450 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:38.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:38.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e6e2c0]
2026-01-09T13:22:38.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f2288f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:38.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:38.904+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:38.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:38.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1919170611 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f6f7562]
2026-01-09T13:22:38.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eb2a720]
2026-01-09T13:22:38.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aadba19]
2026-01-09T13:22:38.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45dbf6c1]
2026-01-09T13:22:38.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5ddfae]
2026-01-09T13:22:38.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fd736b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e7b80e6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba9148a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a283d8e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd3ce1d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693303923 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:38.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621520814 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471011476 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:38.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@543144436 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:38.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2071453414 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:38.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:38.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.929+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f2288f]
2026-01-09T13:22:38.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.935+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:38.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318a1b5] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30fd736b]
2026-01-09T13:22:38.941+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103499529 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.941+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:38.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.942+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:38.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ba9148a]
2026-01-09T13:22:38.943+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a283d8e]
2026-01-09T13:22:38.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fd3ce1d]
2026-01-09T13:22:38.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e7b80e6]
2026-01-09T13:22:38.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:38.949+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:38.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:38.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e85fc6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@718f07f6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.969+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318a1b5]
2026-01-09T13:22:38.958+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ddbb829] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.961+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:38.962+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:38.963+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322762424 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:38.969+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273517820 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:38.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.971+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1596288964 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:38.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:38.972+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:38.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:38.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:38.974+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:38.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda3bc6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.976+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:38.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:38.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:38.977+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:38.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:38.980+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560880129 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:38.984+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:38.985+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:38.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:38.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:38.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:38.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:38.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:38.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ddbb829]
2026-01-09T13:22:38.991+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@718f07f6]
2026-01-09T13:22:38.993+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:38.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35e85fc6]
2026-01-09T13:22:38.994+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dfd3add] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:38.995+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:38.995+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:38.996+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93205252 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:39.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ced405e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b325a1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eaf1a97] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:39.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:39.008+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637d5c7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1828173594 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:39.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544173654 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:39.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1766748395 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:39.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bda3bc6]
2026-01-09T13:22:39.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:39.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909503595 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:39.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:39.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:39.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.012+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:39.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:39.021+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:39.025+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb6c66b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:39.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:39.029+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954074224 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:39.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dfd3add]
2026-01-09T13:22:39.033+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.034+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640d2473] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.038+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@551731709 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:39.038+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.038+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:39.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:39.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eaf1a97]
2026-01-09T13:22:39.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55b325a1]
2026-01-09T13:22:39.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:39.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ced405e]
2026-01-09T13:22:39.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:39.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@637d5c7]
2026-01-09T13:22:39.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb6c66b]
2026-01-09T13:22:39.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:39.045+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.045+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e22100] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5463fa29] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:39.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1703637650 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:39.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640d2473]
2026-01-09T13:22:39.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:39.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:39.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816298639 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:39.059+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.059+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.061+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.069+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.076+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:39.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:39.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:39.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:39.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.089+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:39.090+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:39.091+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:39.092+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:39.093+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:39.094+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:39.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5463fa29]
2026-01-09T13:22:39.121+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.121+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:39.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e22100]
2026-01-09T13:22:39.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341dc8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:39.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527337102 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:39.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344ba953] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:39.126+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659944980 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:39.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:39.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:39.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:39.134+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:39.138+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:39.138+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:39.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@344ba953]
2026-01-09T13:22:39.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341dc8]
2026-01-09T13:22:39.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:39.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45333bed] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd72d6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:39.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@752554793 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:39.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631764472 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:39.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:39.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:39.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:39.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45333bed]
2026-01-09T13:22:39.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dd72d6]
2026-01-09T13:22:39.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:39.151+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:39.151+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:39.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:39.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:41.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:41.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:41.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-09T13:22:41.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-09T13:22:41.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approvers/active
2026-01-09T13:22:41.337+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approvers/active
2026-01-09T13:22:41.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:41.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:41.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-09T13:22:41.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/4/approvers/active
2026-01-09T13:22:41.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:41.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:41.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:41.358+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:41.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-09T13:22:41.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:41.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/4/approvers/active
2026-01-09T13:22:41.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-09T13:22:41.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/4/approvers/active
2026-01-09T13:22:41.359+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdd690a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-09T13:22:41.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:41.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/4/approvers/active
2026-01-09T13:22:41.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-09T13:22:41.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/4/approvers/active
2026-01-09T13:22:41.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-09T13:22:41.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:41.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/4/approvers/active
2026-01-09T13:22:41.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-09T13:22:41.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/4/approvers/active", parameters={}
2026-01-09T13:22:41.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-09T13:22:41.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-09T13:22:41.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:41.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:41.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b39ae0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@800783005 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:41.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:41.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/4/approvers/active", parameters={}
2026-01-09T13:22:41.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-09T13:22:41.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserApproverController#getActiveApprovers(Long)
2026-01-09T13:22:41.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:41.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e0be05] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserApproverController#getActiveApprovers(Long)
2026-01-09T13:22:41.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@620609221 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:41.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:41.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:41.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:41.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:41.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-09T13:22:41.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:41.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:22:41.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:41.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:41.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@635012615 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:41.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:41.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cdd690a]
2026-01-09T13:22:41.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:41.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-09T13:22:41.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:41.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:41.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@314b5cb9] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b87106c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c1f6b9] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58b39ae0]
2026-01-09T13:22:41.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46152d04] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:41.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@424538595 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:41.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1696761864 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:41.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:41.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:41.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1935019121 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:41.423+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-09T13:22:41.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findActiveApproversByUserId    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_approver_mapping_tb uam JOIN user_tb u ON uam.approver_id = u.user_id JOIN user_company_tb uc ON uam.approver_id = uc.user_id AND uam.company_id = uc.company_id WHERE uam.user_id = ? AND uam.company_id = ? AND (uam.is_active IS NULL OR uam.is_active = 1) AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY uam.priority ASC, u.korean_name ASC
2026-01-09T13:22:41.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69e0be05]
2026-01-09T13:22:41.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1250136363 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:41.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-09T13:22:41.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findActiveApproversByUserId    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_approver_mapping_tb uam JOIN user_tb u ON uam.approver_id = u.user_id JOIN user_company_tb uc ON uam.approver_id = uc.user_id AND uam.company_id = uc.company_id WHERE uam.user_id = ? AND uam.company_id = ? AND (uam.is_active IS NULL OR uam.is_active = 1) AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY uam.priority ASC, u.korean_name ASC
2026-01-09T13:22:41.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:22:41.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findActiveApproversByUserId    : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:41.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:41.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:41.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:41.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findActiveApproversByUserId    : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:41.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:41.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:41.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findActiveApproversByUserId    : <==      Total: 2
2026-01-09T13:22:41.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:41.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b87106c]
2026-01-09T13:22:41.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:41.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_user4, password=null, (truncated)...]
2026-01-09T13:22:41.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:41.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.U.findActiveApproversByUserId    : <==      Total: 2
2026-01-09T13:22:41.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-09T13:22:41.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:41.474+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32c1f6b9]
2026-01-09T13:22:41.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@314b5cb9]
2026-01-09T13:22:41.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46152d04]
2026-01-09T13:22:41.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:41.476+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:41.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:41.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_user4, password=null, (truncated)...]
2026-01-09T13:22:41.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-09T13:22:41.477+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:41.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:41.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:41.483+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:52.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:52.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:52.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:22:52.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:22:52.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:22:52.708+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:52.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:52.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:22:52.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:22:52.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:52.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:52.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:22:52.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:22:52.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:22:52.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:52.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:52.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:52.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:22:52.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:22:52.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:22:52.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:22:52.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:22:52.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:22:52.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6380e52a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-09T13:22:52.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:52.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:52.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:52.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:22:52.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:22:52.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:52.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:52.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:52.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:52.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:52.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cb63727] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:52.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:22:52.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:22:52.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:52.869+09:00  INFO 23648 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:52.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:22:52.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659824583 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:52.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d3705c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@424708979 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:52.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:52.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1a5eb5] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:22:52.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:52.898+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188154f1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:52.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c5487c1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79312240 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:52.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112577150 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:52.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2076331574 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:52.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675112761 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:52.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:22:52.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:52.944+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:22:52.946+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:22:52.947+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:52.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:52.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6380e52a]
2026-01-09T13:22:52.948+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cb63727]
2026-01-09T13:22:52.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-09T13:22:52.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:52.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:52.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:52.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:52.967+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@658a94b3] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.968+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a98a8e3] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:52.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:52.975+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:22:52.976+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-09T13:22:52.978+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@902637893 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:53.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:22:52.979+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@447433886 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:52.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188154f1]
2026-01-09T13:22:53.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:52.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c5487c1]
2026-01-09T13:22:53.041+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:52.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a1a5eb5]
2026-01-09T13:22:52.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:53.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.011+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:53.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:53.042+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:22:53.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.043+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d3705c]
2026-01-09T13:22:53.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:53.045+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:22:53.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.070+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f719dd1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:53.070+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:22:53.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.071+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@230954344 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:53.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:53.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:53.076+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:22:53.082+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:22:53.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:22:53.090+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:53.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:53.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:53.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@658a94b3]
2026-01-09T13:22:53.107+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:22:53.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a98a8e3]
2026-01-09T13:22:53.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:22:53.110+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:22:53.108+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:53.109+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.110+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:22:53.110+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:22:53.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:53.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fda8bfc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:22:53.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:53.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:22:53.135+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.135+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044691384 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:53.136+09:00  INFO 23648 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:53.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:53.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.162+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579c12ab] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.162+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:22:53.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f719dd1]
2026-01-09T13:22:53.229+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6645856c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.232+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:53.233+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@268212456 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:53.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1182a629] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.237+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810238315 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:53.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:53.255+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@573947909 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:53.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:22:53.260+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:53.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:53.268+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:22:53.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:53.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:53.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.274+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.281+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/38
2026-01-09T13:22:53.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:22:53.291+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:22:53.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:22:53.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:22:53.292+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:53.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1182a629]
2026-01-09T13:22:53.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6645856c]
2026-01-09T13:22:53.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:53.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fda8bfc]
2026-01-09T13:22:53.298+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@579c12ab]
2026-01-09T13:22:53.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:53.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:53.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:53.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.308+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:53.326+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.375+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:53.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:22:53.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe8bee2] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:53.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55580639] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:53.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:53.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1162618006 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:53.392+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:53.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@243724805 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:53.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:22:53.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/38
2026-01-09T13:22:53.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:22:53.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:53.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:22:53.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@daa658a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.573+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/38
2026-01-09T13:22:53.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:22:53.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:22:53.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/38
2026-01-09T13:22:53.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:22:53.597+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25141a26] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.598+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:22:53.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@716204980 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:53.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/38", parameters={}
2026-01-09T13:22:53.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55580639]
2026-01-09T13:22:53.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@986997207 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:53.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:22:53.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:53.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:22:53.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:53.605+09:00  INFO 23648 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:22:53.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:22:53.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:53.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.609+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed1471a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:53.611+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe8bee2]
2026-01-09T13:22:53.625+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@366b4f59] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464384311 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:53.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19dec7d8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.626+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46486922 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:53.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:53.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@181558823 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:53.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3230cb] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:22:53.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:53.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:53.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:53.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:22:53.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743229985 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:53.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@daa658a]
2026-01-09T13:22:53.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25141a26]
2026-01-09T13:22:53.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:53.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:22:53.641+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:53.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.642+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.643+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:22:53.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed1471a]
2026-01-09T13:22:53.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:22:53.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:53.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17b69540] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.653+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@366b4f59]
2026-01-09T13:22:53.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19dec7d8]
2026-01-09T13:22:53.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309749946 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:53.655+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32169c4f] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:22:53.658+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:53.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:22:53.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1592462547 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:53.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:22:53.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:53.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3230cb]
2026-01-09T13:22:53.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:22:53.663+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b592c57] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936505759 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:53.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:53.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:22:53.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17b69540]
2026-01-09T13:22:53.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.704+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:22:53.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.704+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32169c4f]
2026-01-09T13:22:53.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:53.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e6f286] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1670708881 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:53.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:22:53.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b592c57]
2026-01-09T13:22:53.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:22:53.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.724+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74593102] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916492362 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:53.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:53.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:53.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:22:53.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e6f286]
2026-01-09T13:22:53.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@404cf2e5] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317475496 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:53.742+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:22:53.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 38(Long), 1(Long)
2026-01-09T13:22:53.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:53.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74593102]
2026-01-09T13:22:53.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:22:53.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:53.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:22:53.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@404cf2e5]
2026-01-09T13:22:53.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:53.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c904db4] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:53.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802257689 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:53.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:53.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:53.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:53.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c904db4]
2026-01-09T13:22:53.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:53.857+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=38, drafterId=2, r (truncated)...]
2026-01-09T13:22:53.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:56.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:56.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:56.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:56.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:56.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:56.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:56.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:56.372+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:22:56.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:56.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:22:56.376+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:56.377+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:56.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:56.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:56.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:56.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:56.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:56.391+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:56.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:56.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:56.394+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:56.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:56.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:56.395+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:56.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:56.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:56.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:56.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:56.403+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:56.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:56.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:56.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:56.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17bb157a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:56.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:56.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:56.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:56.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:56.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f090e7e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35550a9e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e1635e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea9cf5] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.427+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736836628 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:56.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:56.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dead70b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1215811189 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722212966 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202807793 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:56.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@734815726 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:56.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1113695729 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:56.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17bb157a]
2026-01-09T13:22:56.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:56.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:56.475+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:56.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f090e7e]
2026-01-09T13:22:56.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:56.488+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.489+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:56.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:56.491+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:56.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b85ece1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:56.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29e1635e]
2026-01-09T13:22:56.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ea9cf5]
2026-01-09T13:22:56.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:56.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dead70b]
2026-01-09T13:22:56.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709922920 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:56.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35550a9e]
2026-01-09T13:22:56.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d13754] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:56.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cfda7b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.509+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:56.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1932010912 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.512+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1418836914 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b639533] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee28e17] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.524+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:22:56.526+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1986735127 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:56.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291752083 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:56.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.527+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.537+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:56.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.544+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b85ece1]
2026-01-09T13:22:56.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:22:56.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.553+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.558+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29cfda7b]
2026-01-09T13:22:56.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.591+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220c5f0b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:22:56.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d13754]
2026-01-09T13:22:56.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:56.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967609139 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.592+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:56.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:56.608+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:56.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8a6bd8] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.610+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:56.627+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:56.616+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595678541 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.620+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:56.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:56.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.654+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:56.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:56.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b639533]
2026-01-09T13:22:56.665+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:56.668+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.657+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:56.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:56.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2927ae37] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.675+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@756086484 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.671+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:22:56.673+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:56.676+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:22:56.677+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:56.682+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59391b16] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.683+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:22:56.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8a6bd8]
2026-01-09T13:22:56.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220c5f0b]
2026-01-09T13:22:56.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1845973968 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:56.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:22:56.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:56.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:22:56.692+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e78cca] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621832dc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2927ae37]
2026-01-09T13:22:56.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ee28e17]
2026-01-09T13:22:56.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981606021 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@573361555 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1c6598] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419b1e5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f22e0c1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1000477074 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:56.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:56.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1440306761 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.712+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629823236 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:56.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59391b16]
2026-01-09T13:22:56.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de1a8a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621832dc]
2026-01-09T13:22:56.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:22:56.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59e78cca]
2026-01-09T13:22:56.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@346964108 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:56.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419b1e5b]
2026-01-09T13:22:56.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b1c6598]
2026-01-09T13:22:56.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500279b7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f22e0c1]
2026-01-09T13:22:56.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62da418] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1932476345 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176018e7] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@259cdf21] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665788363 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:56.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@244364694 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1565810351 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:56.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f21b72d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:56.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200452320 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:56.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.749+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:56.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de1a8a]
2026-01-09T13:22:56.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:56.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:56.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@500279b7]
2026-01-09T13:22:56.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:56.758+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@176018e7]
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3575547d] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.763+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1987660965 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.761+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62da418]
2026-01-09T13:22:56.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@259cdf21]
2026-01-09T13:22:56.762+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f21b72d]
2026-01-09T13:22:56.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:56.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4380c963] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.775+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:22:56.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412454100 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a373cc1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d4232e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.776+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd52b04] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:22:56.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@835804923 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1106411906 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:56.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:56.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772764012 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:56.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:22:56.784+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.784+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:22:56.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:56.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:22:56.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3575547d]
2026-01-09T13:22:56.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:56.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:22:56.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.794+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4380c963]
2026-01-09T13:22:56.796+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d4232e]
2026-01-09T13:22:56.798+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb9e3b4] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c4175e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.799+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a373cc1]
2026-01-09T13:22:56.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd52b04]
2026-01-09T13:22:56.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1993816924 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218984391 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.802+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:56.802+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d452bc] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:56.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.805+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.807+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6447a6] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681572923 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:56.808+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.810+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:56.822+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@257343455 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.822+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:56.824+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:56.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:56.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.825+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:56.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:56.826+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:56.827+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:56.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:56.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:56.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:56.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:56.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4435db5a] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631a2c04] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103914271 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:56.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2011965026 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:56.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:56.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:56.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:56.844+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:56.845+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:56.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c6447a6]
2026-01-09T13:22:56.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c4175e]
2026-01-09T13:22:56.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d452bc]
2026-01-09T13:22:56.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb9e3b4]
2026-01-09T13:22:56.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4435db5a]
2026-01-09T13:22:56.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:56.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0e315c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4642dff1] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@631a2c04]
2026-01-09T13:22:56.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:22:56.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c986fce] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@114655c3] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815337548 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1955483264 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216907178 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068030394 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:56.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:56.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:56.891+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.891+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.893+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:56.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.898+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:56.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c986fce]
2026-01-09T13:22:56.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4642dff1]
2026-01-09T13:22:56.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@114655c3]
2026-01-09T13:22:56.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:56.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eee587e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.907+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bdad05b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:56.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102556786 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:56.909+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@456602502 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:56.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:56.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:56.910+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.912+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:22:56.917+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:56.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e0e315c]
2026-01-09T13:22:56.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:56.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665e0f80] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:56.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1775589062 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:56.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:56.956+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:56.957+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:57.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eee587e]
2026-01-09T13:22:56.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:57.016+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:57.017+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665e0f80]
2026-01-09T13:22:57.048+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.048+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@442626e0] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1385300971 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:56.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:57.006+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bdad05b]
2026-01-09T13:22:57.007+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:22:57.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:57.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:57.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d0fe1c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.051+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:22:57.053+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:57.053+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@351365328 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:57.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:22:57.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:22:57.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:57.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:57.125+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:57.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:57.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:22:57.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:22:57.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:57.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:57.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@442626e0]
2026-01-09T13:22:57.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d0fe1c]
2026-01-09T13:22:57.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:57.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:57.134+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.134+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:57.135+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:57.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:57.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31a21ecf] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.138+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:22:57.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1153843005 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:57.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:57.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68dccb7b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.141+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fb0035] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.142+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:57.144+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768789714 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:57.144+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909346885 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:57.145+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:57.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:57.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:57.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:57.153+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:57.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:57.157+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:57.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31a21ecf]
2026-01-09T13:22:57.158+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68dccb7b]
2026-01-09T13:22:57.159+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:57.160+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:22:57.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4f6296] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.161+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:57.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@298247447 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:57.166+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:57.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:57.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73fb0035]
2026-01-09T13:22:57.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:57.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:57.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29702b59] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:57.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@35749098 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:57.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:57.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:57.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f4f6296]
2026-01-09T13:22:57.173+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:57.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:57.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:57.177+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:57.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:57.188+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29702b59]
2026-01-09T13:22:57.190+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:57.192+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:57.195+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:58.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:22:58.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:22:58.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-09T13:22:58.791+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-09T13:22:58.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approvers/active
2026-01-09T13:22:58.792+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approvers/active
2026-01-09T13:22:58.830+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:22:58.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:22:58.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-09T13:22:58.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/4/approvers/active
2026-01-09T13:22:58.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-09T13:22:58.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/4/approvers/active
2026-01-09T13:22:58.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-09T13:22:58.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:22:58.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:22:58.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:22:58.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-09T13:22:58.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/4/approvers/active
2026-01-09T13:22:58.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/4/approvers/active
2026-01-09T13:22:58.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-09T13:22:58.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:22:58.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:22:58.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-09T13:22:58.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/4/approvers/active
2026-01-09T13:22:58.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/4/approvers/active
2026-01-09T13:22:58.859+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/4/approvers/active", parameters={}
2026-01-09T13:22:58.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-09T13:22:58.857+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:22:58.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:22:58.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-09T13:22:58.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-09T13:22:58.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:58.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/4/approvers/active", parameters={}
2026-01-09T13:22:58.860+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserApproverController#getActiveApprovers(Long)
2026-01-09T13:22:58.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-09T13:22:58.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:22:58.861+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:58.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserApproverController#getActiveApprovers(Long)
2026-01-09T13:22:58.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:58.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:58.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-09T13:22:58.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ae719] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446f3b5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:58.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:58.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.875+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535dae2e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.884+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.UserApproverController.getActiveApprovers(java.lang.Long); target is of class [com.innersignature.backend.controller.UserApproverController]
2026-01-09T13:22:58.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f924a1e] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c1d45b] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405799667 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:58.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110632386 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:22:58.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-09T13:22:58.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1399138660 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:22:58.890+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb4ee41] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:22:58.894+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@949985923 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:22:58.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@918576478 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:22:58.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:22:58.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:22:58.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:58.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-09T13:22:58.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findActiveApproversByUserId    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_approver_mapping_tb uam JOIN user_tb u ON uam.approver_id = u.user_id JOIN user_company_tb uc ON uam.approver_id = uc.user_id AND uam.company_id = uc.company_id WHERE uam.user_id = ? AND uam.company_id = ? AND (uam.is_active IS NULL OR uam.is_active = 1) AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY uam.priority ASC, u.korean_name ASC
2026-01-09T13:22:58.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2054805549 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:22:58.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:22:58.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:22:58.911+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:22:58.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findActiveApproversByUserId    : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:58.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findActiveApproversByUserId    : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status, uc.is_approver AS isApprover FROM user_approver_mapping_tb uam JOIN user_tb u ON uam.approver_id = u.user_id JOIN user_company_tb uc ON uam.approver_id = uc.user_id AND uam.company_id = uc.company_id WHERE uam.user_id = ? AND uam.company_id = ? AND (uam.is_active IS NULL OR uam.is_active = 1) AND uc.approval_status = 'APPROVED' AND uc.is_approver = 1 AND (uc.is_active IS NULL OR uc.is_active = 1) ORDER BY uam.priority ASC, u.korean_name ASC
2026-01-09T13:22:58.919+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@535dae2e]
2026-01-09T13:22:58.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findActiveApproversByUserId    : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:22:58.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:22:58.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-09T13:22:58.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.U.findActiveApproversByUserId    : <==      Total: 2
2026-01-09T13:22:58.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-09T13:22:58.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f924a1e]
2026-01-09T13:22:58.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:22:58.924+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4935f30c] was not registered for synchronization because synchronization is not active
2026-01-09T13:22:58.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@446f3b5b]
2026-01-09T13:22:58.925+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12c1d45b]
2026-01-09T13:22:58.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.U.findActiveApproversByUserId    : <==      Total: 2
2026-01-09T13:22:58.926+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:58.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ae719]
2026-01-09T13:22:58.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@299727071 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:22:58.927+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:58.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:58.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb4ee41]
2026-01-09T13:22:58.928+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-09T13:22:58.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:58.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:22:58.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-09T13:22:58.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_user4, password=null, (truncated)...]
2026-01-09T13:22:58.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:58.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:58.937+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:22:58.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:22:58.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:58.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:58.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=5, username=test_user4, password=null, (truncated)...]
2026-01-09T13:22:58.941+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:58.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:22:58.959+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:22:58.960+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4935f30c]
2026-01-09T13:22:58.962+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:22:58.965+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:22:58.966+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:05.597+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:05.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:26:05.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:26:05.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:05.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:26:05.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:26:05.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:05.636+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:26:05.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-09T13:26:05.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:05.637+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:26:05.638+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:26:05.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:05.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:26:05.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:26:05.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:05.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:26:05.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:05.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:05.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:05.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:05.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:05.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543d547a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:26:05.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:26:05.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:26:05.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:05.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:26:05.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:26:05.701+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:26:05.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:26:05.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1811005204 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:05.715+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:05.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:26:05.726+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:26:05.727+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:26:05.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:26:05.709+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:05.713+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:26:05.714+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:26:05.715+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:26:05.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:05.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:05.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:26:05.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:26:05.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:26:05.743+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:26:05.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a27732e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:05.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:26:05.744+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59466486] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:05.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b0bed5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:26:05.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@593303698 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:05.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:05.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543d547a]
2026-01-09T13:26:05.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.813+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:05.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.815+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987182421 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:05.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9fa537] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2e1299] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:05.818+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147a2305] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960404261 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:05.823+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@55623007 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:05.830+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.830+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:26:05.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746309399 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:05.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:26:05.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:05.839+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:05.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064762862 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:05.849+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:26:05.851+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a27732e]
2026-01-09T13:26:05.852+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:26:05.855+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.858+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b2e1299]
2026-01-09T13:26:05.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:05.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59466486]
2026-01-09T13:26:05.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b0bed5]
2026-01-09T13:26:05.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d9ec42] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a9fa537]
2026-01-09T13:26:05.867+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:05.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1341988357 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:05.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b16c5b7] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f13c83] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:26:05.869+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@547856534 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:05.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a150802] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@64535258 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:05.871+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:05.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.873+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.874+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@770787910 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:05.877+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.879+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:26:05.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:05.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@147a2305]
2026-01-09T13:26:05.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:26:05.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:05.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:05.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:26:05.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:05.895+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:26:05.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:05.896+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:26:05.897+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.898+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44d9ec42]
2026-01-09T13:26:05.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:26:05.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be5010a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.904+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.913+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:26:05.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a150802]
2026-01-09T13:26:05.934+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:05.978+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034826985 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:05.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:26:05.986+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333027a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:05.987+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:26:05.988+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f13c83]
2026-01-09T13:26:05.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:05.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b16c5b7]
2026-01-09T13:26:05.989+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:26:05.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947938943 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:05.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:26:05.990+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:05.992+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:05.996+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.000+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:06.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:26:06.001+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c531bc] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74821756] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.002+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:26:06.010+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be5010a]
2026-01-09T13:26:06.003+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:26:06.004+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.014+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7086027f] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@731651299 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.005+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1763991308 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.009+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-09T13:26:06.013+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.015+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405987297 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.016+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.018+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:26:06.019+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-09T13:26:06.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:26:06.020+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.026+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.022+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@333027a7]
2026-01-09T13:26:06.024+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-09T13:26:06.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.031+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:26:06.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.038+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634ed75f] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.035+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-09T13:26:06.038+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:26:06.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1374800270 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:06.039+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-09T13:26:06.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:26:06.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:26:06.044+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:26:06.046+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.046+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.049+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.050+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74821756]
2026-01-09T13:26:06.052+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:26:06.053+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67c531bc]
2026-01-09T13:26:06.054+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.054+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@249c1f01] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.055+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7086027f]
2026-01-09T13:26:06.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76153279] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.056+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:26:06.057+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.061+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1135725740 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.062+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@306819914 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.063+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9387f1] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.065+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286594414 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-09T13:26:06.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49310441] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.064+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7865038b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.066+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 4(Long)
2026-01-09T13:26:06.072+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@165962466 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.083+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.083+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@219831367 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.084+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.085+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.088+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.095+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.096+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634ed75f]
2026-01-09T13:26:06.097+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.098+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-09T13:26:06.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.101+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.101+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:26:06.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@249c1f01]
2026-01-09T13:26:06.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:26:06.102+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f9387f1]
2026-01-09T13:26:06.103+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76153279]
2026-01-09T13:26:06.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.110+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.111+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-09T13:26:06.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.114+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:26:06.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:26:06.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d6b3a2] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.118+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:26:06.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49310441]
2026-01-09T13:26:06.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7865038b]
2026-01-09T13:26:06.121+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:26:06.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471742662 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.123+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.124+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.136+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:26:06.146+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:06.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:26:06.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec64722] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ad21f0] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.148+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:26:06.149+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:26:06.150+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:26:06.152+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1863601591 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.155+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1661211989 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.156+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:26:06.163+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:26:06.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.164+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.165+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.166+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.167+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:26:06.169+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5281cf2] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:26:06.187+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.218+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.218+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:26:06.222+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@933337950 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.230+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:26:06.231+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f23294] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ad21f0]
2026-01-09T13:26:06.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14d6b3a2]
2026-01-09T13:26:06.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec64722]
2026-01-09T13:26:06.253+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.253+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3064a552] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.235+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499b169a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.239+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@779441266 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.240+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.240+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.255+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2f1e76] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.240+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.253+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@738659115 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1271677619 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.254+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6112e94d] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.255+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1044768146 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.256+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.262+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.263+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996861502 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:06.273+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.284+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:26:06.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:06.286+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5281cf2]
2026-01-09T13:26:06.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:26:06.293+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3064a552]
2026-01-09T13:26:06.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:26:06.295+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a7cb5cb] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45f23294]
2026-01-09T13:26:06.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499b169a]
2026-01-09T13:26:06.297+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a5bb4f3] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.297+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527887866 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.300+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593886431 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710d01db] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:26:06.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:26:06.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:06.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:26:06.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.303+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@633334780 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.303+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6112e94d]
2026-01-09T13:26:06.304+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:26:06.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f2f1e76]
2026-01-09T13:26:06.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.330+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582c4388] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394acfb9] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.331+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780304705 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:06.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1584507464 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.332+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.333+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.338+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.344+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:26:06.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a7cb5cb]
2026-01-09T13:26:06.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@710d01db]
2026-01-09T13:26:06.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.352+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a5bb4f3]
2026-01-09T13:26:06.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.353+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f184432] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@582c4388]
2026-01-09T13:26:06.354+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394acfb9]
2026-01-09T13:26:06.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.355+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee410f5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@210171786 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.358+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.359+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.359+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3613270d] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.360+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091121167 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.361+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:26:06.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450bb321] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.365+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@561574160 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.368+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:26:06.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.373+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718506814 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.381+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:26:06.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:06.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:26:06.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f184432]
2026-01-09T13:26:06.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af63424] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198708380 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:26:06.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:26:06.457+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ee410f5]
2026-01-09T13:26:06.407+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:26:06.407+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:26:06.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aec3009] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609350681 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3613270d]
2026-01-09T13:26:06.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:26:06.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:06.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:06.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6542c263] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274ca1f8] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@850230881 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:06.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71cc5bc] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254533769 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.497+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128052297 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.498+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:26:06.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:26:06.501+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.502+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:26:06.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7af63424]
2026-01-09T13:26:06.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450bb321]
2026-01-09T13:26:06.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.507+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aec3009]
2026-01-09T13:26:06.508+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:26:06.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.516+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.516+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274ca1f8]
2026-01-09T13:26:06.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6542c263]
2026-01-09T13:26:06.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc38f36] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:26:06.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.518+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.519+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.520+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665776084 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.521+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:26:06.522+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b6e43f9] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@407688493 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.528+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:06.530+09:00 DEBUG 23648 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:06.538+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.539+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:26:06.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:06.546+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:26:06.550+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71cc5bc]
2026-01-09T13:26:06.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.562+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ac8b20] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696026796 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:26:06.559+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.566+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.567+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.574+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:26:06.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bc38f36]
2026-01-09T13:26:06.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6adf34] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:26:06.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.587+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@632532218 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.588+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:26:06.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:26:06.594+09:00 DEBUG 23648 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:26:06.593+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.597+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.602+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:26:06.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.604+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526bff3] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f0e8a5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@517057318 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.616+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:26:06.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.652+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802284939 wrapping com.mysql.cj.jdbc.ConnectionImpl@3ca9ee6d] will not be managed by Spring
2026-01-09T13:26:06.669+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.670+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:26:06.659+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.660+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b6e43f9]
2026-01-09T13:26:06.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6adf34]
2026-01-09T13:26:06.661+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ac8b20]
2026-01-09T13:26:06.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.685+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3b261] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.696+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334318439 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b0a40] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.690+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.699+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac9cda9] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.704+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1394687618 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2112154656 wrapping com.mysql.cj.jdbc.ConnectionImpl@279c6e95] will not be managed by Spring
2026-01-09T13:26:06.703+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.706+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:26:06.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@526bff3]
2026-01-09T13:26:06.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.710+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:26:06.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:26:06.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20f0e8a5]
2026-01-09T13:26:06.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18783c2d] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.720+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:26:06.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680641014 wrapping com.mysql.cj.jdbc.ConnectionImpl@474bdd0a] will not be managed by Spring
2026-01-09T13:26:06.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d3b261]
2026-01-09T13:26:06.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:26:06.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:26:06.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126ab0e4] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.730+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:26:06.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221595762 wrapping com.mysql.cj.jdbc.ConnectionImpl@78635874] will not be managed by Spring
2026-01-09T13:26:06.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac9cda9]
2026-01-09T13:26:06.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515b0a40]
2026-01-09T13:26:06.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe04046] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@62470929 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:26:06.740+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:26:06.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:26:06.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:26:06.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126ab0e4]
2026-01-09T13:26:06.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18783c2d]
2026-01-09T13:26:06.760+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fe04046]
2026-01-09T13:26:06.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:06.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.769+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d8138c] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:06.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.774+09:00 DEBUG 23648 --- [http-nio-8080-exec-11] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:06.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259834721 wrapping com.mysql.cj.jdbc.ConnectionImpl@64db534b] will not be managed by Spring
2026-01-09T13:26:06.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:06.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:06.784+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:06.787+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d8138c]
2026-01-09T13:26:06.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:26:06.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:26:06.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:26:46.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/tax-review?format=full
2026-01-09T13:26:46.309+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/tax-review?format=full
2026-01-09T13:26:46.310+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/tax-review
2026-01-09T13:26:46.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/tax-review?format=full
2026-01-09T13:26:46.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/tax-review?format=full", parameters={masked}
2026-01-09T13:26:46.329+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportTaxReview(String, String, String)
2026-01-09T13:26:46.341+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T13:26:46.369+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T13:26:46.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560797e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.374+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@45362566 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.379+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:26:46.380+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:26:46.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-01-09T13:26:46.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@560797e]
2026-01-09T13:26:46.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d27889b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712255388 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:26:46.386+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:26:46.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:26:46.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d27889b]
2026-01-09T13:26:46.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9134042] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2021745323 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.389+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:46.390+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 37(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-09T13:26:46.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T13:26:46.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9134042]
2026-01-09T13:26:46.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.397+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65648b8d] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@30748707 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:26:46.398+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 24(Long), 25(Long), 27(Long), 31(Long), 32(Long), 33(Long), 34(Long), 37(Long), 39(Long)
2026-01-09T13:26:46.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T13:26:46.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65648b8d]
2026-01-09T13:26:46.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.401+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a2a472] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1776205901 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:26:46.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41a2a472]
2026-01-09T13:26:46.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.405+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71afea81] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@637161970 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.406+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-09T13:26:46.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71afea81]
2026-01-09T13:26:46.410+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28206eb7] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@651522768 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.411+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.412+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-09T13:26:46.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28206eb7]
2026-01-09T13:26:46.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22100dda] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158239481 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-09T13:26:46.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22100dda]
2026-01-09T13:26:46.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b89e651] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.418+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230325799 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.419+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-09T13:26:46.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.420+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b89e651]
2026-01-09T13:26:46.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e3c148] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360452683 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-09T13:26:46.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.424+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31e3c148]
2026-01-09T13:26:46.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b72a45e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689568761 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-09T13:26:46.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b72a45e]
2026-01-09T13:26:46.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2c3d04] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1654795915 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.430+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-09T13:26:46.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c2c3d04]
2026-01-09T13:26:46.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.431+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ad57947] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@399288580 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-09T13:26:46.435+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ad57947]
2026-01-09T13:26:46.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194eb14a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2024864869 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-09T13:26:46.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194eb14a]
2026-01-09T13:26:46.440+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.441+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26db45bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1257465037 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.442+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-09T13:26:46.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-09T13:26:46.444+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26db45bd]
2026-01-09T13:26:46.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d3c379] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.445+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1960413555 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.446+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 25(Long), 1(Long)
2026-01-09T13:26:46.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8d3c379]
2026-01-09T13:26:46.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f193e4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043142363 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-09T13:26:46.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f193e4a]
2026-01-09T13:26:46.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e8ece83] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675502710 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-09T13:26:46.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e8ece83]
2026-01-09T13:26:46.455+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4467c6a0] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1013310073 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-09T13:26:46.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:26:46.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4467c6a0]
2026-01-09T13:26:46.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fc2062] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070906555 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.459+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-09T13:26:46.461+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45fc2062]
2026-01-09T13:26:46.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3f093a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@979686831 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.463+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 34(Long), 1(Long)
2026-01-09T13:26:46.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e3f093a]
2026-01-09T13:26:46.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5ed40] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1710576351 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.467+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:26:46.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e5ed40]
2026-01-09T13:26:46.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:46.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250aa41c] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:46.470+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153731600 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:46.470+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:26:46.471+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:26:46.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:26:46.472+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@250aa41c]
2026-01-09T13:26:47.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.280+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fef97f5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@257661599 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.298+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.318+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fef97f5]
2026-01-09T13:26:47.336+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/1/deeb94b7-3a0a-4084-a5b7-5d932145b9fa/receipt_20251224165335_영수증이미지.jpg
2026-01-09T13:26:47.343+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ed5dd9] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@271236637 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.350+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.370+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.371+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ed5dd9]
2026-01-09T13:26:47.378+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/6/9ec8d455-2013-4265-ad6f-1cb61dbd8891/receipt_20251229144842_영수증이미지.jpg
2026-01-09T13:26:47.382+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf40b1c] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.383+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@852073678 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.384+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.385+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.387+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.388+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cf40b1c]
2026-01-09T13:26:47.393+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.396+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a06eb61] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.399+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@637976022 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.400+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.402+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.404+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a06eb61]
2026-01-09T13:26:47.409+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.413+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f70e714] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.414+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@579885688 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.415+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.417+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f70e714]
2026-01-09T13:26:47.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.432+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520ee132] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.433+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1256121376 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.434+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520ee132]
2026-01-09T13:26:47.443+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.447+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6652e1c] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@591878291 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.453+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6652e1c]
2026-01-09T13:26:47.462+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.464+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1f319a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841345515 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.466+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.469+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d1f319a]
2026-01-09T13:26:47.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f37aa0b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067848086 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.479+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.486+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f37aa0b]
2026-01-09T13:26:47.490+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@303997d2] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318506028 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.496+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.506+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@303997d2]
2026-01-09T13:26:47.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.514+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fdd3ff4] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.515+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1070344208 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.516+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.517+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.523+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.525+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fdd3ff4]
2026-01-09T13:26:47.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.531+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fa04df5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.532+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1238692714 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.534+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.536+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.536+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fa04df5]
2026-01-09T13:26:47.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.541+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fac5ede] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.542+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384017211 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.543+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fac5ede]
2026-01-09T13:26:47.552+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0ff350] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@821560449 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.556+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.557+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.564+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d0ff350]
2026-01-09T13:26:47.568+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.569+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4357e917] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.571+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670932829 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.572+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:47.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4357e917]
2026-01-09T13:26:47.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.589+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d18d3a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.590+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310611241 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.595+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.597+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:47.600+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.601+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d18d3a7]
2026-01-09T13:26:47.634+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/24/e80c6378-aeb5-4d04-a9d7-223cce401ba9/receipt_20260106105553_innersign_logo.png
2026-01-09T13:26:47.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/24/3f25f205-b742-46a3-9a35-7d5b09247b63/receipt_20260106105554_영수증이미지.jpg
2026-01-09T13:26:47.645+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e636e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@517907024 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:26:47.656+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.666+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@394e636e]
2026-01-09T13:26:47.681+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/25/1fa40027-cba6-4c79-a196-914b910dc76b/receipt_20260106112533_영수증이미지.jpg
2026-01-09T13:26:47.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.688+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f874d81] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.693+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1563836590 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.697+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.698+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:26:47.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f874d81]
2026-01-09T13:26:47.711+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.715+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d347b26] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1759168580 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:47.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.722+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d347b26]
2026-01-09T13:26:47.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/27/2d548442-a85c-4c57-bb41-9f25447cdb4e/receipt_20260106161341_innersign_logo.png
2026-01-09T13:26:47.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.733+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf260ee] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@89247741 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.736+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:47.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf260ee]
2026-01-09T13:26:47.741+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/31/db5c6970-67aa-40ad-8884-a207fafae6b8/receipt_20260107140701_innersign_logo.png
2026-01-09T13:26:47.745+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a76569a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381737002 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.746+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:47.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.749+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a76569a]
2026-01-09T13:26:47.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f70d518] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1737136874 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.752+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.753+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:26:47.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:47.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f70d518]
2026-01-09T13:26:47.759+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: innersign_logo.png -> file:///C:/InnerSignature/backend/uploads/receipts/33/14701aae-b2a4-496e-8839-4d8633de7e40/receipt_20260107144205_innersign_logo.png
2026-01-09T13:26:47.764+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.765+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4490b908] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496069783 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.766+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.767+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:47.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:47.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4490b908]
2026-01-09T13:26:47.778+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 영수증이미지.jpg -> file:///C:/InnerSignature/backend/uploads/receipts/34/5dd648c1-e13c-4d51-87cf-f627fcd92a45/receipt_20260108131158_영수증이미지.jpg
2026-01-09T13:26:47.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f57f22f] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119058484 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:47.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:47.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f57f22f]
2026-01-09T13:26:47.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c3986e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@956679155 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.790+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.793+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:47.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:47.797+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c3986e]
2026-01-09T13:26:47.800+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361d2b8b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@330876366 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.801+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.802+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:47.803+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:47.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361d2b8b]
2026-01-09T13:26:47.806+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 신용카드영수증샘플.pdf -> file:///C:/InnerSignature/backend/uploads/receipts/37/b2f9e552-18fb-4c33-b360-93ea48a83994/receipt_20260109112300_신용카드영수증샘플.pdf
2026-01-09T13:26:47.811+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:47.812+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@971c5a3] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:47.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@559697794 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:47.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:47.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:47.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:47.816+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@971c5a3]
2026-01-09T13:26:47.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 하이퍼링크 삽입 완료: 신용카드영수증샘플.pdf -> file:///C:/InnerSignature/backend/uploads/receipts/39/48b41f8f-b6e0-4e68-9549-9d1233c02d17/receipt_20260109124826_신용카드영수증샘플.pdf
2026-01-09T13:26:48.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.565+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6918ed25] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.582+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153707158 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.585+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.586+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.603+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6918ed25]
2026-01-09T13:26:48.607+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.612+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b480d8d] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.613+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@446155491 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.614+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.615+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.630+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b480d8d]
2026-01-09T13:26:48.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.632+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2089fd7e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@193374343 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.633+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.635+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.639+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2089fd7e]
2026-01-09T13:26:48.640+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.647+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36247f41] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.648+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1504249590 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.649+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.651+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.671+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.672+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36247f41]
2026-01-09T13:26:48.674+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.678+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d536473] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1209587439 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.679+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.686+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.689+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.689+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d536473]
2026-01-09T13:26:48.691+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.694+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f128b5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.695+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1388816036 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.700+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.702+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.704+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.705+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14f128b5]
2026-01-09T13:26:48.707+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.716+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2a0b1a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@654522474 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.721+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a2a0b1a]
2026-01-09T13:26:48.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.729+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fc8f43] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.731+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1273242301 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.732+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.734+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.735+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21fc8f43]
2026-01-09T13:26:48.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.737+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ffbdec0] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@179885803 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.738+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.739+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.747+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ffbdec0]
2026-01-09T13:26:48.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.748+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4186ff97] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.749+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352279225 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.749+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.749+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.751+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4186ff97]
2026-01-09T13:26:48.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.754+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63634d3b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.755+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@359623815 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.756+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.757+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63634d3b]
2026-01-09T13:26:48.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4527dfed] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.771+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1020545255 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.772+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.779+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.781+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4527dfed]
2026-01-09T13:26:48.782+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.783+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f96e542] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.785+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@875926506 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.786+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.789+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.804+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f96e542]
2026-01-09T13:26:48.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.828+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70563772] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@143814863 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.829+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.833+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70563772]
2026-01-09T13:26:48.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c62bb5] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@954887768 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.837+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.838+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:48.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.840+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c62bb5]
2026-01-09T13:26:48.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.846+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33923ea2] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.847+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067865830 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:48.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33923ea2]
2026-01-09T13:26:48.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18733789] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@985033995 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.853+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.854+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:26:48.856+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.857+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18733789]
2026-01-09T13:26:48.862+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.863+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487b151a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236643043 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.864+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:26:48.866+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.868+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487b151a]
2026-01-09T13:26:48.870+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.871+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19dc5538] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.871+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@161435868 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.872+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.872+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:48.876+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.878+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19dc5538]
2026-01-09T13:26:48.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.880+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3feea9f0] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1155550880 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.881+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:48.884+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.886+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3feea9f0]
2026-01-09T13:26:48.887+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ba1afe] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.888+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1498517584 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.889+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:48.898+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.899+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13ba1afe]
2026-01-09T13:26:48.900+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.901+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f125c5b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1019004077 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.902+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.903+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:26:48.905+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:48.906+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f125c5b]
2026-01-09T13:26:48.908+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.913+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64317b39] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.914+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162272096 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.915+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.916+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:48.918+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:48.920+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64317b39]
2026-01-09T13:26:48.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.921+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6f5483] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99091012 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.922+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.923+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:48.930+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:48.931+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6f5483]
2026-01-09T13:26:48.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.932+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4649f9cf] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1452435145 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.933+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:48.935+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:48.937+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4649f9cf]
2026-01-09T13:26:48.938+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e72c2e4] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.939+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1199365476 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.940+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.945+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:48.950+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:48.952+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e72c2e4]
2026-01-09T13:26:48.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:48.953+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c6d1d0e] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:48.954+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@609256837 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:48.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:48.955+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:48.963+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:48.964+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c6d1d0e]
2026-01-09T13:26:49.027+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.060+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a589a0] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.073+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1798140745 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.087+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.100+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.104+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.105+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a589a0]
2026-01-09T13:26:49.106+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7089dc98] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85242784 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.112+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.113+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.115+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7089dc98]
2026-01-09T13:26:49.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.116+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35902b7c] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@197352522 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.117+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.119+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.121+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35902b7c]
2026-01-09T13:26:49.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.122+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ae9593] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.127+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@64062417 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.128+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.129+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.132+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.133+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37ae9593]
2026-01-09T13:26:49.136+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.136+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aca10ff] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688587320 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.137+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.139+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aca10ff]
2026-01-09T13:26:49.140+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.143+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c28721] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.144+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53818638 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.144+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.145+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.147+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c28721]
2026-01-09T13:26:49.163+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.167+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8cfc72] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.167+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968523346 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.167+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.168+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.170+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a8cfc72]
2026-01-09T13:26:49.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.171+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bebdbc2] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1983500705 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.172+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.180+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bebdbc2]
2026-01-09T13:26:49.181+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.183+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487db2bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.184+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1566397883 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.186+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.198+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.201+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@487db2bd]
2026-01-09T13:26:49.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.202+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c3d3b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@118387982 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.203+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.205+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.217+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22c3d3b1]
2026-01-09T13:26:49.220+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.221+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6fa7cb] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.226+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1619900844 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.228+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.229+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.234+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6fa7cb]
2026-01-09T13:26:49.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.237+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c28db24] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.237+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306032277 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.238+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.239+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.265+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c28db24]
2026-01-09T13:26:49.269+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.270+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c932c59] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.271+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105394964 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.276+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.277+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.283+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.285+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c932c59]
2026-01-09T13:26:49.287+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.288+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676289e8] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.290+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1386643641 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.294+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.296+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.299+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.301+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676289e8]
2026-01-09T13:26:49.302+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.306+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac8d26b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.311+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@957759251 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.312+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.315+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.317+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ac8d26b]
2026-01-09T13:26:49.319+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.320+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b23bc9] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.321+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1223029438 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.334+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.335+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.338+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.340+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44b23bc9]
2026-01-09T13:26:49.345+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f3415] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1421224862 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.346+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.348+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.356+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.357+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f3415]
2026-01-09T13:26:49.362+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.364+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eef44d4] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.365+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@381221504 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.366+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.367+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.416+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.421+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eef44d4]
2026-01-09T13:26:49.422+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.425+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab29823] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.426+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1584380997 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.428+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.429+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.436+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ab29823]
2026-01-09T13:26:49.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.437+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42609643] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483229100 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.438+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.439+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.448+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42609643]
2026-01-09T13:26:49.449+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a00c4b] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.450+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1739871410 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.451+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.452+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:26:49.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.454+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21a00c4b]
2026-01-09T13:26:49.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.456+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349b7c4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.458+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360250566 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.465+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.468+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:49.473+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.478+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349b7c4a]
2026-01-09T13:26:49.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bebb032] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.480+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889056809 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.481+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:26:49.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.484+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bebb032]
2026-01-09T13:26:49.485+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.494+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@577481a6] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.495+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1360580954 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.499+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.500+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:26:49.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@577481a6]
2026-01-09T13:26:49.503+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.504+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61405e59] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.505+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@306874982 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.510+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.511+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:49.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.529+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61405e59]
2026-01-09T13:26:49.531+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fa0a6a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.533+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@329986234 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.534+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.535+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:49.540+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.545+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70fa0a6a]
2026-01-09T13:26:49.547+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.548+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281db462] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@143934033 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.549+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:49.554+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@281db462]
2026-01-09T13:26:49.555+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.560+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@337d705d] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1980132596 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.561+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.563+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:26:49.577+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:26:49.578+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@337d705d]
2026-01-09T13:26:49.579+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.580+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a74e876] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.605+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112775933 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.606+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.609+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:49.687+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.717+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a74e876]
2026-01-09T13:26:49.718+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.719+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a25b098] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.723+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925880050 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.725+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.728+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:49.768+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.770+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a25b098]
2026-01-09T13:26:49.773+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.777+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57406f78] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.788+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1883681912 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.795+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.796+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:26:49.807+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.814+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57406f78]
2026-01-09T13:26:49.817+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.819+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1841d99a] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.820+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470777073 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.821+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:49.831+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.832+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1841d99a]
2026-01-09T13:26:49.834+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:26:49.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42daec77] was not registered for synchronization because synchronization is not active
2026-01-09T13:26:49.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1421959359 wrapping com.mysql.cj.jdbc.ConnectionImpl@3421cc69] will not be managed by Spring
2026-01-09T13:26:49.835+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:26:49.836+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:26:49.848+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:26:49.850+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42daec77]
2026-01-09T13:26:50.167+09:00  INFO 23648 --- [http-nio-8080-exec-10] c.i.backend.service.ExpenseService       : 세무 검토 자료 생성 완료 - 파일명: tax_review_7517027027713160385.xlsx, 건수: 19
2026-01-09T13:26:50.170+09:00  INFO 23648 --- [http-nio-8080-exec-10] c.i.b.controller.ExpenseController       : 세무 검토 자료 다운로드 요청 - userId: 4, startDate: null, endDate: null, format: full
2026-01-09T13:26:50.174+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2026-01-09T13:26:50.175+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\tax_review_7517027027713160385.xlsx]]
2026-01-09T13:26:50.179+09:00  WARN 23648 --- [http-nio-8080-exec-10] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="세무검토_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [세] at code point [49,464] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-09T13:26:50.236+09:00 DEBUG 23648 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:49:09.766+09:00  INFO 5824 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 5824 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-09T13:49:09.786+09:00 DEBUG 5824 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-09T13:49:09.800+09:00  INFO 5824 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-09T13:49:11.712+09:00 DEBUG 5824 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-09T13:49:11.713+09:00 DEBUG 5824 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-09T13:49:12.047+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-09T13:49:12.048+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-09T13:49:12.048+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-09T13:49:12.048+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-09T13:49:12.049+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-09T13:49:12.049+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-09T13:49:12.050+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-09T13:49:12.051+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-09T13:49:12.052+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-09T13:49:12.055+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-09T13:49:12.056+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-09T13:49:12.061+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-09T13:49:12.064+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-09T13:49:12.066+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-09T13:49:12.135+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-09T13:49:12.172+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-09T13:49:12.178+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-09T13:49:12.182+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-01-09T13:49:12.211+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-09T13:49:12.225+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-09T13:49:12.235+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-09T13:49:12.238+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-09T13:49:12.246+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-09T13:49:12.249+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-09T13:49:12.261+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-09T13:49:12.270+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-09T13:49:12.285+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-09T13:49:12.287+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-09T13:49:12.293+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-09T13:49:12.295+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-09T13:49:12.299+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-09T13:49:12.301+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-09T13:49:12.303+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-09T13:49:12.305+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-09T13:49:12.306+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-09T13:49:12.310+09:00 DEBUG 5824 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-01-09T13:49:13.197+09:00  INFO 5824 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-09T13:49:13.234+09:00  INFO 5824 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T13:49:13.237+09:00  INFO 5824 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-09T13:49:13.434+09:00  INFO 5824 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T13:49:13.443+09:00  INFO 5824 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3554 ms
2026-01-09T13:49:13.545+09:00 DEBUG 5824 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-09T13:49:13.546+09:00 DEBUG 5824 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-09T13:49:13.950+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-09T13:49:13.972+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-09T13:49:14.077+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-09T13:49:14.100+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-09T13:49:14.137+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-09T13:49:14.163+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-09T13:49:14.223+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-09T13:49:14.280+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-09T13:49:14.416+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-09T13:49:14.437+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-09T13:49:14.462+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-09T13:49:14.477+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-09T13:49:14.500+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-09T13:49:14.533+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-09T13:49:14.567+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-09T13:49:14.614+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-09T13:49:14.658+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-09T13:49:14.697+09:00 DEBUG 5824 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-01-09T13:49:15.732+09:00 DEBUG 5824 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 154 mappings in 'requestMappingHandlerMapping'
2026-01-09T13:49:15.953+09:00 DEBUG 5824 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-09T13:49:16.000+09:00  WARN 5824 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 70ca5865-e669-4950-82a1-b1cdff2e67c7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-09T13:49:16.082+09:00  INFO 5824 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-09T13:49:16.388+09:00 DEBUG 5824 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T13:49:16.611+09:00 DEBUG 5824 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-09T13:49:16.745+09:00 DEBUG 5824 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-09T13:49:16.752+09:00 DEBUG 5824 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-09T13:49:17.053+09:00  INFO 5824 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-09T13:49:17.086+09:00  INFO 5824 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.274 seconds (process running for 8.991)
2026-01-09T13:49:22.839+09:00  INFO 5824 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T13:49:22.848+09:00  INFO 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T13:49:22.850+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-09T13:49:22.850+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-09T13:49:22.853+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-09T13:49:22.858+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a90fcaa
2026-01-09T13:49:22.870+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1488a861
2026-01-09T13:49:22.881+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-09T13:49:22.886+09:00  INFO 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 36 ms
2026-01-09T13:49:22.971+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/tax-review?format=full
2026-01-09T13:49:23.115+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/tax-review?format=full
2026-01-09T13:49:23.297+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/tax-review
2026-01-09T13:49:23.304+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/tax-review?format=full
2026-01-09T13:49:23.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/tax-review?format=full", parameters={masked}
2026-01-09T13:49:23.325+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportTaxReview(String, String, String)
2026-01-09T13:49:23.363+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T13:49:23.379+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T13:49:23.393+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:23.410+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3184ebb6] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:23.554+09:00  INFO 5824 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T13:49:24.202+09:00  INFO 5824 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@44ae0868
2026-01-09T13:49:24.217+09:00  INFO 5824 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T13:49:24.243+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501435166 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:24.281+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:49:24.380+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:49:24.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-01-09T13:49:25.085+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3184ebb6]
2026-01-09T13:49:25.231+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:25.297+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2772b9] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:25.325+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073658872 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:25.392+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:49:25.487+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:49:25.618+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:49:25.656+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2772b9]
2026-01-09T13:49:25.658+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:25.686+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b398ff] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:25.769+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@649230708 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:25.780+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:49:25.831+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 37(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-09T13:49:26.337+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T13:49:26.343+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11b398ff]
2026-01-09T13:49:26.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ea3530] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.348+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@933415488 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.361+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:49:26.366+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 24(Long), 25(Long), 27(Long), 31(Long), 32(Long), 33(Long), 34(Long), 37(Long), 39(Long)
2026-01-09T13:49:26.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T13:49:26.388+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ea3530]
2026-01-09T13:49:26.396+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.398+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e608cc] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1400960073 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:49:26.411+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.413+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e608cc]
2026-01-09T13:49:26.415+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.415+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2effaf99] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.416+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@668361442 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.418+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-09T13:49:26.421+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.422+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2effaf99]
2026-01-09T13:49:26.422+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.423+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@725cda64] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.423+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554442961 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.425+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.426+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-09T13:49:26.428+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.429+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@725cda64]
2026-01-09T13:49:26.430+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.431+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41caf6b6] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.431+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1431411473 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.431+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.432+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-09T13:49:26.434+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.435+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41caf6b6]
2026-01-09T13:49:26.435+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.436+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c80c496] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2053763318 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.438+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-09T13:49:26.447+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.448+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c80c496]
2026-01-09T13:49:26.449+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.450+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ff0573f] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.451+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@87988771 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.452+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.454+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-09T13:49:26.456+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.458+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ff0573f]
2026-01-09T13:49:26.460+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.460+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58198b3a] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.461+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@893216425 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.461+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.462+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-09T13:49:26.469+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.473+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58198b3a]
2026-01-09T13:49:26.476+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.477+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dfef5bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.478+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227548003 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.478+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.479+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-09T13:49:26.483+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.484+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dfef5bd]
2026-01-09T13:49:26.485+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6e63e4] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1637295145 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.487+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.488+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-09T13:49:26.494+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.496+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b6e63e4]
2026-01-09T13:49:26.499+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.500+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed33377] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.504+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@916066314 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.504+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.505+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-09T13:49:26.516+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.516+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed33377]
2026-01-09T13:49:26.517+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.518+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5761013b] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.519+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077860395 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.520+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.521+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-09T13:49:26.532+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-09T13:49:26.533+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5761013b]
2026-01-09T13:49:26.534+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.536+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e4f7b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.536+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@902286465 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.537+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.539+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 25(Long), 1(Long)
2026-01-09T13:49:26.548+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.550+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e4f7b1]
2026-01-09T13:49:26.551+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.551+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d94dc] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.552+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1035392343 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.565+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.577+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-09T13:49:26.584+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.588+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47d94dc]
2026-01-09T13:49:26.593+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.597+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61af9656] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.599+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@702937688 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.601+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.606+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-09T13:49:26.617+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.622+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61af9656]
2026-01-09T13:49:26.630+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.631+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ce3c06c] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.632+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1105453184 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.655+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.662+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-09T13:49:26.682+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:49:26.688+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ce3c06c]
2026-01-09T13:49:26.697+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.705+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71641304] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.718+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860245476 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.719+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.731+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-09T13:49:26.809+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.838+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71641304]
2026-01-09T13:49:26.842+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.844+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d53a898] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.858+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1820221445 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.896+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.903+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 34(Long), 1(Long)
2026-01-09T13:49:26.916+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.917+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d53a898]
2026-01-09T13:49:26.927+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a591069] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525575890 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.937+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:49:26.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a591069]
2026-01-09T13:49:26.953+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:26.954+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194dfa51] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:26.956+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732265289 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:26.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:49:26.970+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:49:26.989+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:49:26.996+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194dfa51]
2026-01-09T13:49:27.739+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:27.741+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761f9761] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:27.747+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077517776 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:27.750+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:27.753+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:27.760+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:27.762+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761f9761]
2026-01-09T13:49:27.794+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지가 2MB를 초과하여 리사이징을 시도합니다: receipt_20251224165335_영수증이미지.jpg (3585027 bytes)
2026-01-09T13:49:29.010+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 완료: 85% (4000x3000 -> 3400x2550, 1017761 bytes)
2026-01-09T13:49:29.012+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 성공: 1017761 -> 1017761 bytes
2026-01-09T13:49:29.113+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20251224165335_영수증이미지.jpg (행: 1)
2026-01-09T13:49:29.113+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:29.116+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:29.116+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@133f188] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:29.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1425445095 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:29.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:29.120+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:29.126+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:29.126+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@133f188]
2026-01-09T13:49:29.163+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지가 2MB를 초과하여 리사이징을 시도합니다: receipt_20251229144842_영수증이미지.jpg (3585027 bytes)
2026-01-09T13:49:30.236+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 완료: 85% (4000x3000 -> 3400x2550, 1017761 bytes)
2026-01-09T13:49:30.237+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 성공: 1017761 -> 1017761 bytes
2026-01-09T13:49:30.241+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20251229144842_영수증이미지.jpg (행: 2)
2026-01-09T13:49:30.246+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:30.253+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.254+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253c150c] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.265+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282216871 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.267+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.276+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.300+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253c150c]
2026-01-09T13:49:30.304+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.306+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201b4f46] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.309+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@779515060 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.309+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.316+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201b4f46]
2026-01-09T13:49:30.320+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.323+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4c77a6] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.325+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1079475926 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.326+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.327+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.330+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.330+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a4c77a6]
2026-01-09T13:49:30.334+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.338+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f385f3] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.338+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@467352396 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.338+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.339+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.342+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.343+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f385f3]
2026-01-09T13:49:30.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.348+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7683ce12] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.350+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679543084 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.351+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.355+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.355+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7683ce12]
2026-01-09T13:49:30.362+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.363+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105463] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.366+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754003757 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.368+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.369+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.376+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.377+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@105463]
2026-01-09T13:49:30.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.383+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e8a158] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.384+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853104746 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.386+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.387+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.389+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.392+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30e8a158]
2026-01-09T13:49:30.397+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553450dc] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@547608899 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.403+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.405+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.405+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553450dc]
2026-01-09T13:49:30.412+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.414+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39607155] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.416+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1311073301 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.418+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.421+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.422+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39607155]
2026-01-09T13:49:30.427+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.428+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269c140f] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.429+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483140432 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.430+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.431+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.433+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.434+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269c140f]
2026-01-09T13:49:30.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f12e32b] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.438+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1508421802 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.438+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.439+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.443+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.443+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f12e32b]
2026-01-09T13:49:30.446+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.448+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a39c795] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.451+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@851075138 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.453+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.453+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.456+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.459+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a39c795]
2026-01-09T13:49:30.468+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.469+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1699c4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.470+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264558362 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.470+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.472+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:30.480+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.481+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1699c4a]
2026-01-09T13:49:30.484+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:30.485+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be09e88] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:30.485+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1515593557 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:30.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:30.487+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:30.489+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:30.493+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be09e88]
2026-01-09T13:49:30.528+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260106105553_innersign_logo.png (행: 16)
2026-01-09T13:49:30.574+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지가 2MB를 초과하여 리사이징을 시도합니다: receipt_20260106105554_영수증이미지.jpg (3585027 bytes)
2026-01-09T13:49:31.441+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 완료: 85% (4000x3000 -> 3400x2550, 1017761 bytes)
2026-01-09T13:49:31.442+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 성공: 1017761 -> 1017761 bytes
2026-01-09T13:49:31.444+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260106105554_영수증이미지.jpg (행: 16)
2026-01-09T13:49:31.445+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 2개
2026-01-09T13:49:31.447+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:31.448+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393cf6b7] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:31.451+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1626059271 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:31.453+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:31.455+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:49:31.470+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:31.471+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@393cf6b7]
2026-01-09T13:49:31.511+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지가 2MB를 초과하여 리사이징을 시도합니다: receipt_20260106112533_영수증이미지.jpg (3585027 bytes)
2026-01-09T13:49:32.339+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 완료: 85% (4000x3000 -> 3400x2550, 1017761 bytes)
2026-01-09T13:49:32.346+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 성공: 1017761 -> 1017761 bytes
2026-01-09T13:49:32.348+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260106112533_영수증이미지.jpg (행: 17)
2026-01-09T13:49:32.350+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:32.355+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:32.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1598478e] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:32.387+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@71532052 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:32.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:32.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:49:32.412+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:32.426+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1598478e]
2026-01-09T13:49:32.430+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:32.433+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@788d48b] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:32.433+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1376178094 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:32.436+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:32.445+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:32.468+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:32.473+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@788d48b]
2026-01-09T13:49:32.482+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260106161341_innersign_logo.png (행: 19)
2026-01-09T13:49:32.485+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:32.488+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:32.495+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47b21699] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:32.496+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106933864 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:32.500+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:32.503+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:32.513+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:32.515+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47b21699]
2026-01-09T13:49:32.523+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260107140701_innersign_logo.png (행: 20)
2026-01-09T13:49:32.545+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:32.547+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:32.548+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5635157d] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:32.551+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@927064307 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:32.552+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:32.571+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:32.630+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:32.636+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5635157d]
2026-01-09T13:49:32.641+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:32.647+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e714af2] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:32.649+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@277947580 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:32.651+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:32.652+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:49:32.656+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:32.658+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e714af2]
2026-01-09T13:49:32.664+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260107144205_innersign_logo.png (행: 22)
2026-01-09T13:49:32.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:32.668+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:32.677+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ee6a02] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:32.678+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110165706 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:32.678+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:32.682+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:32.691+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:32.693+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ee6a02]
2026-01-09T13:49:32.707+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지가 2MB를 초과하여 리사이징을 시도합니다: receipt_20260108131158_영수증이미지.jpg (3585027 bytes)
2026-01-09T13:49:33.541+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 완료: 85% (4000x3000 -> 3400x2550, 1017761 bytes)
2026-01-09T13:49:33.543+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 이미지 리사이징 성공: 1017761 -> 1017761 bytes
2026-01-09T13:49:33.545+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260108131158_영수증이미지.jpg (행: 23)
2026-01-09T13:49:33.545+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:33.549+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:33.551+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@556109a0] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:33.559+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853169326 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:33.566+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:33.572+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:33.598+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:33.602+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@556109a0]
2026-01-09T13:49:33.605+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:33.610+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e45a20] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:33.612+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1162327968 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:33.613+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:33.618+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:33.623+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:33.626+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74e45a20]
2026-01-09T13:49:33.631+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:33.633+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271a02a0] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:33.634+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1912174905 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:33.634+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:33.635+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:33.637+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:33.637+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271a02a0]
2026-01-09T13:49:34.647+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : PDF를 이미지로 변환 완료: receipt_20260109112300_신용카드영수증샘플.pdf (270914 bytes)
2026-01-09T13:49:34.649+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260109112300_신용카드영수증샘플.pdf (행: 26)
2026-01-09T13:49:34.650+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:34.653+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:34.655+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ff7b47] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:34.663+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@788396916 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:34.664+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:34.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:34.670+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:34.672+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10ff7b47]
2026-01-09T13:49:35.384+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : PDF를 이미지로 변환 완료: receipt_20260109124826_신용카드영수증샘플.pdf (270914 bytes)
2026-01-09T13:49:35.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 이미지 삽입 완료: receipt_20260109124826_신용카드영수증샘플.pdf (행: 27)
2026-01-09T13:49:35.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 여러 영수증 이미지 삽입 완료: 1개
2026-01-09T13:49:35.748+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.750+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fb1b086] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.752+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442618091 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.754+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.762+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.766+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.766+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fb1b086]
2026-01-09T13:49:35.768+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.770+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fbc74b] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.778+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1592940788 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.781+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.782+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.785+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.787+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61fbc74b]
2026-01-09T13:49:35.789+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.794+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57871afb] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.794+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1752780511 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.797+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.798+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.805+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.806+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57871afb]
2026-01-09T13:49:35.809+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.811+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1ae3d3] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.812+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623208617 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.817+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.827+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.847+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.848+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a1ae3d3]
2026-01-09T13:49:35.850+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.852+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27dedd27] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.854+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@986162804 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.855+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.856+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.868+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.880+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27dedd27]
2026-01-09T13:49:35.883+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.889+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cbb1a1] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.890+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606961114 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.894+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.895+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.898+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.901+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75cbb1a1]
2026-01-09T13:49:35.902+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.902+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5801623a] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.903+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894745634 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.903+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.905+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.918+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.920+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5801623a]
2026-01-09T13:49:35.921+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.922+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6833856a] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.932+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005599460 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:35.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:35.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:35.955+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:35.964+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6833856a]
2026-01-09T13:49:35.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:35.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17538424] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:35.971+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665092465 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.009+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.025+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.035+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17538424]
2026-01-09T13:49:36.039+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.047+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d0deff7] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.048+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995712214 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.050+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.055+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.081+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.082+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d0deff7]
2026-01-09T13:49:36.084+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.109+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b6dd89] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.111+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@928447647 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.112+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.117+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.152+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.172+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b6dd89]
2026-01-09T13:49:36.175+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.187+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439499d8] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.188+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348292278 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.189+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.194+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.227+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.232+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439499d8]
2026-01-09T13:49:36.234+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.234+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d205c18] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.235+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243437629 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.236+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.237+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.268+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.272+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d205c18]
2026-01-09T13:49:36.279+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.285+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fde27c3] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.286+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1882284220 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.289+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.295+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.307+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.310+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fde27c3]
2026-01-09T13:49:36.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c77993d] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924750671 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.321+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.325+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.326+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c77993d]
2026-01-09T13:49:36.331+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31121287] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.334+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1372380137 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.335+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.336+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.338+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.338+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31121287]
2026-01-09T13:49:36.344+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57d6327d] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995543594 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.349+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.350+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:49:36.354+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.362+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57d6327d]
2026-01-09T13:49:36.363+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.366+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@151bff79] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.368+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1941467773 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.369+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.370+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:49:36.373+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.375+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@151bff79]
2026-01-09T13:49:36.378+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.379+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607a1222] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.380+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718326115 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.381+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:36.384+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607a1222]
2026-01-09T13:49:36.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.386+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40073bb] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.387+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@878418459 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.387+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.388+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.390+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.393+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40073bb]
2026-01-09T13:49:36.395+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.398+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5908ed7c] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1586675789 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:36.403+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.403+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5908ed7c]
2026-01-09T13:49:36.404+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.405+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48528ffc] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.406+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1454372999 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.408+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.410+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:49:36.414+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.414+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48528ffc]
2026-01-09T13:49:36.415+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ae0c9d] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095008283 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.418+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.419+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.431+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.433+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20ae0c9d]
2026-01-09T13:49:36.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.483+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751fb4b1] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.484+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629507179 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.533+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.563+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.567+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.568+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@751fb4b1]
2026-01-09T13:49:36.569+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.570+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ddb432] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.571+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@292495748 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.572+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.573+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:36.580+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19ddb432]
2026-01-09T13:49:36.584+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.585+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe1b159] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.586+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@736748211 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.588+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.597+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.604+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.609+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe1b159]
2026-01-09T13:49:36.617+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.618+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59702c80] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.619+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@189343118 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.621+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.635+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.664+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59702c80]
2026-01-09T13:49:36.703+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.711+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a5393c] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.712+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1082634116 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.714+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.716+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.719+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.720+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a5393c]
2026-01-09T13:49:36.721+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.722+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@790f000c] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.723+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1927850696 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.723+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.726+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.730+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.731+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@790f000c]
2026-01-09T13:49:36.732+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.732+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16aa7d7e] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.733+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@388235463 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.734+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.734+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.736+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.737+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16aa7d7e]
2026-01-09T13:49:36.737+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.738+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593e18aa] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.739+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482004862 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.739+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.740+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.743+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:36.744+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593e18aa]
2026-01-09T13:49:36.745+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.745+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f8903c] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.746+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1210724321 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.746+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.747+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.749+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.750+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61f8903c]
2026-01-09T13:49:36.751+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.751+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576bb191] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.752+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924637232 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.752+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.753+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.755+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.755+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576bb191]
2026-01-09T13:49:36.772+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.776+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ba6529] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.776+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1512532764 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.778+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.780+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.792+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.797+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12ba6529]
2026-01-09T13:49:36.799+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.800+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae05d73] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.804+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2066932779 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.805+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.811+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.847+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.854+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae05d73]
2026-01-09T13:49:36.859+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.860+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc67012] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.861+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1979037468 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.863+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.863+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.867+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dc67012]
2026-01-09T13:49:36.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.870+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a29801] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.870+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496644743 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.871+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.872+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.875+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.876+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63a29801]
2026-01-09T13:49:36.878+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.878+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c7d3655] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.878+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070463819 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.879+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.880+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.884+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.886+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c7d3655]
2026-01-09T13:49:36.887+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.888+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b425ff2] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.888+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1852313425 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.889+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.891+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.894+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.894+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b425ff2]
2026-01-09T13:49:36.895+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.895+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32299e15] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.896+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@730720877 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.896+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.897+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.899+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.900+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32299e15]
2026-01-09T13:49:36.901+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.902+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68218abb] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.902+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377911452 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.903+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.904+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.905+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.906+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68218abb]
2026-01-09T13:49:36.908+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.909+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf5e100] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.910+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@946199671 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.910+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.911+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.913+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.914+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cf5e100]
2026-01-09T13:49:36.916+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.917+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e189542] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.917+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1570151520 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.918+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.918+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.921+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.921+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e189542]
2026-01-09T13:49:36.922+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.922+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46020c27] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.923+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@752497440 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.923+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.925+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46020c27]
2026-01-09T13:49:36.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d169253] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.930+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1797509858 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.931+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.932+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d169253]
2026-01-09T13:49:36.935+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.936+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65d266e6] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.936+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818223621 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.936+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.937+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.939+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.939+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65d266e6]
2026-01-09T13:49:36.942+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.942+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6284fa0f] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.943+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@345458159 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.943+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.944+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.946+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.946+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6284fa0f]
2026-01-09T13:49:36.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af5e81a] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@803484617 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.948+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:49:36.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6af5e81a]
2026-01-09T13:49:36.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f4a939] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478428965 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.952+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.953+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.955+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.955+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f4a939]
2026-01-09T13:49:36.956+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.957+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6895935] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.958+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2051577276 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.959+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.960+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:49:36.963+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.963+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6895935]
2026-01-09T13:49:36.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5483e524] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403660400 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:49:36.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.970+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5483e524]
2026-01-09T13:49:36.972+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.973+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26da0f6d] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.976+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1832612951 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.978+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.979+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:36.981+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.982+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26da0f6d]
2026-01-09T13:49:36.982+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.982+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f1cee1f] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.983+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043361782 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.984+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.985+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:36.987+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.987+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f1cee1f]
2026-01-09T13:49:36.988+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.989+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3eae5d] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.989+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37406995 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.992+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.993+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:36.995+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:36.995+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3eae5d]
2026-01-09T13:49:36.998+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:36.998+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8c7dff] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:36.998+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1373597237 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:36.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:36.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:49:37.001+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:49:37.002+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e8c7dff]
2026-01-09T13:49:37.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:37.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551674d4] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:37.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2027460620 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:37.004+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:37.004+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:37.009+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:37.009+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551674d4]
2026-01-09T13:49:37.010+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:37.011+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d5081d4] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:37.011+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2064053886 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:37.011+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:37.012+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:37.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:37.015+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d5081d4]
2026-01-09T13:49:37.017+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:37.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7234fd25] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:37.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802734742 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:37.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:37.019+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:49:37.024+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:37.025+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7234fd25]
2026-01-09T13:49:37.027+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:37.027+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8110d5] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:37.028+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@700031203 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:37.028+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:37.029+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:37.031+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:37.031+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b8110d5]
2026-01-09T13:49:37.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:49:37.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10098943] was not registered for synchronization because synchronization is not active
2026-01-09T13:49:37.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936536623 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:49:37.034+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:49:37.034+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:49:37.037+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:49:37.039+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10098943]
2026-01-09T13:49:37.815+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 세무 검토 자료 생성 완료 - 파일명: tax_review_6086156771064021483.xlsx, 건수: 19
2026-01-09T13:49:37.815+09:00  INFO 5824 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 세무 검토 자료 다운로드 요청 - userId: 4, startDate: null, endDate: null, format: full
2026-01-09T13:49:37.822+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' in response
2026-01-09T13:49:37.824+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\tax_review_6086156771064021483.xlsx]]
2026-01-09T13:49:37.829+09:00  WARN 5824 --- [http-nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="세무검토_전체_전체.xlsx"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [세] at code point [49,464] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-09T13:49:38.005+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:46.220+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:50:46.220+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:46.224+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:50:46.225+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/39
2026-01-09T13:50:46.225+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:50:46.225+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/39
2026-01-09T13:50:46.248+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:46.248+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:50:46.265+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:46.251+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:50:46.251+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/39
2026-01-09T13:50:46.254+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:50:46.258+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/39
2026-01-09T13:50:46.268+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:50:46.269+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:46.280+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:50:46.275+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:50:46.275+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/39
2026-01-09T13:50:46.279+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:50:46.280+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:46.282+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/39
2026-01-09T13:50:46.282+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:50:46.283+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:50:46.284+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/39
2026-01-09T13:50:46.285+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:50:46.286+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:46.286+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/39
2026-01-09T13:50:46.297+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/39", parameters={}
2026-01-09T13:50:46.287+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:50:46.292+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:50:46.292+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/39", parameters={}
2026-01-09T13:50:46.293+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:50:46.294+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:50:46.302+09:00  INFO 5824 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:50:46.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.313+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:50:46.314+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:50:46.315+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:50:46.319+09:00  INFO 5824 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:50:46.315+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b16b7e] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dc6929] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.318+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.320+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.329+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e42c56] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.331+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ed2969] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.331+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d8f34c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.331+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4edd83] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@988831518 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:46.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@966784173 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:46.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129029316 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:46.423+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:50:46.423+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:50:46.425+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:46.424+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:46.425+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:46.426+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:46.455+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317488261 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:46.455+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1152661665 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:46.456+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@929808218 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:46.497+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:50:46.528+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:50:46.529+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:50:46.540+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:50:46.541+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37e42c56]
2026-01-09T13:50:46.543+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:50:46.561+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:50:46.567+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:46.600+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b16b7e]
2026-01-09T13:50:46.602+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.574+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:46.577+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:46.579+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.590+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59dc6929]
2026-01-09T13:50:46.603+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fdd8320] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.613+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@765201219 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:46.613+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:46.616+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:46.603+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@578b25db] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.617+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969938647 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:46.630+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:50:46.652+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:46.654+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:46.654+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:50:46.657+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:50:46.662+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fdd8320]
2026-01-09T13:50:46.663+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52d8f34c]
2026-01-09T13:50:46.665+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ed2969]
2026-01-09T13:50:46.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.667+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd870f5] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.684+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:46.684+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:46.694+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:50:46.684+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:46.691+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1942619704 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:46.716+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:46.739+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:46.765+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:50:46.791+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:50:46.907+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@578b25db]
2026-01-09T13:50:46.794+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:50:46.803+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:50:46.873+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:46.924+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:46.908+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b4edd83]
2026-01-09T13:50:46.919+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:46.926+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:46.924+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:50:46.942+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a7cae7] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.944+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@139541957 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:46.945+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:46.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:50:46.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:46.979+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:50:46.981+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:50:46.983+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a7cae7]
2026-01-09T13:50:46.983+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd870f5]
2026-01-09T13:50:46.984+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.984+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:46.985+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6605ae3a] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.986+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588f2212] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:46.986+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1731921962 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:46.987+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1423752750 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:46.992+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:50:46.991+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:50:46.994+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:46.997+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:47.000+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:50:47.002+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6605ae3a]
2026-01-09T13:50:47.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:50:47.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:47.004+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@588f2212]
2026-01-09T13:50:47.007+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dec5309] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:47.007+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:47.010+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188255984 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:47.010+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6190d389] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:47.011+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:47.011+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1085207067 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:47.012+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:47.013+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:50:47.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:50:47.016+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:47.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dec5309]
2026-01-09T13:50:47.020+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:47.026+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:50:47.037+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6190d389]
2026-01-09T13:50:47.038+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=39, drafterId=1, r (truncated)...]
2026-01-09T13:50:47.043+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:47.046+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22af9852] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:47.050+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1162091285 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:47.051+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:47.052+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:47.092+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:47.107+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:47.132+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22af9852]
2026-01-09T13:50:47.136+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:47.144+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=39, drafterId=1, r (truncated)...]
2026-01-09T13:50:47.148+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:50.851+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:50:50.852+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:50.856+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:50:50.857+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:50.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:50:50.900+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:50.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:50:50.893+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:50.899+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:50:50.899+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:50:50.907+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:50:50.907+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:50:50.907+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:50.914+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:50:50.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:50:50.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:50:50.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:50.931+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:50:50.931+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:50:50.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:50:50.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:50:50.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:50:50.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:50.968+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:50:50.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:50:50.971+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:50:50.974+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:50:50.977+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:50:50.977+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:50.977+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:50:50.977+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:50:50.978+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:50:50.994+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:50:50.994+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:50:50.997+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:50.997+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:50:50.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:50:51.000+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:50:51.000+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:50:51.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:50:51.010+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.010+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:50:51.013+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:50:51.013+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:50:51.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.016+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.017+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.019+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd24c7f] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.019+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@249bc7ee] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.019+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff71ad7] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.025+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436a72a8] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.025+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c275362] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.025+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43741872] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.053+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@38343241 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.053+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102524444 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.053+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732970525 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.058+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925907584 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.058+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234311640 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.058+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1963946407 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.059+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.059+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.059+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.060+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.060+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.060+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.061+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.061+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:50:51.061+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.064+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:50:51.065+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.074+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.087+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:50:51.087+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.092+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:50:51.093+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.094+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c275362]
2026-01-09T13:50:51.097+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43741872]
2026-01-09T13:50:51.097+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dd24c7f]
2026-01-09T13:50:51.102+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@249bc7ee]
2026-01-09T13:50:51.104+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.105+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.107+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.108+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.114+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:50:51.117+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:50:51.115+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.115+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ff71ad7]
2026-01-09T13:50:51.116+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:50:51.116+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3381b60b] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.117+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436a72a8]
2026-01-09T13:50:51.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d51fcc] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.119+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.119+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@678918427 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.121+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.119+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.120+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622727617 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.120+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77eb7416] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.124+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.124+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6453673b] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.124+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.126+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:50:51.127+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:51.129+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@32977809 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.163+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.145+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1824485825 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.146+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.150+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:50:51.158+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:51.164+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.164+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.165+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:50:51.166+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:51.168+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.169+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:50:51.169+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:51.170+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:50:51.173+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.181+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.182+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.182+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a85ef2d] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.182+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13519d42] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.196+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@618360030 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.196+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306716786 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.200+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.201+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.203+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.203+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.208+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.208+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.209+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77eb7416]
2026-01-09T13:50:51.209+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6453673b]
2026-01-09T13:50:51.209+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20d51fcc]
2026-01-09T13:50:51.210+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3381b60b]
2026-01-09T13:50:51.210+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.211+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.211+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.211+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.213+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.214+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.219+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:51.219+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c2eb01] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.227+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2136419997 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.219+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@181d6fa9] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.220+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed0f0ea] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.233+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@280901657 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.227+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.232+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:51.234+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@551501013 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.262+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.234+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.244+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:50:51.253+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:50:51.265+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.267+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.276+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:50:51.279+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.280+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.287+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13519d42]
2026-01-09T13:50:51.282+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:50:51.283+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a85ef2d]
2026-01-09T13:50:51.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:50:51.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32705f80] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.300+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:50:51.300+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e56132a] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.302+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:50:51.303+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768900865 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.307+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.309+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@186613578 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.310+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c2eb01]
2026-01-09T13:50:51.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.316+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e90797] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.312+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.316+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f38e06] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:50:51.322+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:50:51.325+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@69625342 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.328+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.329+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.332+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1660877146 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.332+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed0f0ea]
2026-01-09T13:50:51.332+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@181d6fa9]
2026-01-09T13:50:51.332+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32705f80]
2026-01-09T13:50:51.343+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.344+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4925452c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.355+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.357+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6628f3c1] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1800909270 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.360+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:51.362+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137397326 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.362+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.367+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.368+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.380+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.381+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e56132a]
2026-01-09T13:50:51.383+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.384+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:50:51.398+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d212b4a] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75f38e06]
2026-01-09T13:50:51.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e90797]
2026-01-09T13:50:51.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675668103 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4925452c]
2026-01-09T13:50:51.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.400+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.402+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.403+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:50:51.403+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:50:51.404+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:50:51.407+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c9d412a] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.408+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.409+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252faa1c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.409+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:50:51.409+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6628f3c1]
2026-01-09T13:50:51.410+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17113745 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.412+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.416+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:50:51.416+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256173907 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.420+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:50:51.424+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:50:51.425+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:51.425+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.429+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:50:51.430+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.431+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:51.432+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bdfa084] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.432+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:50:51.434+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@890784143 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.434+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:50:51.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.444+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:51.445+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:50:51.447+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.448+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:50:51.454+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:51.457+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:51.460+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:51.460+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.462+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.454+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.463+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a33dcbd] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.463+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5be231] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.463+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1541370390 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.464+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343803180 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.464+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.466+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.467+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.468+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.474+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:50:51.479+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:50:51.487+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bdfa084]
2026-01-09T13:50:51.480+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:51.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c9d412a]
2026-01-09T13:50:51.494+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.495+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252faa1c]
2026-01-09T13:50:51.502+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.503+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742543b4] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.503+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.503+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f46b86d] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.509+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@850925108 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.509+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe44c7a] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.512+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.514+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1500783294 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.514+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.517+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464035536 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.517+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:50:51.519+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:50:51.525+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a33dcbd]
2026-01-09T13:50:51.526+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.527+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.533+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.528+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.528+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5be231]
2026-01-09T13:50:51.529+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d212b4a]
2026-01-09T13:50:51.529+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.543+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.544+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.546+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.546+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46acedfc] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.547+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:50:51.547+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d4d5f8c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.547+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.547+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305006496 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.548+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.549+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767005716 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.563+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@742543b4]
2026-01-09T13:50:51.566+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.568+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:51.569+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:50:51.573+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:50:51.591+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe44c7a]
2026-01-09T13:50:51.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.583+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.583+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.584+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f46b86d]
2026-01-09T13:50:51.586+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:51.593+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.615+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bbc5de4] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.608+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a6c7ee1] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.609+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.611+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:51.613+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.615+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.616+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915817845 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.617+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336248059 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.618+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6bbf36] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.618+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:51.618+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d4d5f8c]
2026-01-09T13:50:51.619+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46acedfc]
2026-01-09T13:50:51.619+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.619+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:51.631+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:50:51.620+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.620+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344596422 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.626+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.626+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.628+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.632+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.632+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.633+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372979d9] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.633+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:51.634+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2abb7ee5] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.637+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.639+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:50:51.643+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1358950799 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.643+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1913109246 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.644+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.645+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.646+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a6c7ee1]
2026-01-09T13:50:51.646+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:51.646+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.647+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bbc5de4]
2026-01-09T13:50:51.649+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:51.650+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.651+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:51.652+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.652+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.652+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:50:51.654+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785a3566] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.663+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:51.663+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e066f13] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.664+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6bbf36]
2026-01-09T13:50:51.664+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1365825530 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:51.678+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.665+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:51.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1470907466 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.667+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.679+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.679+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:51.681+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:51.682+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:50:51.683+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.685+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:51.686+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.687+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.694+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b14bb0] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.695+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:51.696+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822974553 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.696+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.698+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:51.698+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.703+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.706+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:51.715+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:51.720+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2abb7ee5]
2026-01-09T13:50:51.720+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@372979d9]
2026-01-09T13:50:51.733+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.733+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2783b608] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.734+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1528362128 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.728+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:51.730+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.730+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.731+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:51.750+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:51.768+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:51.751+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:51.752+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca9991c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.757+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.764+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785a3566]
2026-01-09T13:50:51.765+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e066f13]
2026-01-09T13:50:51.772+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:51.773+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496279098 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.779+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.775+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b14bb0]
2026-01-09T13:50:51.782+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.782+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3517c961] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.783+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1047587000 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:51.783+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.784+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.776+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.777+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.795+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5439799c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.778+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.781+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.794+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:50:51.797+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1230695167 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:51.797+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.799+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3ff581] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.800+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.799+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.800+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@432459933 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.803+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.802+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.802+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:51.808+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.810+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.814+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3517c961]
2026-01-09T13:50:51.815+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:51.816+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:50:51.818+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2783b608]
2026-01-09T13:50:51.818+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.818+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:51.821+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.825+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.825+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.825+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:51.826+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:51.827+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac7f160] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.828+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca9991c]
2026-01-09T13:50:51.828+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5439799c]
2026-01-09T13:50:51.829+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:51.830+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.830+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1347299782 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.831+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.836+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.837+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.843+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.847+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.848+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:51.849+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:50:51.849+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56903334] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.849+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3ff581]
2026-01-09T13:50:51.850+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.851+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.859+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.860+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756277207 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.861+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.867+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@391129e6] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.866+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:51.868+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817661624 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:51.877+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.870+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:51.879+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:51.881+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.892+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ac7f160]
2026-01-09T13:50:51.893+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.895+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d134fe] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.896+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:51.897+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:51.903+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1296599669 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:51.914+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@391129e6]
2026-01-09T13:50:51.916+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56903334]
2026-01-09T13:50:51.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:51.930+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:51.931+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:51.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:51.940+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:51.942+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f99ec8e] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:51.943+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:51.945+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147291610 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:51.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:51.949+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:52.005+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:52.063+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d134fe]
2026-01-09T13:50:52.064+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:52.065+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e59316] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:52.065+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174551504 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:52.067+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:52.072+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:52.140+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:52.184+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f99ec8e]
2026-01-09T13:50:52.184+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:52.195+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:52.196+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57e59316]
2026-01-09T13:50:52.197+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:52.197+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:52.199+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:52.199+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:50:52.201+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:57.057+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&cardNumber=1111
2026-01-09T13:50:57.062+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&cardNumber=1111
2026-01-09T13:50:57.065+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:50:57.066+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&cardNumber=1111
2026-01-09T13:50:57.067+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&cardNumber=1111", parameters={masked}
2026-01-09T13:50:57.067+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:50:57.068+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.068+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c7aa03] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.071+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999069669 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.075+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.076+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.079+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.079+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47c7aa03]
2026-01-09T13:50:57.080+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.080+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d844466] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.080+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2131858194 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.081+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.082+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.083+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.084+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d844466]
2026-01-09T13:50:57.084+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.085+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd19d36] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.085+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@862538686 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.085+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:57.087+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:57.095+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:50:57.095+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd19d36]
2026-01-09T13:50:57.096+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.096+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a3672a] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.096+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674980645 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.097+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.097+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.099+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.100+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8a3672a]
2026-01-09T13:50:57.100+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.100+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f05991c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.101+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470558177 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.102+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:57.103+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:57.108+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:57.109+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f05991c]
2026-01-09T13:50:57.110+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.110+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6a0946] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.111+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463030471 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.111+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:57.112+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:57.114+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:57.115+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a6a0946]
2026-01-09T13:50:57.117+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466f55a0] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1236525143 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.118+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:50:57.119+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:50:57.124+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:50:57.125+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@466f55a0]
2026-01-09T13:50:57.125+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.126+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eff83cd] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.126+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1921060327 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.126+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.127+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.130+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.130+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4eff83cd]
2026-01-09T13:50:57.131+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.131+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566aa10c] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.132+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689887207 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.132+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:57.133+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:57.136+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:57.136+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566aa10c]
2026-01-09T13:50:57.137+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.137+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d0d6cf5] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.137+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@242011801 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.139+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.140+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.142+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.142+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d0d6cf5]
2026-01-09T13:50:57.143+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.143+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@529e0a00] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.144+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@882032226 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.145+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:50:57.146+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:50:57.148+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:50:57.149+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@529e0a00]
2026-01-09T13:50:57.151+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:57.151+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:50:57.152+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:57.328+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:57.328+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:57.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:57.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:57.337+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:57.342+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:57.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:57.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:57.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:57.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:57.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:57.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:57.346+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.346+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.346+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a081c22] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a4ceb8] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1523124998 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.348+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:57.349+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:57.351+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@276783090 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:57.351+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:57.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:57.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:57.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a081c22]
2026-01-09T13:50:57.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69ade292] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1400773257 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:57.360+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:57.361+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.361+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a4ceb8]
2026-01-09T13:50:57.362+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.364+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:57.367+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643be7a1] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:57.370+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1472300365 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:57.378+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:57.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.385+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:57.389+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69ade292]
2026-01-09T13:50:57.394+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:57.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:57.402+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:57.429+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:57.430+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@643be7a1]
2026-01-09T13:50:57.432+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:57.435+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:57.444+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:58.852+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:50:58.852+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:50:58.853+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:50:58.853+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/37
2026-01-09T13:50:58.858+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/37
2026-01-09T13:50:58.859+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me/signatures
2026-01-09T13:50:58.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:50:58.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:50:58.875+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:50:58.876+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/37
2026-01-09T13:50:58.887+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:50:58.912+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/37
2026-01-09T13:50:58.892+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:50:58.895+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/37
2026-01-09T13:50:58.896+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me/signatures
2026-01-09T13:50:58.917+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/37
2026-01-09T13:50:58.907+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:50:58.912+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:50:58.926+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:50:58.913+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/37
2026-01-09T13:50:58.914+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:50:58.918+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/users/me/signatures
2026-01-09T13:50:58.925+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/37
2026-01-09T13:50:58.926+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:50:58.926+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:50:58.927+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/37", parameters={}
2026-01-09T13:50:58.927+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:50:58.927+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me/signatures
2026-01-09T13:50:58.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/37", parameters={}
2026-01-09T13:50:58.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:50:58.928+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:50:58.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:50:58.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:50:58.929+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me/signatures", parameters={}
2026-01-09T13:50:58.930+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseDetail(Long)
2026-01-09T13:50:58.931+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.932+09:00  INFO 5824 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:50:58.932+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.932+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.932+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getMySignatures()
2026-01-09T13:50:58.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a5fae51] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c746dd3] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.933+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f789ec8] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.933+09:00  INFO 5824 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 내 서명/도장 목록 조회 요청 - userId: 4, companyId: 1
2026-01-09T13:50:58.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77e3417] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.935+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7b8dbc] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.937+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.939+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1391825605 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:58.940+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291425098 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:58.942+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44655afb] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.942+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:50:58.943+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:50:58.946+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:58.948+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:58.948+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109528066 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:58.948+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@785231424 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:50:58.949+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@736163102 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:50:58.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@571431201 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:50:58.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:50:58.950+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:50:58.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ?
2026-01-09T13:50:58.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:50:58.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:50:58.952+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.U.findByUserId                   : ==>  Preparing: SELECT * FROM user_signature_tb WHERE user_id = ? AND company_id = ? ORDER BY is_default DESC, created_at DESC
2026-01-09T13:50:58.952+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c746dd3]
2026-01-09T13:50:58.952+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a5fae51]
2026-01-09T13:50:58.953+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:58.953+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:58.953+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:50:58.954+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.U.findByUserId                   : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:50:58.959+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.959+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.961+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a0c91d] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.962+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1595c45f] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.963+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:50:58.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2075825427 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:58.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042370195 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:50:58.965+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f789ec8]
2026-01-09T13:50:58.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseReportById        : <==      Total: 1
2026-01-09T13:50:58.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:50:58.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.U.findByUserId                   : <==      Total: 2
2026-01-09T13:50:58.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:50:58.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:58.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77e3417]
2026-01-09T13:50:58.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:58.967+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7b8dbc]
2026-01-09T13:50:58.968+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44655afb]
2026-01-09T13:50:58.968+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:58.968+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:58.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:58.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:50:58.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:58.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:58.970+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f50cc1] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:58.974+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:58.977+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:50:58.978+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=서명/도장 목록 조회 성공, data=[UserSignatureDto(signatureId=6, userId=4, si (truncated)...]
2026-01-09T13:50:58.979+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025310578 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:58.981+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:58.983+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:58.984+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==>  Preparing: SELECT expense_detail_id, expense_report_id, category, merchant_name, description, amount, actual_paid_amount, payment_method, payment_req_date, card_number, is_pre_approval, note, is_tax_deductible, non_deductible_reason, company_id FROM expense_detail_tb WHERE expense_report_id = ? AND company_id = ?
2026-01-09T13:50:58.988+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:58.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:50:58.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:58.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetails           : <==      Total: 1
2026-01-09T13:50:59.000+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20a0c91d]
2026-01-09T13:50:59.001+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1595c45f]
2026-01-09T13:50:59.001+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f50cc1]
2026-01-09T13:50:59.001+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:59.002+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:59.002+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc47300] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:59.002+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:59.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1535812996 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:59.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:50:59.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a420d8e] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:59.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:50:59.005+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:59.009+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905873667 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:59.009+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:59.009+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==>  Preparing: SELECT al.*, u.korean_name AS approverName, uc.position AS approverPosition FROM approval_line_tb al JOIN user_tb u ON al.approver_id = u.user_id JOIN user_company_tb uc ON al.approver_id = uc.user_id AND al.company_id = uc.company_id WHERE al.expense_report_id = ? AND al.company_id = ? ORDER BY al.step_order ASC
2026-01-09T13:50:59.011+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:59.013+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:50:59.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dc47300]
2026-01-09T13:50:59.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectApprovalLines            : <==      Total: 1
2026-01-09T13:50:59.016+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:59.016+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a420d8e]
2026-01-09T13:50:59.016+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470af5d2] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:59.017+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:59.017+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428393024 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:59.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5621f2ed] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:59.018+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:50:59.019+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1552264154 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:59.019+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:59.020+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:50:59.023+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:50:59.027+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:50:59.028+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470af5d2]
2026-01-09T13:50:59.030+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:59.030+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed13196] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:59.030+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:50:59.030+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323691003 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:50:59.030+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5621f2ed]
2026-01-09T13:50:59.031+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:59.031+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:50:59.031+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:59.031+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7be5c8] was not registered for synchronization because synchronization is not active
2026-01-09T13:50:59.032+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@865391856 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:50:59.032+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:50:59.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:50:59.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:59.033+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ed13196]
2026-01-09T13:50:59.034+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:59.034+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:50:59.034+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=37, drafterId=4, r (truncated)...]
2026-01-09T13:50:59.035+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7be5c8]
2026-01-09T13:50:59.036+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:50:59.037+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:50:59.099+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상세 조회 성공, data=ExpenseReportDto(expenseReportId=37, drafterId=4, r (truncated)...]
2026-01-09T13:50:59.102+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.253+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.256+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:51:00.257+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:51:00.257+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.257+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:51:00.257+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:51:00.264+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.265+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:51:00.268+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.268+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2026-01-09T13:51:00.269+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:51:00.269+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/my-approvals
2026-01-09T13:51:00.275+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.276+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-09T13:51:00.281+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.300+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:51:00.290+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:51:00.290+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.295+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:51:00.298+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:51:00.310+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:51:00.302+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:51:00.303+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.308+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:51:00.309+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:51:00.311+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:51:00.312+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:51:00.318+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:51:00.313+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.318+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:51:00.313+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:51:00.313+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.317+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:51:00.318+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:51:00.318+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:51:00.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:51:00.319+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:51:00.320+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.320+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e477202] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.324+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:51:00.325+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.326+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:51:00.326+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.331+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558b99a8] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.327+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.328+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.328+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.331+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.332+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103e993] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7bf1fb] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197f9efa] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.333+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c4421a5] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.335+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@958742352 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.335+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718410302 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.338+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799184542 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:51:00.340+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936556205 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.341+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.342+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.342+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@973629842 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.343+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.343+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.343+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663643378 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.344+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.344+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:51:00.344+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:51:00.345+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.346+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.347+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.348+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:51:00.349+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.350+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e477202]
2026-01-09T13:51:00.351+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:51:00.351+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.351+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558b99a8]
2026-01-09T13:51:00.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:51:00.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b7bf1fb]
2026-01-09T13:51:00.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.352+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c4421a5]
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@103e993]
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@197f9efa]
2026-01-09T13:51:00.353+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.354+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e493d2] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.354+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.359+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.360+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:51:00.361+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1442922514 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.361+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab40735] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.362+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:51:00.363+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d62ede4] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.364+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7648bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.365+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.365+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.373+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.366+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@408204266 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.367+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@584670201 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.377+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.368+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@10287968 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.369+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:51:00.373+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.376+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.377+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.377+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65e493d2]
2026-01-09T13:51:00.377+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.378+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:51:00.381+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.381+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.381+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.382+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:51:00.383+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.384+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7258b1f3] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.397+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@862180969 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.389+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:51:00.390+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.397+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:51:00.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.399+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:51:00.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.401+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b227382] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.405+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.410+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab40735]
2026-01-09T13:51:00.410+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d62ede4]
2026-01-09T13:51:00.412+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e7648bd]
2026-01-09T13:51:00.413+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246868324 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.420+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.428+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:00.429+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.417+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f09b824] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.418+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.419+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.420+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.429+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:51:00.433+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.435+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@344976368 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.435+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ae3a30] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.435+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:00.436+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.436+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7258b1f3]
2026-01-09T13:51:00.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.437+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1569261151 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.441+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.442+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.445+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.446+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.447+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.447+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.448+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@581651df] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.450+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2026-01-09T13:51:00.452+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.452+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.453+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878434823 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.454+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.459+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:51:00.460+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.461+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.461+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.461+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b227382]
2026-01-09T13:51:00.462+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2026-01-09T13:51:00.462+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.462+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f09b824]
2026-01-09T13:51:00.463+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.464+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.464+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2026-01-09T13:51:00.464+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a86f69] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.464+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.469+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c89761f] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.465+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf08f72] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.468+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:51:00.477+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@600201197 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.477+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.479+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.469+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1178908662 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.470+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778254130 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.471+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.477+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.478+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:51:00.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ae3a30]
2026-01-09T13:51:00.482+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.485+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.485+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@581651df]
2026-01-09T13:51:00.486+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307bb09a] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.493+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.496+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.496+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bf08f72]
2026-01-09T13:51:00.496+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.501+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.497+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.497+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749262183 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.497+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ea2c64] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.501+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcae62c] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.502+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:51:00.503+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.504+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444148211 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.507+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49182712 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.509+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.514+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.514+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.518+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.520+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:51:00.527+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.528+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.530+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-09T13:51:00.531+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.531+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.536+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a86f69]
2026-01-09T13:51:00.537+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.535+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10&status%5B%5D=APPROVED
2026-01-09T13:51:00.536+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c89761f]
2026-01-09T13:51:00.536+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:51:00.537+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.537+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.543+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@307bb09a]
2026-01-09T13:51:00.537+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e9ce3b3] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.539+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10&status%5B%5D=APPROVED", parameters={masked}
2026-01-09T13:51:00.543+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dcae62c]
2026-01-09T13:51:00.543+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.543+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ea2c64]
2026-01-09T13:51:00.544+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.544+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166203950 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.544+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, String, String, String)
2026-01-09T13:51:00.545+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.545+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:00.545+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.546+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0536d0] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.546+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.546+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a34af98] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.546+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.548+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a74f91d] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.548+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1469562474 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.549+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.550+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.550+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1622528372 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.550+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b28668] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.551+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534879547 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.551+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.556+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/my-approvals
2026-01-09T13:51:00.557+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.559+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@858826218 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.559+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:51:00.559+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.559+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.564+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e9ce3b3]
2026-01-09T13:51:00.563+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/my-approvals
2026-01-09T13:51:00.564+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.564+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.564+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:51:00.565+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.565+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/my-approvals
2026-01-09T13:51:00.566+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.566+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.567+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:00.567+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/my-approvals", parameters={}
2026-01-09T13:51:00.567+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a0536d0]
2026-01-09T13:51:00.567+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:51:00.569+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.572+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMyApprovals()
2026-01-09T13:51:00.573+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.574+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a34af98]
2026-01-09T13:51:00.575+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.580+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:51:00.576+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-09T13:51:00.577+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@263e070b] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.579+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.579+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.580+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e437e36] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.580+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a74f91d]
2026-01-09T13:51:00.581+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891160234 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.581+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:51:00.581+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25b28668]
2026-01-09T13:51:00.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-09T13:51:00.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757014983 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:51:00.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.582+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.583+09:00 DEBUG 5824 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.585+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.591+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d0b08a] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.585+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-09T13:51:00.586+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status IN ('APPROVED', 'REJECTED') AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.586+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ccefc27] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.591+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.593+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.594+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036395582 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.597+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-09T13:51:00.599+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.600+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091524274 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.609+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.614+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.615+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-09T13:51:00.628+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:51:00.630+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.630+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.630+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.631+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.631+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@263e070b]
2026-01-09T13:51:00.634+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.635+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.636+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15293212] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.647+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.648+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.649+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1724593961 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.649+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10f175a7] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.649+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.650+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.651+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176579821 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.651+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe0f962] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.651+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 4(Long)
2026-01-09T13:51:00.653+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.653+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] .i.b.m.E.selectMyApprovedReportsByUserId : <==      Total: 16
2026-01-09T13:51:00.659+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.660+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414032417 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.661+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48d0b08a]
2026-01-09T13:51:00.661+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e437e36]
2026-01-09T13:51:00.662+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:51:00.663+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.664+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.665+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.666+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-09T13:51:00.667+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ccefc27]
2026-01-09T13:51:00.669+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed34b26] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.675+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1137372822 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.669+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.669+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f210cc6] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.670+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15293212]
2026-01-09T13:51:00.670+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.670+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.676+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.676+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2059822554 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:51:00.677+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.677+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10f175a7]
2026-01-09T13:51:00.677+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cb370e] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.680+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.681+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.681+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-09T13:51:00.682+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.682+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1823459348 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.686+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.689+09:00 DEBUG 5824 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.692+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d06dc3] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.693+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.696+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.697+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1125607219 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.702+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.707+09:00 DEBUG 5824 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-09T13:51:00.710+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:51:00.713+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:51:00.716+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.720+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe0f962]
2026-01-09T13:51:00.720+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.726+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca21008] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.727+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1953612567 wrapping com.mysql.cj.jdbc.ConnectionImpl@162e3f42] will not be managed by Spring
2026-01-09T13:51:00.729+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.729+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.734+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.736+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.737+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:51:00.737+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.743+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27cb370e]
2026-01-09T13:51:00.743+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ed34b26]
2026-01-09T13:51:00.744+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f210cc6]
2026-01-09T13:51:00.744+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.745+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.745+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.746+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.749+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37920447] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.746+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.748+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b907d1b] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.748+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a339c15] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.750+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@275933519 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:51:00.751+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.752+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:51:00.756+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.759+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1159552544 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.760+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783116814 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.760+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:51:00.761+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca21008]
2026-01-09T13:51:00.761+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58d06dc3]
2026-01-09T13:51:00.765+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.766+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:51:00.766+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.767+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 6(Long), 1(Long)
2026-01-09T13:51:00.767+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.768+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.768+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.769+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:51:00.770+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), APPROVED(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.775+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:00.775+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75669c5d] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.777+09:00 DEBUG 5824 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.775+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@224bab0a] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.778+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@780360007 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.784+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-09T13:51:00.827+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1706363090 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.828+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:51:00.829+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 22
2026-01-09T13:51:00.829+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2026-01-09T13:51:00.831+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:51:00.841+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-09T13:51:00.833+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-09T13:51:00.834+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.834+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b907d1b]
2026-01-09T13:51:00.834+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37920447]
2026-01-09T13:51:00.834+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a339c15]
2026-01-09T13:51:00.845+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-09T13:51:00.851+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.851+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.852+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.853+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.853+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-09T13:51:00.854+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 28
2026-01-09T13:51:00.861+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a3abe7] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.865+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36cea16c] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.868+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306753261 wrapping com.mysql.cj.jdbc.ConnectionImpl@13e5f977] will not be managed by Spring
2026-01-09T13:51:00.866+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2026-01-09T13:51:00.867+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.868+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-09T13:51:00.868+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75669c5d]
2026-01-09T13:51:00.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@291056590 wrapping com.mysql.cj.jdbc.ConnectionImpl@1b6b6f3] will not be managed by Spring
2026-01-09T13:51:00.869+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.870+09:00 DEBUG 5824 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.872+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@224bab0a]
2026-01-09T13:51:00.874+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.879+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.916+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29db49c4] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.916+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746844886 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.917+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.879+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.882+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.897+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.919+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ca417e] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.897+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e3701be] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.918+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.918+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.920+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@740729846 wrapping com.mysql.cj.jdbc.ConnectionImpl@44ae0868] will not be managed by Spring
2026-01-09T13:51:00.920+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736437424 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.924+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.925+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-09T13:51:00.925+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.927+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 4(Long), 1(Long)
2026-01-09T13:51:00.934+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.935+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.935+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.936+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36cea16c]
2026-01-09T13:51:00.937+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29db49c4]
2026-01-09T13:51:00.939+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a3abe7]
2026-01-09T13:51:00.941+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:00.941+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 7
2026-01-09T13:51:00.943+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.944+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.944+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ca417e]
2026-01-09T13:51:00.944+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.945+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e3701be]
2026-01-09T13:51:00.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2626f871] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=내 결재 문서 조회 성공, data=[ExpenseReportDto(expenseReportId=33, drafterI (truncated)...]
2026-01-09T13:51:00.947+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:00.949+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:51:00.951+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:00.953+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1430257688 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:00.954+09:00 DEBUG 5824 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.959+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:00.960+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432d0cc7] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:00.961+09:00 DEBUG 5824 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.962+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:51:00.964+09:00 DEBUG 5824 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:00.966+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1426182125 wrapping com.mysql.cj.jdbc.ConnectionImpl@26e09461] will not be managed by Spring
2026-01-09T13:51:00.968+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 38(Long), 37(Long), 36(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-09T13:51:00.969+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:00.977+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:00.997+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 37
2026-01-09T13:51:00.999+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2626f871]
2026-01-09T13:51:01.000+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:01.003+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:51:01.004+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432d0cc7]
2026-01-09T13:51:01.007+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c94a9c] was not registered for synchronization because synchronization is not active
2026-01-09T13:51:01.008+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:01.010+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@423485060 wrapping com.mysql.cj.jdbc.ConnectionImpl@3e1f6341] will not be managed by Spring
2026-01-09T13:51:01.012+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=38, drafterId= (truncated)...]
2026-01-09T13:51:01.013+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:51:01.014+09:00 DEBUG 5824 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:51:01.016+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:51:01.050+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:51:01.061+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c94a9c]
2026-01-09T13:51:01.062+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-09T13:51:01.065+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-09T13:51:01.067+09:00 DEBUG 5824 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T13:58:44.258+09:00  INFO 16068 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 16068 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-09T13:58:44.263+09:00 DEBUG 16068 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-09T13:58:44.266+09:00  INFO 16068 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-09T13:58:45.941+09:00 DEBUG 16068 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-09T13:58:45.942+09:00 DEBUG 16068 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-09T13:58:46.254+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-09T13:58:46.254+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-09T13:58:46.255+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-09T13:58:46.255+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-09T13:58:46.256+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-09T13:58:46.257+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-09T13:58:46.257+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-09T13:58:46.259+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-09T13:58:46.262+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-09T13:58:46.265+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-09T13:58:46.267+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-09T13:58:46.269+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-09T13:58:46.271+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-09T13:58:46.273+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-09T13:58:46.282+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-09T13:58:46.284+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-09T13:58:46.288+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-09T13:58:46.291+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-01-09T13:58:46.302+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-09T13:58:46.307+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-09T13:58:46.312+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-09T13:58:46.315+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-09T13:58:46.317+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-09T13:58:46.322+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-09T13:58:46.325+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-09T13:58:46.329+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-09T13:58:46.330+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-09T13:58:46.333+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-09T13:58:46.334+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-09T13:58:46.335+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-09T13:58:46.337+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-09T13:58:46.338+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-09T13:58:46.340+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-09T13:58:46.341+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-09T13:58:46.342+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-09T13:58:46.345+09:00 DEBUG 16068 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-01-09T13:58:47.578+09:00  INFO 16068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-09T13:58:47.615+09:00  INFO 16068 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T13:58:47.624+09:00  INFO 16068 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-09T13:58:47.763+09:00  INFO 16068 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T13:58:47.764+09:00  INFO 16068 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3416 ms
2026-01-09T13:58:47.863+09:00 DEBUG 16068 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-09T13:58:47.866+09:00 DEBUG 16068 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-09T13:58:48.878+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-09T13:58:48.933+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-09T13:58:49.027+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-09T13:58:49.066+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-09T13:58:49.146+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-09T13:58:49.224+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-09T13:58:49.267+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-09T13:58:49.405+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-09T13:58:49.529+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-09T13:58:49.558+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-09T13:58:49.640+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-09T13:58:49.660+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-09T13:58:49.747+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-09T13:58:49.756+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-09T13:58:49.782+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-09T13:58:49.805+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-09T13:58:49.840+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-09T13:58:49.853+09:00 DEBUG 16068 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-01-09T13:58:50.739+09:00 DEBUG 16068 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 154 mappings in 'requestMappingHandlerMapping'
2026-01-09T13:58:50.932+09:00 DEBUG 16068 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-09T13:58:51.011+09:00  WARN 16068 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: a0a8008d-1283-41a8-9909-d315828aa687

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-09T13:58:51.037+09:00  INFO 16068 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-09T13:58:51.283+09:00 DEBUG 16068 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T13:58:51.519+09:00 DEBUG 16068 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-09T13:58:51.652+09:00 DEBUG 16068 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-09T13:58:51.701+09:00 DEBUG 16068 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-09T13:58:52.136+09:00  INFO 16068 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-09T13:58:52.190+09:00  INFO 16068 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.972 seconds (process running for 9.532)
2026-01-09T13:58:57.836+09:00  INFO 16068 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T13:58:57.854+09:00  INFO 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T13:58:57.858+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-09T13:58:57.859+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-09T13:58:57.863+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-09T13:58:57.868+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a90fcaa
2026-01-09T13:58:57.871+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1488a861
2026-01-09T13:58:57.871+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-09T13:58:57.873+09:00  INFO 16068 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2026-01-09T13:58:57.920+09:00 DEBUG 16068 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/tax-review?format=full
2026-01-09T13:58:57.988+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/tax-review?format=full
2026-01-09T13:59:00.457+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/tax-review
2026-01-09T13:59:00.463+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/tax-review?format=full
2026-01-09T13:59:00.468+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/tax-review?format=full", parameters={masked}
2026-01-09T13:59:00.471+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportTaxReview(String, String, String)
2026-01-09T13:59:00.514+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T13:59:00.531+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T13:59:00.553+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:00.575+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3418ccf6] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:00.650+09:00  INFO 16068 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T13:59:01.146+09:00  INFO 16068 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6f94993e
2026-01-09T13:59:01.150+09:00  INFO 16068 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T13:59:01.157+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@49590905 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.169+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T13:59:01.235+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-09T13:59:01.322+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-01-09T13:59:01.336+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3418ccf6]
2026-01-09T13:59:01.344+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.347+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ae4c3b] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.350+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617008808 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.352+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T13:59:01.353+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T13:59:01.374+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T13:59:01.378+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42ae4c3b]
2026-01-09T13:59:01.381+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.387+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15044874] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.393+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@119896050 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.402+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:59:01.405+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 37(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-09T13:59:01.467+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T13:59:01.475+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15044874]
2026-01-09T13:59:01.483+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.485+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45974dcb] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.492+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510347646 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.498+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T13:59:01.499+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 24(Long), 25(Long), 27(Long), 31(Long), 32(Long), 33(Long), 34(Long), 37(Long), 39(Long)
2026-01-09T13:59:01.508+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T13:59:01.515+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45974dcb]
2026-01-09T13:59:01.517+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.519+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7589db] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.521+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1899362295 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.523+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.524+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-09T13:59:01.531+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:01.535+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e7589db]
2026-01-09T13:59:01.536+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.537+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ffd0c6] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.539+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112977491 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.541+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.541+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-09T13:59:01.556+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:01.557+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ffd0c6]
2026-01-09T13:59:01.564+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.568+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2314a458] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.569+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@230897948 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.570+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.575+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-09T13:59:01.608+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.618+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2314a458]
2026-01-09T13:59:01.623+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.624+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75004157] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.631+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1940921803 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.633+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.635+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-09T13:59:01.639+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.642+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75004157]
2026-01-09T13:59:01.652+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.654+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b15376e] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.655+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818810274 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.669+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.681+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-09T13:59:01.685+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.686+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b15376e]
2026-01-09T13:59:01.687+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.688+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f87720] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.691+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@879005398 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.692+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.696+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-09T13:59:01.706+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.708+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f87720]
2026-01-09T13:59:01.713+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.716+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f629884] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.717+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1785117503 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.719+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.721+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-09T13:59:01.725+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.729+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f629884]
2026-01-09T13:59:01.732+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.733+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386cbd8a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.734+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57783483 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.736+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.739+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-09T13:59:01.759+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.765+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386cbd8a]
2026-01-09T13:59:01.769+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.769+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffb1e2] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.773+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1604504794 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.774+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.780+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-09T13:59:01.818+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.823+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffb1e2]
2026-01-09T13:59:01.825+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.830+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa316f] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.832+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2029383891 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.836+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.838+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-09T13:59:01.857+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:01.874+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fa316f]
2026-01-09T13:59:01.879+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.881+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@236d916a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.885+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967832353 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.887+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.890+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-09T13:59:01.934+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-09T13:59:01.948+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@236d916a]
2026-01-09T13:59:01.949+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.950+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df42bc0] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.953+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1787605869 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.955+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.958+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 25(Long), 1(Long)
2026-01-09T13:59:01.971+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:01.975+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df42bc0]
2026-01-09T13:59:01.978+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:01.989+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386b26ca] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:01.991+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@649523684 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:01.992+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:01.998+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-09T13:59:02.022+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:02.023+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@386b26ca]
2026-01-09T13:59:02.028+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:02.033+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33315b97] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:02.035+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1383676784 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:02.036+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:02.037+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-09T13:59:02.048+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:02.050+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33315b97]
2026-01-09T13:59:02.055+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:02.058+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52be9150] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:02.114+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1802143091 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:02.115+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:02.116+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-09T13:59:02.183+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T13:59:02.203+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52be9150]
2026-01-09T13:59:02.240+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:02.245+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d879f5c] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:02.249+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462798253 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:02.252+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:02.254+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-09T13:59:02.269+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:02.271+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d879f5c]
2026-01-09T13:59:02.272+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:02.273+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48da02c0] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:02.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1235622392 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:02.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:02.279+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 34(Long), 1(Long)
2026-01-09T13:59:02.287+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:02.306+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48da02c0]
2026-01-09T13:59:02.312+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:02.314+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4edb682] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:02.315+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@473524445 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:02.317+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:02.319+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T13:59:02.347+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:02.359+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4edb682]
2026-01-09T13:59:02.364+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:02.364+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f96cf77] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:02.365+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@908475297 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:02.372+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T13:59:02.380+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T13:59:02.385+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T13:59:02.389+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f96cf77]
2026-01-09T13:59:03.178+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.180+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e74cd2d] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.187+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1836390876 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.201+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.208+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.236+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.253+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e74cd2d]
2026-01-09T13:59:03.264+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:03.272+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6cc53d] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.276+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215960010 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.280+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.282+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.287+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.288+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c6cc53d]
2026-01-09T13:59:03.292+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:03.300+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.303+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6657e4b] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.304+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1008338583 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.305+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.307+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.318+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.321+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6657e4b]
2026-01-09T13:59:03.328+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.335+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6351f24a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.336+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1315655501 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.337+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.340+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.366+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.367+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6351f24a]
2026-01-09T13:59:03.374+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.380+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43cc08a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.381+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1746117093 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.382+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.385+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.391+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.392+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43cc08a]
2026-01-09T13:59:03.401+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.405+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10661738] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.406+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1924967726 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.408+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.414+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.419+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.421+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10661738]
2026-01-09T13:59:03.430+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.435+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fdf1680] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.436+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1872758676 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.437+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.439+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.454+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.457+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fdf1680]
2026-01-09T13:59:03.466+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.482+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5629e604] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.483+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1635094871 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.496+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.505+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.546+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.553+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5629e604]
2026-01-09T13:59:03.561+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.567+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6698cb93] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.571+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2140670082 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.572+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.575+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.590+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.604+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6698cb93]
2026-01-09T13:59:03.622+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.635+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@92585e6] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.638+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@700519170 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.639+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.647+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.665+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.668+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@92585e6]
2026-01-09T13:59:03.674+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.675+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e4cbd2] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.684+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1472953053 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.686+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.691+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.700+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.701+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72e4cbd2]
2026-01-09T13:59:03.705+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.706+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76044181] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.707+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585805512 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.707+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.708+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.716+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.716+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76044181]
2026-01-09T13:59:03.719+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.720+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f6c022] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.721+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363502036 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.723+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.724+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.730+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.732+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41f6c022]
2026-01-09T13:59:03.738+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.739+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1563c520] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.740+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1659101310 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.740+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.741+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.754+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.757+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1563c520]
2026-01-09T13:59:03.761+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.764+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fc91c2] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.771+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701849686 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.784+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.792+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:03.800+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.801+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fc91c2]
2026-01-09T13:59:03.807+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:03.815+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed2d69] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:03.817+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1967567924 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:03.818+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:03.820+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:03.840+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:03.842+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed2d69]
2026-01-09T13:59:03.884+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 2개
2026-01-09T13:59:03.971+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.033+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d511b83] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.085+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675583532 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.102+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.103+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:59:04.108+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:04.110+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d511b83]
2026-01-09T13:59:04.113+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.115+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.117+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162ee37c] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.118+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1675001657 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.118+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.119+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:59:04.121+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:04.121+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@162ee37c]
2026-01-09T13:59:04.124+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.129+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aca16f6] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.129+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@454963152 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.130+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.131+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:04.142+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:04.148+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aca16f6]
2026-01-09T13:59:04.150+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.152+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.153+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fde3e60] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.154+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1971973835 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.154+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.156+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:04.161+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:04.162+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fde3e60]
2026-01-09T13:59:04.165+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.166+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.180+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59052084] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.181+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2005281018 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.182+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.183+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:04.185+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:04.185+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59052084]
2026-01-09T13:59:04.189+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.189+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bbe9add] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.190+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995070510 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.190+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.193+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:59:04.196+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:04.197+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bbe9add]
2026-01-09T13:59:04.198+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.204+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.207+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba64c5c] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.207+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@342967175 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.211+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.212+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:04.221+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:04.223+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba64c5c]
2026-01-09T13:59:04.225+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.231+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.235+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bfad979] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.235+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1923595510 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.236+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.237+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:04.240+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:04.240+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bfad979]
2026-01-09T13:59:04.244+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.247+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c426a44] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.249+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1104041380 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.250+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.251+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:04.254+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:04.254+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c426a44]
2026-01-09T13:59:04.257+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.257+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477eb2b5] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.258+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679600212 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.258+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.259+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:04.264+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:04.265+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477eb2b5]
2026-01-09T13:59:04.266+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.267+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.268+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d9d13a1] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.269+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@801431997 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.269+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.270+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:04.273+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:04.273+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d9d13a1]
2026-01-09T13:59:04.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T13:59:04.693+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:04.696+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8e3ec6] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:04.697+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1720787041 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:04.699+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:04.700+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:04.965+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.013+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8e3ec6]
2026-01-09T13:59:05.068+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.102+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436405f0] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.118+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@299393144 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.123+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.150+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.162+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.164+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@436405f0]
2026-01-09T13:59:05.166+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.169+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e85d1a9] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.170+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294801420 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.171+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.187+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.224+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.237+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e85d1a9]
2026-01-09T13:59:05.270+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37740903] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.280+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@930914013 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.284+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.287+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.291+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.297+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37740903]
2026-01-09T13:59:05.308+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.331+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eff1a81] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.335+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961815116 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.350+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.352+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.357+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.358+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eff1a81]
2026-01-09T13:59:05.362+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.364+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586125f7] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.364+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@236722024 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.365+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.366+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.369+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.369+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@586125f7]
2026-01-09T13:59:05.370+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.374+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12857201] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.378+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134207803 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.379+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.380+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.401+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.404+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12857201]
2026-01-09T13:59:05.405+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.406+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b022352] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.407+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@305023305 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.407+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.413+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.422+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.423+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b022352]
2026-01-09T13:59:05.424+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.425+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3304485f] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.425+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@153548254 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.430+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.432+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.448+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.452+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3304485f]
2026-01-09T13:59:05.454+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.464+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30daee09] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.468+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554503933 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.469+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.470+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.473+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.474+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30daee09]
2026-01-09T13:59:05.476+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.480+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62e9aa43] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.481+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@86289073 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.487+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.488+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.492+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.497+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62e9aa43]
2026-01-09T13:59:05.499+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.508+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f578334] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.520+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549686063 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.534+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.535+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.589+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.590+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f578334]
2026-01-09T13:59:05.591+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.596+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75c03dfe] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.597+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1178422865 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.597+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.598+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.616+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.618+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75c03dfe]
2026-01-09T13:59:05.619+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.620+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7aab41] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.621+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@413226237 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.623+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.624+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.631+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.631+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c7aab41]
2026-01-09T13:59:05.633+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.634+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170056c3] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.634+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@773445569 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.635+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.636+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.638+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.639+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@170056c3]
2026-01-09T13:59:05.642+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.656+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1ef092] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.657+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@196942812 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.663+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.665+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:05.690+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.697+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e1ef092]
2026-01-09T13:59:05.698+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.701+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce240f9] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.701+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427226007 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.706+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.709+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:59:05.725+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.730+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce240f9]
2026-01-09T13:59:05.732+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.737+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec69cbf] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.738+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@537780246 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.739+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.741+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:59:05.754+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.755+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec69cbf]
2026-01-09T13:59:05.756+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.757+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47fed52d] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.758+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103937545 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.758+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.764+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:05.767+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.768+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47fed52d]
2026-01-09T13:59:05.769+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.769+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad1a616] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.770+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1001872860 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.771+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.772+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:05.774+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.774+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ad1a616]
2026-01-09T13:59:05.775+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.779+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@663f021a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.781+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1641675229 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.782+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.783+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:05.787+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.788+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@663f021a]
2026-01-09T13:59:05.789+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.789+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174c9041] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.790+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@167608160 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.791+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.791+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:59:05.803+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:05.804+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174c9041]
2026-01-09T13:59:05.805+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.806+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f2148d5] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.807+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1008469992 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.808+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.809+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:05.815+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:05.816+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f2148d5]
2026-01-09T13:59:05.817+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.817+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afc02d8] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.818+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@526290610 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.818+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.820+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:05.823+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:05.823+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afc02d8]
2026-01-09T13:59:05.824+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.829+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e8f1b2f] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.830+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692350692 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.831+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.832+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:05.837+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:05.837+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e8f1b2f]
2026-01-09T13:59:05.839+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.840+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43bd279f] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.841+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1707936420 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.841+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.842+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:05.849+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:05.850+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43bd279f]
2026-01-09T13:59:05.851+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.851+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fae91a2] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.852+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621141527 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.853+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.853+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:05.856+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:05.858+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fae91a2]
2026-01-09T13:59:05.926+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:05.947+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607132ed] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:05.956+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259032426 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:05.970+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:05.984+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:05.990+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:05.991+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607132ed]
2026-01-09T13:59:05.998+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.000+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756c6b28] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.001+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484694322 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.002+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.002+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.006+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.008+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@756c6b28]
2026-01-09T13:59:06.014+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.016+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3e2a4b] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.017+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1780296655 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.018+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.019+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.025+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.029+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3e2a4b]
2026-01-09T13:59:06.031+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.033+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70010947] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.034+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2103445886 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.036+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.038+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.043+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.052+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70010947]
2026-01-09T13:59:06.053+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.054+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf86e90] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.072+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1145766777 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.083+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.091+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.129+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.131+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf86e90]
2026-01-09T13:59:06.133+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.134+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4771aa7c] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.135+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@948093164 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.138+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.142+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.152+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.154+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4771aa7c]
2026-01-09T13:59:06.173+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.179+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b34f23] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.181+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2131505381 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.181+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.182+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.186+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.186+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b34f23]
2026-01-09T13:59:06.188+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.188+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6ddf3b] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.189+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674579714 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.189+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.190+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.199+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.200+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6ddf3b]
2026-01-09T13:59:06.201+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.201+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f8acec] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.202+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@272119631 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.202+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.204+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.206+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.207+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f8acec]
2026-01-09T13:59:06.208+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.213+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22284ba9] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.215+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@590748876 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.216+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.217+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.220+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.220+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22284ba9]
2026-01-09T13:59:06.221+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.222+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b83817c] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.222+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999750822 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.223+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.225+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.233+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.234+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b83817c]
2026-01-09T13:59:06.235+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.236+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74418f51] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.236+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@864970948 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.237+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.238+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.241+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.241+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74418f51]
2026-01-09T13:59:06.242+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.246+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1d5f22] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.248+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1163814103 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.248+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.249+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.251+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.252+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d1d5f22]
2026-01-09T13:59:06.253+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.253+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34183abc] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.254+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1663801170 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.255+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.256+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.258+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.258+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34183abc]
2026-01-09T13:59:06.261+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.264+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e6f81c] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.265+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@316601222 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.265+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.266+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.269+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.270+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67e6f81c]
2026-01-09T13:59:06.271+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.273+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@511021c5] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@31852003 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.274+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.276+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.283+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.283+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@511021c5]
2026-01-09T13:59:06.285+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.285+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa373bd] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.287+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@451771685 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.288+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.289+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.291+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.295+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa373bd]
2026-01-09T13:59:06.297+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.297+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43989e2a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.298+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@309801855 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.298+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.299+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.303+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.304+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43989e2a]
2026-01-09T13:59:06.305+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.305+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6545373d] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.305+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1655413873 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.306+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.307+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.315+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.317+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6545373d]
2026-01-09T13:59:06.321+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.322+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@391cc684] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.323+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1974268485 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.324+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.325+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.366+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.368+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@391cc684]
2026-01-09T13:59:06.368+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.371+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a6ce49] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.373+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@953228511 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.374+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.375+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T13:59:06.383+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.383+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a6ce49]
2026-01-09T13:59:06.384+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.385+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343d2c98] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.385+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1698195664 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.386+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.386+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:06.390+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.396+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343d2c98]
2026-01-09T13:59:06.397+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.398+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10fd858e] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.399+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308173029 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.400+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.402+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T13:59:06.409+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.421+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10fd858e]
2026-01-09T13:59:06.422+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.422+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430cf29d] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.422+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1067568775 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.423+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.424+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T13:59:06.431+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.431+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@430cf29d]
2026-01-09T13:59:06.432+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.433+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d67dd2a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.433+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2036024321 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.434+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.435+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:06.441+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.441+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d67dd2a]
2026-01-09T13:59:06.445+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.448+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7a0b1d] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.449+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1226247669 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.450+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.451+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:06.455+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.455+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7a0b1d]
2026-01-09T13:59:06.456+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.457+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5981e328] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.458+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@593045990 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.467+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.469+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:06.473+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.473+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5981e328]
2026-01-09T13:59:06.474+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.475+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4190dafe] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.475+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@392100167 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.484+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.486+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T13:59:06.491+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T13:59:06.492+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4190dafe]
2026-01-09T13:59:06.496+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.496+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2821a522] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.497+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1864490482 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.497+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.498+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:06.500+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.502+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2821a522]
2026-01-09T13:59:06.503+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.503+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653ff845] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.504+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1083328885 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.504+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.505+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:06.508+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.514+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653ff845]
2026-01-09T13:59:06.516+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.519+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7ba6a] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.521+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@411080611 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.522+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.524+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T13:59:06.538+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.538+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e7ba6a]
2026-01-09T13:59:06.539+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.541+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5d79d9] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.541+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1758686137 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.542+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.549+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:06.555+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.555+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5d79d9]
2026-01-09T13:59:06.556+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T13:59:06.557+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e7edca] was not registered for synchronization because synchronization is not active
2026-01-09T13:59:06.558+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@628480830 wrapping com.mysql.cj.jdbc.ConnectionImpl@6f94993e] will not be managed by Spring
2026-01-09T13:59:06.558+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T13:59:06.563+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T13:59:06.568+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T13:59:06.569+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e7edca]
2026-01-09T13:59:06.874+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 세무검토자료.xlsx
2026-01-09T13:59:07.456+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/1/영수증이미지.jpg
2026-01-09T13:59:07.460+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/33/innersign_logo.png
2026-01-09T13:59:07.784+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/34/영수증이미지.jpg
2026-01-09T13:59:07.805+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/37/신용카드영수증샘플.pdf
2026-01-09T13:59:08.097+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/6/영수증이미지.jpg
2026-01-09T13:59:08.121+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/39/신용카드영수증샘플.pdf
2026-01-09T13:59:08.124+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/24/innersign_logo.png
2026-01-09T13:59:08.434+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/24/영수증이미지.jpg
2026-01-09T13:59:08.806+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/25/영수증이미지.jpg
2026-01-09T13:59:08.809+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/27/innersign_logo.png
2026-01-09T13:59:08.812+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/31/innersign_logo.png
2026-01-09T13:59:08.833+09:00  INFO 16068 --- [http-nio-8080-exec-5] c.i.backend.service.ExpenseService       : 세무 검토 자료 ZIP 생성 완료 - 파일명: tax_review_12379084192705874864.zip, 건수: 19, 영수증 파일 수: 11
2026-01-09T13:59:08.835+09:00  INFO 16068 --- [http-nio-8080-exec-5] c.i.b.controller.ExpenseController       : 세무 검토 자료 다운로드 요청 - userId: 4, startDate: null, endDate: null, format: full
2026-01-09T13:59:08.846+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/zip' in response
2026-01-09T13:59:08.856+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\tax_review_12379084192705874864.zip]]
2026-01-09T13:59:08.874+09:00  WARN 16068 --- [http-nio-8080-exec-5] o.apache.coyote.http11.Http11Processor   : The HTTP response header [Content-Disposition] with value [attachment; filename="세무검토_전체_전체.zip"] has been removed from the response because it is invalid

java.lang.IllegalArgumentException: The Unicode character [세] at code point [49,464] cannot be encoded as it is outside the permitted range of 0 to 255
	at org.apache.tomcat.util.buf.MessageBytes.toBytesSimple(MessageBytes.java:306) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.buf.MessageBytes.toBytes(MessageBytes.java:279) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.write(Http11OutputBuffer.java:400) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.sendHeader(Http11OutputBuffer.java:379) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.writeHeaders(Http11Processor.java:1067) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.prepareResponse(Http11Processor.java:1054) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:377) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.action(Response.java:201) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:187) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.Response.doWrite(Response.java:621) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:328) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:775) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:672) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:375) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:353) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:99) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.write(OnCommittedResponseWrapper.java:639) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.write(StandardServletAsyncWebRequest.java:401) ~[spring-web-6.2.14.jar:6.2.14]
	at java.base/java.io.InputStream.transferTo(InputStream.java:783) ~[na:na]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeContent(ResourceHttpMessageConverter.java:160) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:115) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.ResourceHttpMessageConverter.writeInternal(ResourceHttpMessageConverter.java:46) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:235) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:344) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-09T13:59:09.667+09:00 DEBUG 16068 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T14:01:13.412+09:00  INFO 20872 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 20872 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-09T14:01:13.416+09:00 DEBUG 20872 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-09T14:01:13.418+09:00  INFO 20872 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-09T14:01:15.570+09:00 DEBUG 20872 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-09T14:01:15.571+09:00 DEBUG 20872 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-09T14:01:15.931+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-09T14:01:15.937+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-09T14:01:15.955+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-09T14:01:15.956+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-09T14:01:15.968+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-09T14:01:15.976+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-09T14:01:15.977+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-09T14:01:15.981+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-09T14:01:15.984+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-09T14:01:15.985+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-09T14:01:15.986+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-09T14:01:15.988+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-09T14:01:15.988+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-09T14:01:15.991+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-09T14:01:15.993+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-09T14:01:15.995+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-09T14:01:16.000+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-09T14:01:16.002+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-01-09T14:01:16.011+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-09T14:01:16.018+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-09T14:01:16.024+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-09T14:01:16.043+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-09T14:01:16.050+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-09T14:01:16.053+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-09T14:01:16.066+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-09T14:01:16.072+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-09T14:01:16.076+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-09T14:01:16.079+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-09T14:01:16.082+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-09T14:01:16.085+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-09T14:01:16.086+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-09T14:01:16.087+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-09T14:01:16.088+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-09T14:01:16.091+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-09T14:01:16.094+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-09T14:01:16.095+09:00 DEBUG 20872 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-01-09T14:01:16.880+09:00  INFO 20872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-09T14:01:16.902+09:00  INFO 20872 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T14:01:16.910+09:00  INFO 20872 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-09T14:01:17.075+09:00  INFO 20872 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T14:01:17.076+09:00  INFO 20872 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3545 ms
2026-01-09T14:01:17.193+09:00 DEBUG 20872 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-09T14:01:17.194+09:00 DEBUG 20872 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-09T14:01:17.762+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-09T14:01:17.876+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-09T14:01:17.909+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-09T14:01:18.011+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-09T14:01:18.060+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-09T14:01:18.130+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-09T14:01:18.153+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-09T14:01:18.211+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-09T14:01:18.303+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-09T14:01:18.335+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-09T14:01:18.376+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-09T14:01:18.394+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-09T14:01:18.432+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-09T14:01:18.444+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-09T14:01:18.467+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-09T14:01:18.484+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-09T14:01:18.521+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-09T14:01:18.547+09:00 DEBUG 20872 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-01-09T14:01:20.487+09:00 DEBUG 20872 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 154 mappings in 'requestMappingHandlerMapping'
2026-01-09T14:01:20.983+09:00 DEBUG 20872 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-09T14:01:21.024+09:00  WARN 20872 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 46a206d7-590d-4e1e-aab5-8112259ce88c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-09T14:01:21.060+09:00  INFO 20872 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-09T14:01:21.293+09:00 DEBUG 20872 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T14:01:21.480+09:00 DEBUG 20872 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-09T14:01:21.558+09:00 DEBUG 20872 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-09T14:01:21.565+09:00 DEBUG 20872 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-09T14:01:21.822+09:00  INFO 20872 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-09T14:01:21.849+09:00  INFO 20872 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 9.45 seconds (process running for 10.074)
2026-01-09T14:01:23.314+09:00  INFO 20872 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T14:01:23.315+09:00  INFO 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T14:01:23.316+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-09T14:01:23.317+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-09T14:01:23.318+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-09T14:01:23.320+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5432dca2
2026-01-09T14:01:23.327+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@64420e34
2026-01-09T14:01:23.333+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-09T14:01:23.334+09:00  INFO 20872 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2026-01-09T14:01:23.391+09:00 DEBUG 20872 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/tax-review?format=full
2026-01-09T14:01:23.434+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/tax-review?format=full
2026-01-09T14:01:23.636+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/tax-review
2026-01-09T14:01:23.651+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/tax-review?format=full
2026-01-09T14:01:23.661+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/tax-review?format=full", parameters={masked}
2026-01-09T14:01:23.668+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportTaxReview(String, String, String)
2026-01-09T14:01:23.721+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T14:01:23.737+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T14:01:23.760+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:23.778+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3825bcb1] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:23.858+09:00  INFO 20872 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T14:01:24.250+09:00  INFO 20872 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@208b37c1
2026-01-09T14:01:24.254+09:00  INFO 20872 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T14:01:24.261+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@356032925 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.276+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T14:01:24.329+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-09T14:01:24.401+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-01-09T14:01:24.425+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3825bcb1]
2026-01-09T14:01:24.478+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.486+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1909eebd] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.488+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200595363 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.505+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T14:01:24.512+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T14:01:24.532+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T14:01:24.535+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1909eebd]
2026-01-09T14:01:24.537+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.538+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5a668] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.544+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709964018 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.549+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T14:01:24.552+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 37(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-09T14:01:24.568+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T14:01:24.570+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5a668]
2026-01-09T14:01:24.572+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.573+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b1eb389] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.575+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@540830102 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.575+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T14:01:24.576+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 24(Long), 25(Long), 27(Long), 31(Long), 32(Long), 33(Long), 34(Long), 37(Long), 39(Long)
2026-01-09T14:01:24.586+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T14:01:24.592+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b1eb389]
2026-01-09T14:01:24.594+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.595+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c66a009] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.598+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@506506019 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.601+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.603+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-09T14:01:24.610+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.611+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c66a009]
2026-01-09T14:01:24.613+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.614+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fa8f39e] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.615+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1184329354 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.615+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.616+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-09T14:01:24.638+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.638+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fa8f39e]
2026-01-09T14:01:24.640+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.641+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdf1d71] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.641+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@926103319 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.642+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.642+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-09T14:01:24.649+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.650+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdf1d71]
2026-01-09T14:01:24.651+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.651+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ade0a34] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.652+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@771599499 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.652+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.654+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-09T14:01:24.671+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.672+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ade0a34]
2026-01-09T14:01:24.674+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.674+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2632b656] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.675+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819772686 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.675+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.676+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-09T14:01:24.685+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.685+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2632b656]
2026-01-09T14:01:24.686+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.686+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6add8a1b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.687+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1500385552 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.687+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.688+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-09T14:01:24.696+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.697+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6add8a1b]
2026-01-09T14:01:24.697+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.698+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523bbd1a] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.698+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1420851220 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.699+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.700+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-09T14:01:24.722+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.725+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@523bbd1a]
2026-01-09T14:01:24.727+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.731+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791cefea] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.736+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1992314558 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.737+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.739+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-09T14:01:24.753+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.755+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791cefea]
2026-01-09T14:01:24.757+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.758+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2435b698] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.761+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@977825355 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.763+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.764+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-09T14:01:24.768+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.769+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2435b698]
2026-01-09T14:01:24.770+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.770+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b5f1c1] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.771+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1505561657 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.772+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.774+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-09T14:01:24.778+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.779+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50b5f1c1]
2026-01-09T14:01:24.780+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.781+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2562641c] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.781+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520870024 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.782+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.784+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-09T14:01:24.794+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-09T14:01:24.797+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2562641c]
2026-01-09T14:01:24.798+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.798+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62178a84] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.811+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1424190798 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.815+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.818+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 25(Long), 1(Long)
2026-01-09T14:01:24.827+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.830+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62178a84]
2026-01-09T14:01:24.832+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.832+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513aa831] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.833+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952281262 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.836+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.841+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-09T14:01:24.849+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.852+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@513aa831]
2026-01-09T14:01:24.853+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.853+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551b7ede] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.854+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1542212536 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.855+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.856+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-09T14:01:24.861+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.863+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551b7ede]
2026-01-09T14:01:24.864+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.874+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@258d4510] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.876+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728638193 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.880+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.893+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-09T14:01:24.913+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:01:24.915+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@258d4510]
2026-01-09T14:01:24.917+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.917+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541b23c7] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.918+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@468797841 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.919+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.921+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-09T14:01:24.931+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.932+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541b23c7]
2026-01-09T14:01:24.933+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.933+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63fbff44] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.945+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853091303 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.947+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.947+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 34(Long), 1(Long)
2026-01-09T14:01:24.951+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.951+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63fbff44]
2026-01-09T14:01:24.952+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.952+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a95a51f] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.954+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371748566 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.954+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.955+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T14:01:24.958+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.960+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a95a51f]
2026-01-09T14:01:24.961+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:24.962+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64fad1f4] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:24.963+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665150249 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:24.963+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:01:24.964+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T14:01:24.966+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:01:24.967+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64fad1f4]
2026-01-09T14:01:26.777+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:26.785+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525dd721] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:26.788+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1134774746 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:26.788+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:26.793+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:26.868+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:26.937+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@525dd721]
2026-01-09T14:01:26.978+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:26.997+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.024+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@217b234] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.028+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1288213702 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.029+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.030+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.033+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.034+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@217b234]
2026-01-09T14:01:27.037+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.041+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.042+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4578e661] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.044+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2051111656 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.045+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.046+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.049+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.050+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4578e661]
2026-01-09T14:01:27.057+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.060+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b12464] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.061+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1618513341 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.061+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.062+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.066+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.067+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b12464]
2026-01-09T14:01:27.074+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.076+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e89593e] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.077+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904971407 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.079+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.081+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.084+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.085+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e89593e]
2026-01-09T14:01:27.089+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.094+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79dd798c] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.096+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1837735712 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.096+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.098+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.101+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.102+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79dd798c]
2026-01-09T14:01:27.108+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.110+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4224cd6c] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.112+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353178557 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.115+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.118+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.130+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.131+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4224cd6c]
2026-01-09T14:01:27.136+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.144+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58646760] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.145+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1020235437 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.146+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.147+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.153+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.154+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58646760]
2026-01-09T14:01:27.161+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.162+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121d427f] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.163+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1765374011 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.165+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.166+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.175+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.177+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@121d427f]
2026-01-09T14:01:27.182+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.187+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2410e4c5] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.195+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558598786 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.196+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.199+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.204+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.206+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2410e4c5]
2026-01-09T14:01:27.213+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.216+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e058094] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.218+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1838179165 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.219+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.221+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.231+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.231+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e058094]
2026-01-09T14:01:27.235+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.237+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da247f4] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.237+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134992372 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.238+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.245+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.253+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.254+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da247f4]
2026-01-09T14:01:27.257+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.260+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713824e7] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.260+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125091027 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.261+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.262+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.265+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.267+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713824e7]
2026-01-09T14:01:27.271+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.273+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30f13590] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.275+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6168693 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.279+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.281+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.285+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.285+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30f13590]
2026-01-09T14:01:27.288+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.294+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690a2661] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.295+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@767012082 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.296+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.297+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:27.299+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.300+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@690a2661]
2026-01-09T14:01:27.305+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.309+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec14582] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.310+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386088233 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.310+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.311+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:27.314+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.314+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec14582]
2026-01-09T14:01:27.347+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 2개
2026-01-09T14:01:27.358+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.361+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f2b5bc] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.363+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1456206166 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.364+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.366+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T14:01:27.399+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.404+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f2b5bc]
2026-01-09T14:01:27.410+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.416+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.418+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e48add9] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.419+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@406957817 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.420+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.429+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T14:01:27.436+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.438+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e48add9]
2026-01-09T14:01:27.443+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.446+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29904edb] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.446+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582817877 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.447+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.448+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:27.451+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.451+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29904edb]
2026-01-09T14:01:27.454+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.460+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba4b115] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1080679468 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.463+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.465+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:27.470+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.476+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ba4b115]
2026-01-09T14:01:27.480+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.483+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.484+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f63d4a6] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.485+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@25294918 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.485+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.486+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:27.501+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.501+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f63d4a6]
2026-01-09T14:01:27.505+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.509+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65eff4f9] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.510+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@888719878 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.511+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.512+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T14:01:27.514+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:27.515+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65eff4f9]
2026-01-09T14:01:27.517+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.519+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.520+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be45c5b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.521+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@288766434 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.524+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.526+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:27.538+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:27.542+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be45c5b]
2026-01-09T14:01:27.545+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.548+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.552+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@737107bd] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.553+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1524534028 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.553+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.554+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:27.562+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:27.564+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@737107bd]
2026-01-09T14:01:27.567+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.571+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a22c35d] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.576+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26574667 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.583+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.585+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:27.593+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:27.599+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a22c35d]
2026-01-09T14:01:27.608+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.614+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffe3445] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.621+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@53095116 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.625+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.626+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:27.635+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:27.636+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ffe3445]
2026-01-09T14:01:27.648+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:27.661+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:27.668+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e813c84] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:27.670+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1883463949 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:27.671+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:27.678+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:27.686+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:27.688+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e813c84]
2026-01-09T14:01:27.712+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:01:28.165+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.171+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f7b958] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.172+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@580767367 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.174+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.176+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.198+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.209+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27f7b958]
2026-01-09T14:01:28.228+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.238+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a26aa0a] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.238+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224212533 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.254+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.255+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.305+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.309+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a26aa0a]
2026-01-09T14:01:28.313+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.313+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6802329e] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.315+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464578926 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.317+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.319+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.347+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.352+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6802329e]
2026-01-09T14:01:28.359+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.359+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51fe2654] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.362+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@672229431 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.364+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.365+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.377+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.378+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51fe2654]
2026-01-09T14:01:28.379+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.380+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab9b8e3] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.381+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@173406054 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.382+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.386+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.430+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.443+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab9b8e3]
2026-01-09T14:01:28.446+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.450+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@506062d9] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.452+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@939107990 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.452+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.453+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.456+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.457+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@506062d9]
2026-01-09T14:01:28.460+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.461+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@838257b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1537075215 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.463+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.466+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.466+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@838257b]
2026-01-09T14:01:28.468+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.469+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275019c8] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.469+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846207396 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.470+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.470+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.474+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.475+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275019c8]
2026-01-09T14:01:28.477+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.480+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afe0d92] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.480+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@222814044 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.481+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.483+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.485+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.485+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afe0d92]
2026-01-09T14:01:28.486+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.496+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73528397] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.497+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697991922 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.498+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.500+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.505+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.505+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73528397]
2026-01-09T14:01:28.509+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.518+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d5a9e1] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.519+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@24952983 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.519+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.521+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.530+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.531+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66d5a9e1]
2026-01-09T14:01:28.532+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.533+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468fec6e] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.534+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224317439 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.535+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.538+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.562+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.566+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@468fec6e]
2026-01-09T14:01:28.567+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.569+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a9ba24] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.570+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308415043 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.571+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.580+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.614+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.621+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a9ba24]
2026-01-09T14:01:28.622+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.627+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f6ff5d] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.629+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1798772669 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.630+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.631+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.644+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.647+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f6ff5d]
2026-01-09T14:01:28.648+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.660+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d0413] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.661+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@634656606 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.667+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.670+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:28.680+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.681+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d0413]
2026-01-09T14:01:28.683+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.684+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2259500b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.685+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@183289295 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.686+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.687+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:28.699+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.700+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2259500b]
2026-01-09T14:01:28.701+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.702+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a2b23b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.703+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048094572 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.704+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.705+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T14:01:28.717+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.717+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a2b23b]
2026-01-09T14:01:28.719+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.720+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2366f8b5] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.721+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@617788808 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.722+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.726+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T14:01:28.729+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.731+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2366f8b5]
2026-01-09T14:01:28.732+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.734+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b62f667] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.734+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794100462 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.735+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.736+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:28.751+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.752+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b62f667]
2026-01-09T14:01:28.754+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.755+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e3785] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.755+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@781396065 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.758+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.763+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:28.768+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.769+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e3785]
2026-01-09T14:01:28.771+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.772+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63653538] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.778+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@281339086 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.779+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.780+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:28.785+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.788+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63653538]
2026-01-09T14:01:28.794+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.802+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e055829] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.803+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1946383908 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.819+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.833+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T14:01:28.844+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:28.848+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e055829]
2026-01-09T14:01:28.851+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.854+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfe3fbd] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.855+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756296219 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.858+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.862+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:28.869+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:28.872+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfe3fbd]
2026-01-09T14:01:28.876+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.876+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7421c292] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.878+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033129596 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.883+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.898+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:28.904+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:28.911+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7421c292]
2026-01-09T14:01:28.914+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.918+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79395c28] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.919+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@58074319 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.921+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.925+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:28.932+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:28.933+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79395c28]
2026-01-09T14:01:28.934+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.935+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1599e05d] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.936+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@645015258 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.936+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.937+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:28.944+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:28.946+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1599e05d]
2026-01-09T14:01:28.948+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:28.949+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd1be28] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:28.950+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@361768071 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:28.950+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:28.953+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.017+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.021+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fd1be28]
2026-01-09T14:01:29.078+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.088+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d09cd5] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.092+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605214138 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.104+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.112+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.173+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.192+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61d09cd5]
2026-01-09T14:01:29.206+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.211+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdad072] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.213+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1846133736 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.232+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.234+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.287+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.294+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bdad072]
2026-01-09T14:01:29.299+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.300+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68c4cba2] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.301+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@901832584 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.301+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.305+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.310+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.312+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68c4cba2]
2026-01-09T14:01:29.313+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.314+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e199b08] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.317+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1355733682 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.329+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.330+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.349+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.351+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e199b08]
2026-01-09T14:01:29.352+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.355+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f27f0b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.358+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383876422 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.359+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.360+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.362+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.362+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44f27f0b]
2026-01-09T14:01:29.365+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.365+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e8e756] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.365+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263569767 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.366+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.366+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.368+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.369+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e8e756]
2026-01-09T14:01:29.387+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.387+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b674d2] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.388+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@709270955 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.388+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.390+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.393+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.393+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38b674d2]
2026-01-09T14:01:29.395+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.396+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5b10a0] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.397+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@549515773 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.397+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.399+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.403+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.404+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b5b10a0]
2026-01-09T14:01:29.405+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.407+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15134a65] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.408+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723766391 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.410+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.411+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.414+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.414+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15134a65]
2026-01-09T14:01:29.415+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.416+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53edae36] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.416+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554155084 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.416+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.417+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.419+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.420+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53edae36]
2026-01-09T14:01:29.421+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.421+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fe6fee] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.424+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@123529977 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.426+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.427+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.429+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.430+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fe6fee]
2026-01-09T14:01:29.431+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.431+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ceefa6f] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.431+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648378627 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.432+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.432+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.434+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.435+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ceefa6f]
2026-01-09T14:01:29.435+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.436+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d447121] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.436+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@920836964 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.437+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.437+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.439+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.440+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d447121]
2026-01-09T14:01:29.441+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.443+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fd80c92] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.443+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26978609 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.444+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.444+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.446+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.447+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fd80c92]
2026-01-09T14:01:29.448+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.448+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca36276] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.449+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1129333740 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.450+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.450+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.452+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.453+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ca36276]
2026-01-09T14:01:29.453+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.454+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2db2f663] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.454+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974487921 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.455+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.455+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.459+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.460+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2db2f663]
2026-01-09T14:01:29.461+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.461+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116b6711] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@726698673 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.462+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.464+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.465+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@116b6711]
2026-01-09T14:01:29.466+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.466+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19b0c9ee] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.467+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403610662 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.467+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.468+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.470+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.471+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19b0c9ee]
2026-01-09T14:01:29.474+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.475+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5676943] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.476+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@445071288 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.477+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.477+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.479+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.480+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5676943]
2026-01-09T14:01:29.483+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.486+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653c4553] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.489+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1538201030 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.494+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.497+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.499+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.500+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653c4553]
2026-01-09T14:01:29.501+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.501+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d83540] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.502+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112143477 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.502+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.503+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:01:29.505+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.506+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45d83540]
2026-01-09T14:01:29.508+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.510+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d0ec43d] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.510+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@704157417 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.510+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.512+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.514+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.515+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d0ec43d]
2026-01-09T14:01:29.516+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.516+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0dac81] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.516+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090108657 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.517+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.518+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T14:01:29.521+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.522+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0dac81]
2026-01-09T14:01:29.524+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.525+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b6df50] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.527+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@103357539 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.528+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.529+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T14:01:29.532+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.532+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70b6df50]
2026-01-09T14:01:29.536+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.536+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fbbbf20] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.536+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959554520 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.537+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.538+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:29.540+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.542+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fbbbf20]
2026-01-09T14:01:29.543+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.543+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d66c322] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.544+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@260451089 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.544+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.545+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.547+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.550+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d66c322]
2026-01-09T14:01:29.552+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.552+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a03202] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.553+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084864519 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.554+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.555+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:29.559+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.560+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a03202]
2026-01-09T14:01:29.561+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.561+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12dbe185] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.562+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947066878 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.562+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.563+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T14:01:29.565+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:01:29.568+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12dbe185]
2026-01-09T14:01:29.572+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.576+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49413967] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.576+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@81473027 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.579+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.582+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.586+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.587+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49413967]
2026-01-09T14:01:29.587+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.588+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be9205c] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.589+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065935431 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.590+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.591+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.593+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.594+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3be9205c]
2026-01-09T14:01:29.595+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.595+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2872862e] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.596+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525397692 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.597+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.599+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:01:29.604+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.611+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2872862e]
2026-01-09T14:01:29.615+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.619+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b63eed0] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.619+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445006660 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.620+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.620+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.625+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.630+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b63eed0]
2026-01-09T14:01:29.630+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:01:29.631+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5b011b] was not registered for synchronization because synchronization is not active
2026-01-09T14:01:29.631+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1249535342 wrapping com.mysql.cj.jdbc.ConnectionImpl@208b37c1] will not be managed by Spring
2026-01-09T14:01:29.631+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:01:29.632+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:01:29.634+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:01:29.635+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5b011b]
2026-01-09T14:01:29.885+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: tax_review_data.xlsx
2026-01-09T14:01:30.229+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/1/영수증이미지.jpg
2026-01-09T14:01:30.233+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/33/innersign_logo.png
2026-01-09T14:01:30.564+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/34/영수증이미지.jpg
2026-01-09T14:01:30.587+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/37/신용카드영수증샘플.pdf
2026-01-09T14:01:30.872+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/6/영수증이미지.jpg
2026-01-09T14:01:30.894+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/39/신용카드영수증샘플.pdf
2026-01-09T14:01:30.898+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/24/innersign_logo.png
2026-01-09T14:01:31.181+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/24/영수증이미지.jpg
2026-01-09T14:01:31.468+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/25/영수증이미지.jpg
2026-01-09T14:01:31.471+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/27/innersign_logo.png
2026-01-09T14:01:31.473+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/31/innersign_logo.png
2026-01-09T14:01:31.485+09:00  INFO 20872 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 세무 검토 자료 ZIP 생성 완료 - 파일명: tax_review_14985779249557415067.zip, 크기: 18289447 bytes, 건수: 19, 영수증 파일 수: 11
2026-01-09T14:01:31.485+09:00  INFO 20872 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 세무 검토 자료 다운로드 요청 - userId: 4, startDate: null, endDate: null, format: full
2026-01-09T14:01:31.496+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/octet-stream' in response
2026-01-09T14:01:31.500+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\tax_review_14985779249557415067.zip]]
2026-01-09T14:01:32.027+09:00 DEBUG 20872 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-09T14:05:36.366+09:00  INFO 25420 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 25420 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2026-01-09T14:05:36.369+09:00 DEBUG 25420 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2026-01-09T14:05:36.371+09:00  INFO 25420 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2026-01-09T14:05:38.592+09:00 DEBUG 25420 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2026-01-09T14:05:38.599+09:00 DEBUG 25420 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2026-01-09T14:05:39.298+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AccountCodeMappingMapper.class]
2026-01-09T14:05:39.310+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditLogMapper.class]
2026-01-09T14:05:39.312+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\AuditRuleMapper.class]
2026-01-09T14:05:39.320+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\BudgetMapper.class]
2026-01-09T14:05:39.385+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyCardMapper.class]
2026-01-09T14:05:39.408+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2026-01-09T14:05:39.421+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CreditMapper.class]
2026-01-09T14:05:39.427+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseCategoryMapper.class]
2026-01-09T14:05:39.438+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2026-01-09T14:05:39.445+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\MonthlyClosingMapper.class]
2026-01-09T14:05:39.458+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2026-01-09T14:05:39.469+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2026-01-09T14:05:39.472+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2026-01-09T14:05:39.473+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2026-01-09T14:05:39.475+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserApproverMapper.class]
2026-01-09T14:05:39.478+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserCardMapper.class]
2026-01-09T14:05:39.480+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2026-01-09T14:05:39.486+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserSignatureMapper.class]
2026-01-09T14:05:39.498+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'accountCodeMappingMapper' and 'com.innersignature.backend.mapper.AccountCodeMappingMapper' mapperInterface
2026-01-09T14:05:39.506+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditLogMapper' and 'com.innersignature.backend.mapper.AuditLogMapper' mapperInterface
2026-01-09T14:05:39.509+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'auditRuleMapper' and 'com.innersignature.backend.mapper.AuditRuleMapper' mapperInterface
2026-01-09T14:05:39.514+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'budgetMapper' and 'com.innersignature.backend.mapper.BudgetMapper' mapperInterface
2026-01-09T14:05:39.527+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyCardMapper' and 'com.innersignature.backend.mapper.CompanyCardMapper' mapperInterface
2026-01-09T14:05:39.544+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2026-01-09T14:05:39.548+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'creditMapper' and 'com.innersignature.backend.mapper.CreditMapper' mapperInterface
2026-01-09T14:05:39.565+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseCategoryMapper' and 'com.innersignature.backend.mapper.ExpenseCategoryMapper' mapperInterface
2026-01-09T14:05:39.571+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2026-01-09T14:05:39.573+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'monthlyClosingMapper' and 'com.innersignature.backend.mapper.MonthlyClosingMapper' mapperInterface
2026-01-09T14:05:39.575+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2026-01-09T14:05:39.579+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2026-01-09T14:05:39.581+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2026-01-09T14:05:39.586+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2026-01-09T14:05:39.596+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userApproverMapper' and 'com.innersignature.backend.mapper.UserApproverMapper' mapperInterface
2026-01-09T14:05:39.599+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userCardMapper' and 'com.innersignature.backend.mapper.UserCardMapper' mapperInterface
2026-01-09T14:05:39.627+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2026-01-09T14:05:39.631+09:00 DEBUG 25420 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userSignatureMapper' and 'com.innersignature.backend.mapper.UserSignatureMapper' mapperInterface
2026-01-09T14:05:40.557+09:00  INFO 25420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-09T14:05:40.586+09:00  INFO 25420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-09T14:05:40.598+09:00  INFO 25420 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2026-01-09T14:05:40.744+09:00  INFO 25420 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-09T14:05:40.745+09:00  INFO 25420 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4294 ms
2026-01-09T14:05:40.858+09:00 DEBUG 25420 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2026-01-09T14:05:40.860+09:00 DEBUG 25420 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2026-01-09T14:05:41.352+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AccountCodeMappingMapper.xml]'
2026-01-09T14:05:41.397+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditLogMapper.xml]'
2026-01-09T14:05:41.432+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\AuditRuleMapper.xml]'
2026-01-09T14:05:41.463+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\BudgetMapper.xml]'
2026-01-09T14:05:41.490+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyCardMapper.xml]'
2026-01-09T14:05:41.514+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2026-01-09T14:05:41.554+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CreditMapper.xml]'
2026-01-09T14:05:41.586+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseCategoryMapper.xml]'
2026-01-09T14:05:41.695+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2026-01-09T14:05:41.721+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\MonthlyClosingMapper.xml]'
2026-01-09T14:05:41.753+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2026-01-09T14:05:41.774+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2026-01-09T14:05:41.826+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2026-01-09T14:05:41.888+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2026-01-09T14:05:41.913+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserApproverMapper.xml]'
2026-01-09T14:05:41.932+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserCardMapper.xml]'
2026-01-09T14:05:41.979+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2026-01-09T14:05:42.002+09:00 DEBUG 25420 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserSignatureMapper.xml]'
2026-01-09T14:05:43.565+09:00 DEBUG 25420 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 154 mappings in 'requestMappingHandlerMapping'
2026-01-09T14:05:43.920+09:00 DEBUG 25420 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-09T14:05:44.003+09:00  WARN 25420 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 70ea11d0-4863-4e97-bec1-2fbdd5b83685

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-09T14:05:44.109+09:00  INFO 25420 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-09T14:05:44.577+09:00 DEBUG 25420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2026-01-09T14:05:44.913+09:00 DEBUG 25420 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-09T14:05:45.042+09:00 DEBUG 25420 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-09T14:05:45.068+09:00 DEBUG 25420 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-09T14:05:45.702+09:00  INFO 25420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-09T14:05:45.728+09:00  INFO 25420 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 10.137 seconds (process running for 10.679)
2026-01-09T14:05:52.454+09:00  INFO 25420 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-09T14:05:52.456+09:00  INFO 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-09T14:05:52.458+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2026-01-09T14:05:52.458+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2026-01-09T14:05:52.463+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2026-01-09T14:05:52.472+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a90fcaa
2026-01-09T14:05:52.476+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1488a861
2026-01-09T14:05:52.478+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-09T14:05:52.623+09:00  INFO 25420 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 165 ms
2026-01-09T14:05:52.754+09:00 DEBUG 25420 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/export/tax-review?format=full
2026-01-09T14:05:52.835+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/export/tax-review?format=full
2026-01-09T14:05:53.031+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 4, role: ACCOUNTANT, companyId: 1, uri: /api/expenses/export/tax-review
2026-01-09T14:05:53.047+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/export/tax-review?format=full
2026-01-09T14:05:53.062+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/export/tax-review?format=full", parameters={masked}
2026-01-09T14:05:53.066+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#exportTaxReview(String, String, String)
2026-01-09T14:05:53.125+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T14:05:53.153+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseController.exportTaxReview(java.lang.String,java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2026-01-09T14:05:53.215+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:53.280+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1144e8d8] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:53.416+09:00  INFO 25420 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-09T14:05:53.851+09:00  INFO 25420 --- [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@425ed858
2026-01-09T14:05:53.857+09:00  INFO 25420 --- [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-09T14:05:53.867+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@511102490 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:53.882+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.status IN ( ? ) ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-09T14:05:53.972+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), PAID(String), 2147483647(Integer), 0(Integer)
2026-01-09T14:05:54.069+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 19
2026-01-09T14:05:54.088+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1144e8d8]
2026-01-09T14:05:54.142+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.158+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0632a0] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.160+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1839018487 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.164+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-09T14:05:54.166+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2026-01-09T14:05:54.190+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-09T14:05:54.191+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0632a0]
2026-01-09T14:05:54.193+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.195+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bafd3e] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.199+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@204236631 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.210+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T14:05:54.223+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 39(Long), 37(Long), 34(Long), 33(Long), 32(Long), 31(Long), 27(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 8(Long), 6(Long), 1(Long)
2026-01-09T14:05:54.238+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T14:05:54.239+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bafd3e]
2026-01-09T14:05:54.242+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.242+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5042a1c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.244+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783623299 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.244+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-09T14:05:54.245+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long), 6(Long), 8(Long), 13(Long), 14(Long), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 24(Long), 25(Long), 27(Long), 31(Long), 32(Long), 33(Long), 34(Long), 37(Long), 39(Long)
2026-01-09T14:05:54.262+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 27
2026-01-09T14:05:54.262+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5042a1c]
2026-01-09T14:05:54.263+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.264+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b98722] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.271+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047213276 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.273+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.276+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 1(Long), 1(Long)
2026-01-09T14:05:54.292+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.292+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22b98722]
2026-01-09T14:05:54.293+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.293+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d09160f] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.293+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1944519195 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.294+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.295+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 6(Long), 1(Long)
2026-01-09T14:05:54.298+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.300+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d09160f]
2026-01-09T14:05:54.300+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.301+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4db7dd] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.301+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1503748405 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.302+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.303+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 8(Long), 1(Long)
2026-01-09T14:05:54.319+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.319+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4db7dd]
2026-01-09T14:05:54.320+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.320+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7840ef] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.321+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1525349122 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.322+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.323+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 13(Long), 1(Long)
2026-01-09T14:05:54.328+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.329+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7840ef]
2026-01-09T14:05:54.329+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.330+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70cbf426] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.330+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@164478440 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.331+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.331+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 14(Long), 1(Long)
2026-01-09T14:05:54.341+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.342+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70cbf426]
2026-01-09T14:05:54.342+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.342+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@863f18c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.343+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@656821858 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.343+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.344+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 16(Long), 1(Long)
2026-01-09T14:05:54.355+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.355+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@863f18c]
2026-01-09T14:05:54.356+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.356+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542c6362] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.357+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1129580538 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.357+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.358+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 17(Long), 1(Long)
2026-01-09T14:05:54.361+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.362+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542c6362]
2026-01-09T14:05:54.362+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.363+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111f4ff0] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.364+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@647956930 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.364+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.364+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 18(Long), 1(Long)
2026-01-09T14:05:54.372+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.373+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111f4ff0]
2026-01-09T14:05:54.373+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.373+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d07c56] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.374+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1482413331 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.374+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.375+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 19(Long), 1(Long)
2026-01-09T14:05:54.377+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.377+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33d07c56]
2026-01-09T14:05:54.378+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.378+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e324964] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.379+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320204344 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.380+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.381+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 20(Long), 1(Long)
2026-01-09T14:05:54.390+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.391+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e324964]
2026-01-09T14:05:54.392+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.393+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e81fa65] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.393+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@34928568 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.395+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.396+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 24(Long), 1(Long)
2026-01-09T14:05:54.410+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 2
2026-01-09T14:05:54.410+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e81fa65]
2026-01-09T14:05:54.411+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.412+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc9d2be] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.412+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395407507 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.412+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.414+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 25(Long), 1(Long)
2026-01-09T14:05:54.424+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.426+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc9d2be]
2026-01-09T14:05:54.427+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.427+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1657e014] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.428+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1622220615 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.429+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.429+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 27(Long), 1(Long)
2026-01-09T14:05:54.432+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.434+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1657e014]
2026-01-09T14:05:54.435+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.435+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621ad0f3] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.435+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335803851 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.436+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.437+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 31(Long), 1(Long)
2026-01-09T14:05:54.440+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.441+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@621ad0f3]
2026-01-09T14:05:54.442+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.443+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16630d96] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.444+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@575326945 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.444+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.445+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 32(Long), 1(Long)
2026-01-09T14:05:54.447+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 0
2026-01-09T14:05:54.448+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16630d96]
2026-01-09T14:05:54.451+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.453+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b6afd4] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.454+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1597446089 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.455+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.456+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 33(Long), 1(Long)
2026-01-09T14:05:54.459+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.459+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b6afd4]
2026-01-09T14:05:54.459+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.460+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3198f38a] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.460+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437872738 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.461+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.461+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 34(Long), 1(Long)
2026-01-09T14:05:54.464+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.465+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3198f38a]
2026-01-09T14:05:54.465+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.467+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc19db6] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.468+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@422782823 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.468+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.469+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 37(Long), 1(Long)
2026-01-09T14:05:54.472+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.473+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fc19db6]
2026-01-09T14:05:54.474+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:54.474+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8ad6a01] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:54.475+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1801611919 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:54.476+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==>  Preparing: SELECT r.*, u.korean_name AS uploadedByName FROM receipt_tb r JOIN user_tb u ON r.uploaded_by = u.user_id WHERE r.expense_report_id = ? AND r.company_id = ? ORDER BY r.uploaded_at DESC
2026-01-09T14:05:54.476+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : ==> Parameters: 39(Long), 1(Long)
2026-01-09T14:05:54.479+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] .i.b.m.E.selectReceiptsByExpenseReportId : <==      Total: 1
2026-01-09T14:05:54.480+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8ad6a01]
2026-01-09T14:05:55.206+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.209+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369d4fab] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.213+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727991925 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.213+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.217+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.220+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.221+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369d4fab]
2026-01-09T14:05:55.226+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.231+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.233+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe59816] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.235+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@18719725 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.236+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.239+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.263+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.265+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fe59816]
2026-01-09T14:05:55.270+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.276+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.288+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5376ddf4] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.289+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894832804 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.290+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.292+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.301+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.307+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5376ddf4]
2026-01-09T14:05:55.313+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.319+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f7de0e] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.320+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1720396537 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.320+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.322+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.329+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.330+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f7de0e]
2026-01-09T14:05:55.335+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.340+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c46641c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.341+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1098699316 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.341+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.343+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.346+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.347+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c46641c]
2026-01-09T14:05:55.357+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.364+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@295bb1ec] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.368+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727157855 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.369+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.371+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.374+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.375+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@295bb1ec]
2026-01-09T14:05:55.380+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.381+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40060614] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.382+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@874912553 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.384+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.385+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.392+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.392+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40060614]
2026-01-09T14:05:55.400+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.403+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47838074] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.404+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@927275062 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.406+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.408+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.423+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.423+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47838074]
2026-01-09T14:05:55.430+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.431+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64e12f9c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.435+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1060799316 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.435+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.437+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.457+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.463+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64e12f9c]
2026-01-09T14:05:55.473+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.481+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66cc950f] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.493+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@188537733 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.494+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.496+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.506+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.507+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66cc950f]
2026-01-09T14:05:55.511+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.513+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3a6566] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.523+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339880739 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.524+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.526+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.529+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.530+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3a6566]
2026-01-09T14:05:55.540+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.542+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c343110] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.544+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1648061093 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.546+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.548+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.555+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.556+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c343110]
2026-01-09T14:05:55.561+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.561+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67675441] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.563+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@981878028 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.579+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.583+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.589+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.591+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67675441]
2026-01-09T14:05:55.594+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.595+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e3b7763] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.597+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@589558201 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.598+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.604+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.608+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.609+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e3b7763]
2026-01-09T14:05:55.615+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.626+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1e95b1] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.628+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@806911635 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.629+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.635+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:55.664+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.687+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a1e95b1]
2026-01-09T14:05:55.691+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.706+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b200af4] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.707+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@715555518 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.714+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.722+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:55.733+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.742+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b200af4]
2026-01-09T14:05:55.772+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 2개
2026-01-09T14:05:55.775+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.777+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@308a08c2] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.778+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50714462 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.786+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.790+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T14:05:55.796+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.796+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@308a08c2]
2026-01-09T14:05:55.798+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.802+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.804+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c99c759] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.805+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1555366928 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.807+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.809+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T14:05:55.813+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.814+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c99c759]
2026-01-09T14:05:55.821+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.823+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138f4d68] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.823+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1633608527 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.826+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.829+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:55.838+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.842+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138f4d68]
2026-01-09T14:05:55.844+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.847+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.848+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ea9bc7] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.851+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@828864959 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.851+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.852+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:55.859+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.860+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58ea9bc7]
2026-01-09T14:05:55.862+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.864+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.865+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d17023f] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.866+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1093635321 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.868+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.870+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:55.874+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.875+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d17023f]
2026-01-09T14:05:55.886+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.887+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4132894c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.888+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@876703151 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.889+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.893+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T14:05:55.908+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:55.909+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4132894c]
2026-01-09T14:05:55.913+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.923+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.925+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f72a9e1] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.927+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1784623018 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.929+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.931+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:55.944+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:55.946+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f72a9e1]
2026-01-09T14:05:55.948+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:55.957+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.959+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6eaedf] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.961+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1434004850 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.962+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.964+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:55.972+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:55.973+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f6eaedf]
2026-01-09T14:05:55.976+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.978+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eb3749] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.980+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037999549 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.981+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.982+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:55.987+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:55.991+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eb3749]
2026-01-09T14:05:55.994+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:55.994+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60eaf9d1] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:55.995+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1242680314 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:55.995+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:55.996+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:55.999+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.002+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60eaf9d1]
2026-01-09T14:05:56.004+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:56.009+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.010+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237174e4] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.011+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@350364970 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.012+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.013+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.022+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.023+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@237174e4]
2026-01-09T14:05:56.024+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 영수증 파일명 표시 완료: 1개
2026-01-09T14:05:56.382+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.383+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541afc7] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.384+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1261693052 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.384+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.385+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.389+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.390+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@541afc7]
2026-01-09T14:05:56.394+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.395+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0f304a] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.395+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558032702 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.396+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.398+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.407+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.410+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b0f304a]
2026-01-09T14:05:56.411+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.411+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14c5f9a3] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.411+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1982469649 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.412+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.413+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.416+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.422+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14c5f9a3]
2026-01-09T14:05:56.423+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.425+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b970a83] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.428+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1352986291 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.429+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.430+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.460+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.462+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b970a83]
2026-01-09T14:05:56.465+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.472+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da3328a] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.473+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1588851375 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.473+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.474+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.477+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.480+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@da3328a]
2026-01-09T14:05:56.489+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.489+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bde216] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.489+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203334889 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.490+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.490+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.493+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.493+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bde216]
2026-01-09T14:05:56.496+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.496+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9a4ef2] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.497+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960542821 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.497+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.499+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.506+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.506+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e9a4ef2]
2026-01-09T14:05:56.507+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.508+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4536b066] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.510+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497865196 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.511+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.512+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.514+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.515+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4536b066]
2026-01-09T14:05:56.521+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.522+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e977ec] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.524+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445746391 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.525+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.527+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.530+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.530+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26e977ec]
2026-01-09T14:05:56.532+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.536+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1291d345] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.538+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2133496044 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.538+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.539+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.542+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.542+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1291d345]
2026-01-09T14:05:56.545+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.546+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71975c52] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.547+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1828758238 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.548+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.555+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.558+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.558+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71975c52]
2026-01-09T14:05:56.559+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.560+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab74ce9] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.562+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1628041249 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.562+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.563+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.565+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.571+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ab74ce9]
2026-01-09T14:05:56.571+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.571+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78934e22] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.573+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1758696925 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.573+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.574+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.576+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.578+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78934e22]
2026-01-09T14:05:56.580+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.581+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72f28b84] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.582+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@284305830 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.588+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.592+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.596+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.596+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72f28b84]
2026-01-09T14:05:56.598+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.598+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d271a91] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.602+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1810828826 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.605+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.606+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.608+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.609+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d271a91]
2026-01-09T14:05:56.610+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.611+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57cff071] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.612+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1653181323 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.612+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.613+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.615+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.615+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57cff071]
2026-01-09T14:05:56.620+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.621+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161dd283] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.622+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056564297 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.622+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.623+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T14:05:56.627+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.628+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@161dd283]
2026-01-09T14:05:56.629+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.629+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6864e6] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.630+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@924397122 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.630+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.631+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T14:05:56.643+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.646+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f6864e6]
2026-01-09T14:05:56.648+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.652+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41987ed9] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.656+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1306226008 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.656+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.659+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:56.662+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.664+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41987ed9]
2026-01-09T14:05:56.665+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.668+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5b91cd] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.670+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1840727113 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.671+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.674+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.679+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.680+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f5b91cd]
2026-01-09T14:05:56.686+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.687+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3990c12e] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.687+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@183953960 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.687+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.688+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:56.691+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.691+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3990c12e]
2026-01-09T14:05:56.694+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.695+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2475d48a] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.695+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@458487963 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.695+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.696+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T14:05:56.701+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.703+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2475d48a]
2026-01-09T14:05:56.704+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.704+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58922d63] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.705+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1388929919 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.705+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.706+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.708+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.708+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58922d63]
2026-01-09T14:05:56.712+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.712+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f49505b] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.713+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996065764 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.713+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.714+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.717+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.719+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f49505b]
2026-01-09T14:05:56.721+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.722+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1c5992] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.722+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@438441890 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.723+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.724+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:56.726+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.728+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f1c5992]
2026-01-09T14:05:56.729+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.730+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5913ed45] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.730+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414459196 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.730+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.731+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.737+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.738+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5913ed45]
2026-01-09T14:05:56.740+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.740+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef8d433] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.741+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221032300 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.741+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.742+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:56.745+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.745+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ef8d433]
2026-01-09T14:05:56.801+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.801+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558b02d8] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.802+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@619411790 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.802+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.803+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.805+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.806+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@558b02d8]
2026-01-09T14:05:56.810+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.810+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@647fa5b2] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.811+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777329703 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.812+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.812+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.814+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.815+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@647fa5b2]
2026-01-09T14:05:56.818+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.819+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429f368e] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.819+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540639066 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.819+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.821+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.823+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.824+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@429f368e]
2026-01-09T14:05:56.826+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.826+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55af4b0c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.826+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1858022513 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.827+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.828+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.830+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:56.838+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55af4b0c]
2026-01-09T14:05:56.839+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.840+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fdb4cd] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.841+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@388333557 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.842+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.845+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.859+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.861+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38fdb4cd]
2026-01-09T14:05:56.862+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.863+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56d370a2] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.864+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@64875881 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.864+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.877+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.888+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.890+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56d370a2]
2026-01-09T14:05:56.908+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.915+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19253276] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.917+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26762331 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.918+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.920+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:56.925+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:56.925+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19253276]
2026-01-09T14:05:56.926+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:56.926+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc16de3] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:56.929+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093432975 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:56.929+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:56.930+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.043+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.072+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cc16de3]
2026-01-09T14:05:57.080+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.093+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c18fa9] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.101+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598235303 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.111+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.112+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.121+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.122+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64c18fa9]
2026-01-09T14:05:57.124+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.125+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f97aaf9] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.126+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1195623525 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.127+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.128+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.131+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.132+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f97aaf9]
2026-01-09T14:05:57.138+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.139+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ed1dc69] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.139+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1006857000 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.139+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.140+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.142+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.143+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ed1dc69]
2026-01-09T14:05:57.145+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.147+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da7385d] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.147+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@498440468 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.148+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.149+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.155+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.159+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da7385d]
2026-01-09T14:05:57.161+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.161+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c13f31] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.162+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211848100 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.162+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.163+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.166+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.169+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c13f31]
2026-01-09T14:05:57.172+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.173+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40842ff2] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.173+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1102948452 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.173+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.174+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.177+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.178+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40842ff2]
2026-01-09T14:05:57.180+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.180+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128fc54e] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.180+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1930793810 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.181+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.188+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.190+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.191+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@128fc54e]
2026-01-09T14:05:57.192+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.194+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b31c7e] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.196+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1039795891 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.196+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.197+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.202+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.204+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b31c7e]
2026-01-09T14:05:57.205+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.205+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d303df] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.206+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1263185687 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.206+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.207+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.213+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.213+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d303df]
2026-01-09T14:05:57.215+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.215+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@109e46a6] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.218+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172581521 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.221+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.222+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.225+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.226+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@109e46a6]
2026-01-09T14:05:57.229+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.229+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75567968] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.230+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@396343826 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.230+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.231+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.297+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.312+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75567968]
2026-01-09T14:05:57.313+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.314+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686e5014] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.315+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@783673672 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.318+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.320+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.357+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.360+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686e5014]
2026-01-09T14:05:57.361+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.362+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a21b161] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.363+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@274054849 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.363+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.364+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), null, 1(Long)
2026-01-09T14:05:57.377+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.379+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a21b161]
2026-01-09T14:05:57.381+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.386+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b61c10] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.387+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1453000190 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.388+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.389+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:57.406+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.407+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51b61c10]
2026-01-09T14:05:57.408+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.409+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253147ba] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.410+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149667728 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.411+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.413+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 버거킹(String), 1(Long)
2026-01-09T14:05:57.429+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.431+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253147ba]
2026-01-09T14:05:57.436+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.437+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a8c4cc] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.440+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@638275284 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.443+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.447+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 다이소(String), 1(Long)
2026-01-09T14:05:57.465+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.468+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9a8c4cc]
2026-01-09T14:05:57.469+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.471+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa1a7c9] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.474+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903910133 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.475+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.476+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:57.478+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.479+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa1a7c9]
2026-01-09T14:05:57.481+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.497+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13c69a2a] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.505+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689184372 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.514+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.528+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:57.532+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.535+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13c69a2a]
2026-01-09T14:05:57.537+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.537+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1473e67f] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.538+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@860039441 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.538+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.539+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:57.541+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.542+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1473e67f]
2026-01-09T14:05:57.543+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.543+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@308c76a5] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.545+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002913493 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.545+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.546+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 비품비(String), 1(Long), 123(String), 1(Long)
2026-01-09T14:05:57.552+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 0
2026-01-09T14:05:57.564+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@308c76a5]
2026-01-09T14:05:57.565+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.586+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d45dcc6] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.586+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@246390933 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.586+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.587+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:57.621+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:57.624+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d45dcc6]
2026-01-09T14:05:57.625+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.628+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294702f6] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.633+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511479540 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.639+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.642+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:57.658+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:57.663+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@294702f6]
2026-01-09T14:05:57.676+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.678+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458fc70f] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.679+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1414409722 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.681+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.684+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 출장/교통비(String), 1(Long), 지하철(String), 1(Long)
2026-01-09T14:05:57.697+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:57.724+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@458fc70f]
2026-01-09T14:05:57.726+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.727+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b283a6c] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.729+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1365539923 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.731+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.741+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 식비/회식(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:57.764+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:57.770+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b283a6c]
2026-01-09T14:05:57.777+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-09T14:05:57.779+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7a5352] was not registered for synchronization because synchronization is not active
2026-01-09T14:05:57.787+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@896268683 wrapping com.mysql.cj.jdbc.ConnectionImpl@425ed858] will not be managed by Spring
2026-01-09T14:05:57.789+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE category = ? AND (company_id = ? OR company_id IS NULL) AND ( merchant_keyword IS NULL OR merchant_keyword = '' OR ? LIKE CONCAT('%', merchant_keyword, '%') ) ORDER BY CASE WHEN company_id = ? THEN 0 ELSE 1 END, CASE WHEN merchant_keyword IS NOT NULL AND merchant_keyword != '' THEN 0 ELSE 1 END LIMIT 1
2026-01-09T14:05:57.790+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : ==> Parameters: 거래처 접대(String), 1(Long), 맥도날드(String), 1(Long)
2026-01-09T14:05:57.812+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.b.m.A.findByCategoryAndMerchant      : <==      Total: 1
2026-01-09T14:05:57.818+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f7a5352]
2026-01-09T14:05:58.107+09:00  INFO 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP 파일 생성 시작 - 임시: C:\Users\owner\AppData\Local\Temp\tax_review_64803b80.zip, 디버그: C:\InnerSignature\backend\debug_tax_review_64803b80.zip
2026-01-09T14:05:58.121+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: tax_review_data.xlsx
2026-01-09T14:05:58.535+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/1/영수증이미지.jpg
2026-01-09T14:05:58.541+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/33/innersign_logo.png
2026-01-09T14:05:58.859+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/34/영수증이미지.jpg
2026-01-09T14:05:58.880+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/37/신용카드영수증샘플.pdf
2026-01-09T14:05:59.161+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/6/영수증이미지.jpg
2026-01-09T14:05:59.182+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/39/신용카드영수증샘플.pdf
2026-01-09T14:05:59.186+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/24/innersign_logo.png
2026-01-09T14:05:59.542+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/24/영수증이미지.jpg
2026-01-09T14:05:59.850+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/25/영수증이미지.jpg
2026-01-09T14:05:59.852+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/27/innersign_logo.png
2026-01-09T14:05:59.855+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : ZIP에 파일 추가 완료: 영수증/31/innersign_logo.png
2026-01-09T14:05:59.871+09:00  INFO 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 세무 검토 자료 ZIP 생성 완료 - 파일명: tax_review_64803b80.zip, 크기: 18289454 bytes, 건수: 19, 영수증 파일 수: 11, 유효한 ZIP: true
2026-01-09T14:05:59.891+09:00  INFO 25420 --- [http-nio-8080-exec-2] c.i.backend.service.ExpenseService       : 디버그 ZIP 파일 복사 완료: C:\InnerSignature\backend\debug_tax_review_64803b80.zip
2026-01-09T14:05:59.909+09:00  INFO 25420 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : 세무 검토 자료 다운로드 요청 - userId: 4, startDate: null, endDate: null, format: full
2026-01-09T14:05:59.911+09:00  INFO 25420 --- [http-nio-8080-exec-2] c.i.b.controller.ExpenseController       : ZIP 파일 다운로드 응답 설정 - Content-Type: application/zip, Content-Length: 18289454, filename: tax_data_package_all_all.zip, 실제 파일: tax_review_64803b80.zip, 실제 크기: 존재함
2026-01-09T14:05:59.919+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/zip' in response
2026-01-09T14:05:59.923+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [file [C:\Users\owner\AppData\Local\Temp\tax_review_64803b80.zip]]
2026-01-09T14:06:00.708+09:00 DEBUG 25420 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
