2026-01-08T12:40:25.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf1adc]
2026-01-08T12:40:25.587+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.c.ExpenseCategoryController        : 항목 수정 완료 - categoryId: 13
2026-01-08T12:40:25.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:25.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=항목이 수정되었습니다., data=ExpenseCategoryDto(categoryId=13, companyId=1,  (truncated)...]
2026-01-08T12:40:25.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:26.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:40:26.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:40:26.334+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:40:26.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:40:26.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:40:26.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:40:26.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:26.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:26.384+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:26.389+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bbde16] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:26.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527844512 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:26.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:40:26.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:26.417+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : <==      Total: 14
2026-01-08T12:40:26.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18bbde16]
2026-01-08T12:40:26.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:26.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:26.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:29.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/16
2026-01-08T12:40:29.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/expense-categories/16
2026-01-08T12:40:29.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/16
2026-01-08T12:40:29.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/expense-categories/16
2026-01-08T12:40:29.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/expense-categories/16", parameters={}
2026-01-08T12:40:29.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#updateCategory(Long, ExpenseCategoryDto)
2026-01-08T12:40:29.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseCategoryDto(categoryId=null, companyId=null, categoryName=null, displayOrder=null, isActive=f (truncated)...]
2026-01-08T12:40:29.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:29.167+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@830146606 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will be managed by Spring
2026-01-08T12:40:29.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id = ? OR ec.company_id IS NULL )
2026-01-08T12:40:29.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 16(Long), 1(Long)
2026-01-08T12:40:29.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:29.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d] from current transaction
2026-01-08T12:40:29.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.update     : ==>  Preparing: UPDATE expense_category_tb SET category_name = ?, display_order = ?, is_active = ?, updated_at = NOW() WHERE category_id = ? AND ( company_id = ? )
2026-01-08T12:40:29.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.update     : ==> Parameters: test1(String), 13(Integer), false(Boolean), 16(Long), 1(Long)
2026-01-08T12:40:29.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.update     : <==    Updates: 1
2026-01-08T12:40:29.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.186+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.service.ExpenseCategoryService     : 항목 수정 완료 - categoryId: 16, isGlobal: false
2026-01-08T12:40:29.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d] from current transaction
2026-01-08T12:40:29.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id = ? OR ec.company_id IS NULL )
2026-01-08T12:40:29.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 16(Long), 1(Long)
2026-01-08T12:40:29.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:29.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b3e02d]
2026-01-08T12:40:29.212+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.c.ExpenseCategoryController        : 항목 수정 완료 - categoryId: 16
2026-01-08T12:40:29.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:29.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=항목이 수정되었습니다., data=ExpenseCategoryDto(categoryId=16, companyId=1,  (truncated)...]
2026-01-08T12:40:29.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:29.933+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:40:29.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:40:29.950+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:40:29.955+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:40:29.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:40:29.970+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:40:29.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.980+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:29.985+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:29.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa1861] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:29.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@115296731 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:29.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:40:30.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:30.019+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 13
2026-01-08T12:40:30.021+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4aa1861]
2026-01-08T12:40:30.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:30.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:30.030+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:32.595+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/15
2026-01-08T12:40:32.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/expense-categories/15
2026-01-08T12:40:32.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/15
2026-01-08T12:40:32.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/expense-categories/15
2026-01-08T12:40:32.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/expense-categories/15", parameters={}
2026-01-08T12:40:32.606+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#updateCategory(Long, ExpenseCategoryDto)
2026-01-08T12:40:32.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseCategoryDto(categoryId=null, companyId=null, categoryName=null, displayOrder=null, isActive=f (truncated)...]
2026-01-08T12:40:32.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:32.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:32.618+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:32.618+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.619+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149944314 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will be managed by Spring
2026-01-08T12:40:32.619+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id = ? OR ec.company_id IS NULL )
2026-01-08T12:40:32.621+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 15(Long), 1(Long)
2026-01-08T12:40:32.623+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:32.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.629+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535] from current transaction
2026-01-08T12:40:32.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.update     : ==>  Preparing: UPDATE expense_category_tb SET category_name = ?, display_order = ?, is_active = ?, updated_at = NOW() WHERE category_id = ? AND ( company_id = ? )
2026-01-08T12:40:32.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.update     : ==> Parameters: test전역(String), 12(Integer), false(Boolean), 15(Long), 1(Long)
2026-01-08T12:40:32.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.ExpenseCategoryMapper.update     : <==    Updates: 0
2026-01-08T12:40:32.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.635+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b779535]
2026-01-08T12:40:32.639+09:00 ERROR 6764 --- [http-nio-8080-exec-10] c.i.b.c.ExpenseCategoryController        : 항목 수정 실패

com.innersignature.backend.exception.BusinessException: 항목 수정에 실패했습니다.
	at com.innersignature.backend.service.ExpenseCategoryService.updateCategory(ExpenseCategoryService.java:131) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.ExpenseCategoryService$$SpringCGLIB$$0.updateCategory(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(ExpenseCategoryController.java:95) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.ExpenseCategoryController$$SpringCGLIB$$0.updateCategory(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:40:32.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:32.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=항목 수정에 실패했습니다., data=null)]
2026-01-08T12:40:32.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:40:35.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:35.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:40:35.406+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:40:35.407+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:40:35.409+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:35.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:40:35.420+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:40:35.420+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:40:35.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:40:35.427+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:40:35.442+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:35.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:35.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:40:35.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:40:35.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:40:35.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:40:35.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:40:35.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:40:35.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:35.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:40:35.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:40:35.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:35.464+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:40:35.464+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:35.465+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:40:35.469+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:40:35.472+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:40:35.479+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:35.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:40:35.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:40:35.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:40:35.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.483+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:40:35.484+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:40:35.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb323b9] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3876bea0] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6983b251] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.488+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e976939] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6117d5dd] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.496+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78409bd6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.497+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@514215604 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.497+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048719064 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.501+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384604732 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:35.511+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@632102259 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372859160 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1158938781 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.505+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.510+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.520+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.528+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.529+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.531+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:40:35.531+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:40:35.531+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:40:35.533+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.533+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb323b9]
2026-01-08T12:40:35.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3876bea0]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6117d5dd]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78409bd6]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6983b251]
2026-01-08T12:40:35.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e976939]
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfcecc7] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a272097] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.537+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:40:35.538+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac853f1] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.538+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f910421] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.539+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3631e044] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377141976 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.540+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@762883680 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@402319951 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.546+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.546+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1130446375 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1002781748 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:40:35.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:40:35.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.561+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:40:35.562+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.562+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.563+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.564+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:40:35.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:40:35.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:40:35.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:40:35.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:40:35.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f910421]
2026-01-08T12:40:35.573+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:40:35.573+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac853f1]
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a272097]
2026-01-08T12:40:35.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3631e044]
2026-01-08T12:40:35.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bfcecc7]
2026-01-08T12:40:35.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa7ba9b] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c7ff36] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:40:35.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:40:35.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.586+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1739071813 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.587+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:40:35.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294588667 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.590+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.593+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:35.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:40:35.615+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:40:35.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:40:35.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:40:35.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.617+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:40:35.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:40:35.631+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:40:35.636+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:35.645+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:35.638+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:40:35.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:40:35.649+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:40:35.650+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:40:35.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:40:35.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:35.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:40:35.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:40:35.654+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:40:35.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.667+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.669+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.681+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.683+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563e70cc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:40:35.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d43ef9] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c7ff36]
2026-01-08T12:40:35.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa7ba9b]
2026-01-08T12:40:35.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302190017 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:35.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.691+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cee3eba] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@853779247 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:40:35.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077421248 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed3bea] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ec649f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:40:35.698+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:40:35.699+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7c4a52] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.700+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@427384046 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981639675 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1892218503 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.706+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:35.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:40:35.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:35.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:35.719+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ed3bea]
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d43ef9]
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cee3eba]
2026-01-08T12:40:35.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74ec649f]
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7c4a52]
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.725+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563e70cc]
2026-01-08T12:40:35.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:40:35.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8e1a43] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eca879d] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680fd9c5] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:40:35.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969636915 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.732+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1280003915 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.733+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135986375 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.735+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:40:35.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:40:35.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.748+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.749+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:40:35.751+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:40:35.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:40:35.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:40:35.759+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:40:35.763+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:40:35.764+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:40:35.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:40:35.770+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:40:35.770+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6eca879d]
2026-01-08T12:40:35.771+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f8e1a43]
2026-01-08T12:40:35.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.778+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12780665] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.781+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299925611 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:40:35.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:40:35.773+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:40:35.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@680fd9c5]
2026-01-08T12:40:35.784+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:40:35.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:40:35.786+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.786+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.787+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:40:35.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f1ae01] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.792+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfb762e] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55303684] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@794345305 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789680005 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1991280429 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:35.799+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12780665]
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.800+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:40:35.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:40:35.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:40:35.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b0b60f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eba02b] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.807+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:35.808+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077566141 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:35.810+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@569559837 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:40:35.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:35.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:40:35.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfb762e]
2026-01-08T12:40:35.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f1ae01]
2026-01-08T12:40:35.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:40:35.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:35.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.817+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.819+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e482ac] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.820+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:40:35.821+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5358dc7] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.821+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567406790 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797560728 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55303684]
2026-01-08T12:40:35.822+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79b0b60f]
2026-01-08T12:40:35.823+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:40:35.823+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.825+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.829+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73eba02b]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:40:35.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:40:35.833+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.833+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.834+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:40:35.834+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.837+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.838+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a35b38] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.839+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8e482ac]
2026-01-08T12:40:35.839+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5358dc7]
2026-01-08T12:40:35.850+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.849+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1281836479 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.850+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.851+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fadd90c] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.851+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:35.851+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:40:35.852+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@326163895 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.854+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:40:35.855+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.870+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.871+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fadd90c]
2026-01-08T12:40:35.872+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.875+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:40:35.879+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf025bc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62a35b38]
2026-01-08T12:40:35.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172286583 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:35.881+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.883+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2244981d] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.886+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1514565110 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.887+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.888+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.894+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf025bc]
2026-01-08T12:40:35.895+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.896+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:40:35.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2244981d]
2026-01-08T12:40:35.898+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:35.901+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.904+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1056b93] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.908+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117936094 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:40:35.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:40:35.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:40:35.933+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1056b93]
2026-01-08T12:40:35.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:35.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c87010] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:35.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010550953 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:35.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:40:35.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:40:35.953+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:40:35.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16c87010]
2026-01-08T12:40:35.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:35.955+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:40:35.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:37.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:40:37.559+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:40:37.561+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2026-01-08T12:40:37.564+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:40:37.564+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:40:37.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:40:37.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:40:37.571+09:00  INFO 6764 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=1
2026-01-08T12:40:37.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:37.574+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:40:37.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:40.359+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:40:40.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:40:40.363+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:40:40.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:40:40.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:40:40.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:40:40.366+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_admin, password=1234)]
2026-01-08T12:40:40.366+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_admin
2026-01-08T12:40:40.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2bbcfc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:40.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684265619 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:40.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:40:40.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_admin(String)
2026-01-08T12:40:40.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:40:40.385+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2bbcfc]
2026-01-08T12:40:40.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b06430] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:40.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681777311 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:40.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:40:40.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2026-01-08T12:40:40.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T12:40:40.481+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b06430]
2026-01-08T12:40:40.482+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: SUPERADMIN, companyId: 4
2026-01-08T12:40:40.483+09:00  INFO 6764 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_admin role=SUPERADMIN
2026-01-08T12:40:40.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:40.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_admin, password (truncated)...]
2026-01-08T12:40:40.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:40.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:40:40.870+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:40:40.879+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/companies
2026-01-08T12:40:40.882+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:40:40.884+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:40:40.884+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:40:40.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b04b213] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:40.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198463732 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:40:40.914+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:40.916+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:40:40.921+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:40:40.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:40:40.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:40:40.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:40.932+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:40:40.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2026-01-08T12:40:40.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:40:40.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:40:40.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:40:40.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:40:40.947+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:40:40.948+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:40.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T12:40:40.950+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:40.957+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:40:40.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:40:40.965+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b04b213]
2026-01-08T12:40:40.968+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:40:40.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:40:40.968+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:40:40.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:40:40.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:40:40.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:40.976+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:40:40.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:40:40.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:40.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:40:40.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:40:40.980+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2026-01-08T12:40:40.984+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:40:40.985+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:40:40.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:40.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:40:40.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:40:40.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:40:40.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:40.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:40:40.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:40.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:40.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:40:41.000+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:40.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:40:40.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:40.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:40:40.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:40:41.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.003+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3096a7fe] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:40:41.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3978fcbc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.002+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.002+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:40:41.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1364004734 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.015+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.015+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:40:41.016+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.021+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.021+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afd4261] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030960357 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.024+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:40:41.025+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:40:41.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:40:41.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.032+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ea710] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e860fa9] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:40:41.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694293536 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:41.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:40:41.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743358804 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.046+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3978fcbc]
2026-01-08T12:40:41.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.049+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:40:41.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@796316857 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@85482f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3096a7fe]
2026-01-08T12:40:41.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:40:41.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1920872189 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afd4261]
2026-01-08T12:40:41.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.061+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:40:41.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:40:41.064+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.066+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:40:41.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72ea710]
2026-01-08T12:40:41.075+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:40:41.079+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:40:41.082+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:40:41.086+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e860fa9]
2026-01-08T12:40:41.087+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:40:41.088+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.093+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:40:41.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:40:41.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:40:41.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a333c48] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:40:41.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@631470923 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.099+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:40:41.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:40:41.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:40:41.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.103+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:40:41.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:40:41.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:40:41.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:40:41.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.119+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:40:41.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:40:41.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:40:41.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@85482f]
2026-01-08T12:40:41.129+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:40:41.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482554c6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:40:41.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:40:41.139+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.136+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:40:41.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a333c48]
2026-01-08T12:40:41.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132953159 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:41.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:40:41.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.147+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:40:41.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:40:41.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b144065] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c42ebf4] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028533108 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c51131f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974836325 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:40:41.163+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.165+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.165+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:40:41.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.169+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:40:41.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1982c62a] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1001131291 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:40:41.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158242741 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b144065]
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:40:41.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.183+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.185+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed0f6c8] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:40:41.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2007927327 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c51131f]
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2419fe29] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c42ebf4]
2026-01-08T12:40:41.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1982c62a]
2026-01-08T12:40:41.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517972234 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.195+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:40:41.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d409c] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee6073a] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@640312075 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:40:41.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339234995 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:41.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ed0f6c8]
2026-01-08T12:40:41.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:40:41.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2419fe29]
2026-01-08T12:40:41.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:40:41.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.214+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:40:41.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67dcc3cd] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:40:41.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:40:41.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594042908 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:40:41.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d409c]
2026-01-08T12:40:41.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:40:41.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@482554c6]
2026-01-08T12:40:41.222+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:40:41.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:40:41.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.231+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:40:41.232+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.233+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:40:41.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:40:41.235+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.236+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.236+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:40:41.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:40:41.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:40:41.252+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:40:41.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.286+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.265+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.292+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.266+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:40:41.266+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:40:41.284+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:40:41.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.301+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3feab35e] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140571298 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:40:41.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:40:41.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:40:41.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:40:41.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:40:41.311+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.318+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:40:41.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.334+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:40:41.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.347+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:40:41.338+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:40:41.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67dcc3cd]
2026-01-08T12:40:41.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:40:41.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.350+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.352+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3591a0cc] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.352+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0f4777] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:40:41.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3d6b8f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.361+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2042598247 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98913499 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1224773096 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:40:41.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.366+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:40:41.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:40:41.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.368+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:40:41.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:40:41.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:40:41.388+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.388+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:40:41.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.398+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:40:41.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:40:41.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3591a0cc]
2026-01-08T12:40:41.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3feab35e]
2026-01-08T12:40:41.406+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:40:41.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.404+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ee6073a]
2026-01-08T12:40:41.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.417+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.409+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ac5e2] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.417+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.418+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.420+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:40:41.421+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:40:41.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:40:41.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059422735 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:41.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.432+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:40:41.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae584ac] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.442+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:40:41.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:40:41.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.452+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1346796236 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.448+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:40:41.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:40:41.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:40:41.453+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.454+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:40:41.455+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:40:41.460+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.467+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:40:41.467+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:40:41.468+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.468+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:40:41.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:40:41.469+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20faf648] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.472+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.472+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70ac5e2]
2026-01-08T12:40:41.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103748956 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.479+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d224990] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.479+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:40:41.479+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ae584ac]
2026-01-08T12:40:41.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.483+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500046335 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.489+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.501+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:40:41.496+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:40:41.499+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:40:41.500+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73520e22] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.503+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d3d6b8f]
2026-01-08T12:40:41.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.524+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:40:41.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:40:41.506+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1694770176 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.526+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.534+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:40:41.535+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.536+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:40:41.546+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.547+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:40:41.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b0f4777]
2026-01-08T12:40:41.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:40:41.548+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:40:41.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d224990]
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.550+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20faf648]
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:40:41.551+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.551+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:40:41.553+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194a7649] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.554+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431305884 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:40:41.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:40:41.563+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:40:41.565+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:40:41.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:40:41.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:40:41.567+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:40:41.568+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.569+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:40:41.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:40:41.570+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:40:41.570+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:40:41.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380c8fa6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.571+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.572+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@598103925 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:41.575+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.577+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:40:41.577+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:40:41.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:40:41.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:40:41.586+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@194a7649]
2026-01-08T12:40:41.586+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:40:41.582+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:40:41.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40af9225] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2080716618 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:40:41.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:40:41.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73520e22]
2026-01-08T12:40:41.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.617+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db1828] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.620+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1624899890 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:41.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:40:41.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:40:41.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.635+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:40:41.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:40:41.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@380c8fa6]
2026-01-08T12:40:41.638+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:40:41.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28173585] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.635+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.638+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1272384955 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:40:41.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:40:41.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:40:41.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.662+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:40:41.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.664+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:40:41.667+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d832e4] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@556584136 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:40:41.675+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:40:41.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:40:41.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d832e4]
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.694+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4aaf4f] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605693296 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:41.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40af9225]
2026-01-08T12:40:41.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:40:41.705+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:40:41.709+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:40:41.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:40:41.713+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.717+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:40:41.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:40:41.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:40:41.725+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.733+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e4aaf4f]
2026-01-08T12:40:41.734+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28173585]
2026-01-08T12:40:41.735+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.735+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:40:41.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:41.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2542d362] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:41.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:40:41.738+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451993252 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:41.739+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:40:41.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:40:41.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.749+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.751+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:40:41.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.758+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.758+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.759+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.762+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:40:41.762+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db1828]
2026-01-08T12:40:41.763+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:40:41.765+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:40:41.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.768+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:40:41.768+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:41.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:40:41.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:40:41.776+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:40:41.778+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:40:41.779+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:40:41.780+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:40:41.781+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2542d362]
2026-01-08T12:40:41.783+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:41.783+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:40:41.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:43.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:40:43.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:40:43.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:40:43.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:40:43.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:40:43.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:40:43.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:40:43.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:40:43.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:40:43.350+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:40:43.353+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:40:43.354+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:40:43.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:40:43.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:43.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:43.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a8efc6] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:43.366+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:40:43.369+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:43.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1696b4] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:43.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@636855143 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:40:43.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:40:43.384+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:40:43.394+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@882207438 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:40:43.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:40:43.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:40:43.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.findGlobalCategories           : <==      Total: 13
2026-01-08T12:40:43.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17a8efc6]
2026-01-08T12:40:43.415+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 13
2026-01-08T12:40:43.416+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:40:43.418+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:40:43.418+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.findGlobalCategories           : <==      Total: 13
2026-01-08T12:40:43.419+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:40:43.419+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c1696b4]
2026-01-08T12:40:43.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:40:43.430+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 13
2026-01-08T12:40:43.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:40:43.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:40:43.431+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:40:43.431+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:40:43.432+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:40:43.432+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:40:43.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:40:43.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:40:43.433+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:40:43.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:40:43.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:40:43.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:40:43.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:40:43.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=15, name=test전역, order=12, active=true
2026-01-08T12:40:43.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:40:43.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:43.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:40:43.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:43.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:40:43.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:40:43.440+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:43.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=15, name=test전역, order=12, active=true
2026-01-08T12:40:43.461+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:43.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:43.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:46.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/15
2026-01-08T12:40:46.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/expense-categories/15
2026-01-08T12:40:46.215+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/15
2026-01-08T12:40:46.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/expense-categories/15
2026-01-08T12:40:46.217+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/expense-categories/15", parameters={}
2026-01-08T12:40:46.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#updateCategory(Long, ExpenseCategoryDto)
2026-01-08T12:40:46.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [ExpenseCategoryDto(categoryId=null, companyId=null, categoryName=null, displayOrder=null, isActive=f (truncated)...]
2026-01-08T12:40:46.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:46.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.updateCategory(java.lang.Long,com.innersignature.backend.dto.ExpenseCategoryDto); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:46.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:46.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.248+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@126203026 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will be managed by Spring
2026-01-08T12:40:46.248+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id IS NULL )
2026-01-08T12:40:46.251+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 15(Long)
2026-01-08T12:40:46.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:46.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d] from current transaction
2026-01-08T12:40:46.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.update     : ==>  Preparing: UPDATE expense_category_tb SET category_name = ?, display_order = ?, is_active = ?, updated_at = NOW() WHERE category_id = ? AND ( company_id IS NULL )
2026-01-08T12:40:46.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.update     : ==> Parameters: test전역(String), 12(Integer), false(Boolean), 15(Long)
2026-01-08T12:40:46.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.update     : <==    Updates: 1
2026-01-08T12:40:46.266+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.267+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.service.ExpenseCategoryService     : 항목 수정 완료 - categoryId: 15, isGlobal: true
2026-01-08T12:40:46.267+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d] from current transaction
2026-01-08T12:40:46.267+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==>  Preparing: SELECT ec.*, CASE WHEN ec.company_id IS NULL THEN 1 ELSE 0 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.category_id = ? AND ( ec.company_id IS NULL )
2026-01-08T12:40:46.268+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : ==> Parameters: 15(Long)
2026-01-08T12:40:46.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.ExpenseCategoryMapper.findById   : <==      Total: 1
2026-01-08T12:40:46.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@651d780d]
2026-01-08T12:40:46.288+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.c.ExpenseCategoryController        : 항목 수정 완료 - categoryId: 15
2026-01-08T12:40:46.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:46.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=항목이 수정되었습니다., data=ExpenseCategoryDto(categoryId=15, companyId=nul (truncated)...]
2026-01-08T12:40:46.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:46.984+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:40:46.999+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:40:47.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:40:47.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:40:47.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:40:47.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:40:47.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:47.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:40:47.013+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:40:47.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:47.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a69540a] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:47.017+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@970261756 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:40:47.018+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:40:47.063+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:40:47.115+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:40:47.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a69540a]
2026-01-08T12:40:47.121+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:40:47.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:40:47.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:40:47.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:40:47.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:40:47.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:40:47.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:40:47.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:40:47.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:40:47.132+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:40:47.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:47.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:40:47.135+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:40:50.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:40:50.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:40:50.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/list
2026-01-08T12:40:50.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:40:50.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:40:50.385+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:40:50.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:40:50.498+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:40:50.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:40:50.595+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78713c1b] was not registered for synchronization because synchronization is not active
2026-01-08T12:40:50.598+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493272929 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:40:50.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:40:50.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:40:50.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findAll                        : <==      Total: 1
2026-01-08T12:40:50.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78713c1b]
2026-01-08T12:40:50.623+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:40:50.629+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2026-01-08T12:40:50.634+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:41:06.668+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:41:06.677+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:41:06.682+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/1
2026-01-08T12:41:06.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:41:06.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:41:06.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:41:06.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:06.693+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:06.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:41:06.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@550014822 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will be managed by Spring
2026-01-08T12:41:06.700+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:41:06.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 4(Long)
2026-01-08T12:41:06.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : <==      Total: 0
2026-01-08T12:41:06.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d1322a7]
2026-01-08T12:41:06.712+09:00 ERROR 6764 --- [http-nio-8080-exec-3] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 실패

com.innersignature.backend.exception.BusinessException: 계정 과목 매핑을 찾을 수 없습니다.
	at com.innersignature.backend.service.AccountCodeService.deleteMapping(AccountCodeService.java:116) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.deleteMapping(AccountCodeController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:41:06.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:41:06.746+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=계정 과목 매핑을 찾을 수 없습니다., data=null)]
2026-01-08T12:41:06.747+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:41:09.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:41:09.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:41:09.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/1
2026-01-08T12:41:09.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:41:09.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:41:09.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:41:09.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:09.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:41:09.388+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:41:09.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958712377 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will be managed by Spring
2026-01-08T12:41:09.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:41:09.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 4(Long)
2026-01-08T12:41:09.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findById                       : <==      Total: 0
2026-01-08T12:41:09.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.400+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@723072a3]
2026-01-08T12:41:09.403+09:00 ERROR 6764 --- [http-nio-8080-exec-7] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 실패

com.innersignature.backend.exception.BusinessException: 계정 과목 매핑을 찾을 수 없습니다.
	at com.innersignature.backend.service.AccountCodeService.deleteMapping(AccountCodeService.java:116) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.deleteMapping(AccountCodeController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:41:09.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:41:09.445+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=계정 과목 매핑을 찾을 수 없습니다., data=null)]
2026-01-08T12:41:09.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:43:00.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:43:00.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:43:00.790+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/1
2026-01-08T12:43:00.792+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:43:00.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:43:00.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:43:00.794+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:43:00.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:43:00.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:43:00.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744352063 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will be managed by Spring
2026-01-08T12:43:00.809+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:43:00.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 4(Long)
2026-01-08T12:43:00.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.A.findById                       : <==      Total: 0
2026-01-08T12:43:00.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.816+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d264730]
2026-01-08T12:43:00.828+09:00 ERROR 6764 --- [http-nio-8080-exec-2] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 실패

com.innersignature.backend.exception.BusinessException: 계정 과목 매핑을 찾을 수 없습니다.
	at com.innersignature.backend.service.AccountCodeService.deleteMapping(AccountCodeService.java:116) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.deleteMapping(AccountCodeController.java:63) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.deleteMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:43:00.862+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:43:00.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=계정 과목 매핑을 찾을 수 없습니다., data=null)]
2026-01-08T12:43:00.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:45:22.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:45:22.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:45:22.913+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/logout
2026-01-08T12:45:22.924+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:45:22.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:45:22.958+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:45:22.973+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI5IiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:45:22.984+09:00  INFO 6764 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=9
2026-01-08T12:45:22.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:22.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:45:23.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:45:26.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:45:26.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:45:26.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:45:26.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:45:26.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:45:26.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2026-01-08T12:45:26.340+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2026-01-08T12:45:26.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba276d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098840541 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:45:26.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2026-01-08T12:45:26.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:45:26.349+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ba276d]
2026-01-08T12:45:26.429+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.429+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f05cf4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@936516002 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:26.431+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:26.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:26.434+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f05cf4]
2026-01-08T12:45:26.435+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2026-01-08T12:45:26.435+09:00  INFO 6764 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2026-01-08T12:45:26.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:26.436+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2026-01-08T12:45:26.437+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:45:26.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:45:26.774+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2026-01-08T12:45:26.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:45:26.776+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:45:26.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:45:26.779+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215e31cb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.805+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1540176802 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:26.807+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:45:26.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2026-01-08T12:45:26.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 7
2026-01-08T12:45:26.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@215e31cb]
2026-01-08T12:45:26.827+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:26.828+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T12:45:26.828+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.857+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:26.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:26.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:26.861+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:26.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:45:26.863+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:26.877+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:26.885+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:26.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:26.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:26.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:26.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:26.893+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:26.900+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:26.908+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:26.912+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:26.912+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:26.914+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:45:26.914+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:26.918+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:26.922+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:26.923+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:26.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:26.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:45:26.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:26.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:26.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:26.927+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:26.927+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:26.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:45:26.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:26.930+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:26.931+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:26.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:26.935+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:26.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:45:26.939+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:26.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:26.937+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.937+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5a3675] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5852de2d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bbb4ce3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341b0662] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@679568830 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:26.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ace7d10] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a75a5b5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.951+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:26.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@501322292 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1820593204 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699134357 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193293387 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:26.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1215362280 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:26.962+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:26.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:26.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:26.964+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:26.964+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:26.967+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:26.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:26.986+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:26.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ace7d10]
2026-01-08T12:45:26.987+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c5a3675]
2026-01-08T12:45:26.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b4d32c6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4984622] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@755548752 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:26.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@434909530 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:26.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:26.992+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:26.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:26.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:26.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:26.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5852de2d]
2026-01-08T12:45:26.996+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:26.996+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:26.996+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a75a5b5]
2026-01-08T12:45:26.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:45:26.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:26.998+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cc7fb3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:26.999+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:26.999+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2093493052 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.000+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.001+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:27.002+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@341b0662]
2026-01-08T12:45:27.003+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.003+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:27.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:27.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bbb4ce3]
2026-01-08T12:45:27.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142ed03] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.006+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57444053 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.007+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.007+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.013+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:27.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:27.023+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:27.025+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:27.025+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31cc7fb3]
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b4d32c6]
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c64efe] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.027+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1193646610 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.028+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4984622]
2026-01-08T12:45:27.031+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142ed03]
2026-01-08T12:45:27.033+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:27.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:27.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15c64efe]
2026-01-08T12:45:27.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260dc708] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@26991753 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:27.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:27.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:27.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:27.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:27.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:27.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c901e8f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67807aa3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:27.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389865493 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1566385558 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:27.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:27.070+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:27.077+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.087+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.078+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.078+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.081+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:27.084+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:27.086+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:27.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d251061] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@260dc708]
2026-01-08T12:45:27.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e782723] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:27.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:27.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870583167 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.099+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.099+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@377855587 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:27.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:27.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:27.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:27.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c901e8f]
2026-01-08T12:45:27.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67807aa3]
2026-01-08T12:45:27.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:27.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:27.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:27.107+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cadaa4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6138a9b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.111+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:27.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e782723]
2026-01-08T12:45:27.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ecd091] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@696436980 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@92897873 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d251061]
2026-01-08T12:45:27.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.118+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427445672 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:27.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf33fc5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afe451b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:27.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:27.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:27.132+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@101435248 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@354429528 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:27.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:27.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:27.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cadaa4]
2026-01-08T12:45:27.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:27.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4effb8d5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.148+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:27.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489899092 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:27.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:27.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6138a9b7]
2026-01-08T12:45:27.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77ecd091]
2026-01-08T12:45:27.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@afe451b]
2026-01-08T12:45:27.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:27.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:27.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:27.167+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b63bb5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.169+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d96425d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@892862569 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c4fd16] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1213141066 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:27.202+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:27.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cf33fc5]
2026-01-08T12:45:27.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:27.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@917179514 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.201+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4effb8d5]
2026-01-08T12:45:27.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:27.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:27.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e679ddf] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030596054 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.231+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:27.233+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:27.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:27.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d96425d]
2026-01-08T12:45:27.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:27.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:27.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:27.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:27.251+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68bba65e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:27.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:27.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59b63bb5]
2026-01-08T12:45:27.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@398497214 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:27.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:27.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70c4fd16]
2026-01-08T12:45:27.268+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e679ddf]
2026-01-08T12:45:27.279+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.284+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:27.286+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e741929] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2e56e5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:27.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@407426833 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570cc060] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68bba65e]
2026-01-08T12:45:27.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e6753a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995437115 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:27.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:27.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1698117179 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37762b24] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068919183 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:27.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:27.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:27.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46854850 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.325+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:27.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:27.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:27.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:27.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:27.330+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62468cf9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e741929]
2026-01-08T12:45:27.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c2e56e5]
2026-01-08T12:45:27.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@570cc060]
2026-01-08T12:45:27.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1966313219 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:27.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:27.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:27.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5581a03e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:27.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:27.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681876270 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37762b24]
2026-01-08T12:45:27.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:27.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:27.352+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:27.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:27.367+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:27.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:27.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:27.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:27.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:27.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:27.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5571ce14] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.382+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@547515075 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.383+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:27.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:27.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:27.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.399+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44547a9a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.387+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:27.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:27.394+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:27.457+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62468cf9]
2026-01-08T12:45:27.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dcc3fef] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:27.463+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:27.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.440+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1610946230 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.457+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:27.460+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1928906587 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:27.511+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:27.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5581a03e]
2026-01-08T12:45:27.512+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.541+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63e6753a]
2026-01-08T12:45:27.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:27.525+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:27.529+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:27.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e354cb2] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:27.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5571ce14]
2026-01-08T12:45:27.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1995278618 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.555+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:27.548+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7f77e7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.554+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aeaeec8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.556+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.560+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1629818834 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.560+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1652727458 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:27.638+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:27.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:27.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.641+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44547a9a]
2026-01-08T12:45:27.641+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.644+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7e8b4a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.645+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471449109 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:27.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:27.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e354cb2]
2026-01-08T12:45:27.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dcc3fef]
2026-01-08T12:45:27.649+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:27.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.659+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:27.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791a964d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:27.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:27.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2102265088 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:27.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.664+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.668+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:27.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:27.679+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ca3982] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.681+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:27.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:27.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1103742109 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:27.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:27.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a7f77e7]
2026-01-08T12:45:27.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7e8b4a]
2026-01-08T12:45:27.691+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3aeaeec8]
2026-01-08T12:45:27.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@791a964d]
2026-01-08T12:45:27.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:27.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:27.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.698+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.701+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:27.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:27.702+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:27.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fcca14] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.704+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:27.704+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2affdd8c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1322724794 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.709+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@125476448 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:27.709+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:27.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374cc370] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:27.760+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692793858 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:27.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:27.762+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:27.771+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.775+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:27.777+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.779+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2affdd8c]
2026-01-08T12:45:27.780+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41fcca14]
2026-01-08T12:45:27.785+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:27.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.794+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:27.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:27.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460bee83] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ca3982]
2026-01-08T12:45:27.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1635786812 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.801+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:27.803+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.804+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:27.829+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@374cc370]
2026-01-08T12:45:27.830+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:27.832+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.842+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:27.842+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@460bee83]
2026-01-08T12:45:27.843+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:27.844+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.844+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77980e32] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.858+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1862175156 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.860+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:27.873+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:27.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:27.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77980e32]
2026-01-08T12:45:27.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7375e02c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.896+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1143708142 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.904+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:27.906+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:27.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:27.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7375e02c]
2026-01-08T12:45:27.931+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec15edc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:27.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1919532968 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:27.956+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:27.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:27.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:27.992+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ec15edc]
2026-01-08T12:45:27.993+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:27.994+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2486d7fd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:28.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1395215 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:28.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:28.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:28.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:28.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2486d7fd]
2026-01-08T12:45:28.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:28.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780b78e3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:28.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788899616 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:28.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:28.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:28.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:28.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780b78e3]
2026-01-08T12:45:28.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:28.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:28.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:29.574+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:29.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:29.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:29.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:29.585+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:29.630+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:29.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:29.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:29.662+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:29.640+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:29.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:29.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:29.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:29.707+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:29.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:29.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:29.713+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:29.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:29.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:29.878+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:29.888+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:29.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.892+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:29.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:29.897+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:29.900+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:29.903+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623f1c84] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:29.916+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:29.917+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:29.920+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:29.923+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:29.924+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1705160643 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7ad65c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.925+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b07dbf6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:29.928+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.934+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:29.937+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:29.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451888808 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:29.940+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3556eb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@923734820 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:29.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56809ccc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:29.946+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:29.948+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:29.949+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:29.952+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:29.952+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@623f1c84]
2026-01-08T12:45:29.953+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:30.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1b18e3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:30.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1142597188 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:30.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:30.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:30.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@527033523 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:30.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@157754988 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:30.098+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:30.098+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b07dbf6]
2026-01-08T12:45:30.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d7ad65c]
2026-01-08T12:45:30.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:30.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:30.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:30.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:30.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:30.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:30.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:30.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea852] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:30.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127960747 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:30.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:30.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:30.114+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:30.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e3556eb]
2026-01-08T12:45:30.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:30.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:30.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a1b18e3]
2026-01-08T12:45:30.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:30.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56809ccc]
2026-01-08T12:45:30.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:30.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:30.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:30.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:30.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ea852]
2026-01-08T12:45:30.198+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:30.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:30.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:31.026+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:31.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:31.039+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:45:31.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:31.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:31.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:31.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:31.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@3e454318 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('SUPERADMIN', 'TAX_ACCOUNTANT')]
2026-01-08T12:45:31.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2026-01-08T12:45:31.054+09:00  WARN 6764 --- [http-nio-8080-exec-10] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2026-01-08T12:45:31.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:31.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2026-01-08T12:45:31.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2026-01-08T12:45:31.059+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2026-01-08T12:45:32.971+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:32.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:32.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:32.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:32.983+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:32.985+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:33.009+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:33.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:33.012+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2026-01-08T12:45:33.014+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:33.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:33.029+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:33.033+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:33.034+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:33.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2026-01-08T12:45:33.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:33.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:33.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:33.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:33.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:33.046+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:33.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:33.047+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:33.048+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:33.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:33.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:33.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:33.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:33.056+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e16957f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6db3f6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.057+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff5eb20] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.059+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30027a28] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:33.061+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ebce0ae] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:33.064+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1038076658 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.065+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1473512835 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.066+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.067+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1527488199 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.067+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@400992501 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.068+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8997e64] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554397736 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.070+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.071+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.072+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.076+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.076+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.077+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@841749880 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.078+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:33.079+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:33.079+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.080+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.080+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e16957f]
2026-01-08T12:45:33.087+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.080+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f6db3f6]
2026-01-08T12:45:33.085+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.085+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.085+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:33.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423e09b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30027a28]
2026-01-08T12:45:33.090+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff5eb20]
2026-01-08T12:45:33.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:33.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@927779359 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ebce0ae]
2026-01-08T12:45:33.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d7a2527] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@463479565 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61748205] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8997e64]
2026-01-08T12:45:33.100+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.103+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@482743946 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.103+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563fc1bf] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/credits/total
2026-01-08T12:45:33.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:33.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732712967 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:33.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738c3898] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:33.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.113+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423e09b7]
2026-01-08T12:45:33.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88321111 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.118+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2026-01-08T12:45:33.120+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:33.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:33.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d7a2527]
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:33.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61748205]
2026-01-08T12:45:33.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4467608a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:33.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.124+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952645180 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:33.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:33.126+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:33.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:33.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:33.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:33.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:33.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:33.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c09cd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.144+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@44383587 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:33.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5811ebae] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:33.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585956505 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:33.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:33.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d681c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1154955843 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:33.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:33.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:33.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 4
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@738c3898]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4467608a]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563fc1bf]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5811ebae]
2026-01-08T12:45:33.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40c09cd]
2026-01-08T12:45:33.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:33.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:33.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d277f8d] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74633131] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:33.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617c1558] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:33.166+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.168+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@314253715 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@603515016 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@98183899 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:33.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:33.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2026-01-08T12:45:33.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:33.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2026-01-08T12:45:33.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:33.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74633131]
2026-01-08T12:45:33.178+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59d681c]
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:33.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d277f8d]
2026-01-08T12:45:33.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[ExpenseReportDto(expenseReportId=26, drafterId= (truncated)...]
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:33.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2026-01-08T12:45:33.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@617c1558]
2026-01-08T12:45:33.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb622e0] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:33.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.197+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1228668300 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.200+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2026-01-08T12:45:33.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2026-01-08T12:45:33.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7770fb42] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d38cbdd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485477367 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2026-01-08T12:45:33.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2026-01-08T12:45:33.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2026-01-08T12:45:33.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2026-01-08T12:45:33.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2026-01-08T12:45:33.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@404813401 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:33.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65110921] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1266870779 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8bb73] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2026-01-08T12:45:33.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.231+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:33.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@898197900 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2026-01-08T12:45:33.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb622e0]
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:33.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:33.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2026-01-08T12:45:33.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d38cbdd]
2026-01-08T12:45:33.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2026-01-08T12:45:33.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35aa4c1b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2026-01-08T12:45:33.248+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd56802] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.249+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 7
2026-01-08T12:45:33.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1198009958 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.250+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65110921]
2026-01-08T12:45:33.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7770fb42]
2026-01-08T12:45:33.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@455465324 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.254+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c8bb73]
2026-01-08T12:45:33.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c5f31b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:33.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2026-01-08T12:45:33.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818503308 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d152c89] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.272+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2026-01-08T12:45:33.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143558523 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:33.279+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/credits/total
2026-01-08T12:45:33.285+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2026-01-08T12:45:33.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2026-01-08T12:45:33.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/credits/total
2026-01-08T12:45:33.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/credits/total
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd56802]
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35aa4c1b]
2026-01-08T12:45:33.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/credits/total", parameters={}
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.295+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:33.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CreditController#getTotalAvailableAmount()
2026-01-08T12:45:33.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ca4a55] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2026-01-08T12:45:33.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30cae0c6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d152c89]
2026-01-08T12:45:33.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1743306038 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474803792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:33.304+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CreditController.getTotalAvailableAmount(); target is of class [com.innersignature.backend.controller.CreditController]
2026-01-08T12:45:33.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2026-01-08T12:45:33.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:33.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29c5f31b]
2026-01-08T12:45:33.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7e3e3c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562679219 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:33.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2026-01-08T12:45:33.317+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==>  Preparing: SELECT COALESCE(SUM(amount - used_amount), 0) FROM credit_tb WHERE company_id = ? AND (expires_at IS NULL OR expires_at >= ?)
2026-01-08T12:45:33.318+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30cae0c6]
2026-01-08T12:45:33.319+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50ca4a55]
2026-01-08T12:45:33.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : ==> Parameters: 1(Long), 2026-01-08(LocalDate)
2026-01-08T12:45:33.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.324+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf1557f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.325+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1315371f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744116247 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.C.getTotalAvailableAmount        : <==      Total: 1
2026-01-08T12:45:33.330+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@286220234 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f7e3e3c]
2026-01-08T12:45:33.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:33.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data={totalAmount=5145})]
2026-01-08T12:45:33.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf1557f]
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1315371f]
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43077a62] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.359+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb0ab2a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.359+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@35427792 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160234508 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.361+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.365+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fb0ab2a]
2026-01-08T12:45:33.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43077a62]
2026-01-08T12:45:33.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f4e46bb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.372+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:33.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@90004355 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.374+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY expense_report_id, expense_detail_id
2026-01-08T12:45:33.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 33(Long), 32(Long), 31(Long), 27(Long), 26(Long), 25(Long), 24(Long), 20(Long), 19(Long), 18(Long), 17(Long), 16(Long), 14(Long), 13(Long), 12(Long), 8(Long), 7(Long), 6(Long), 5(Long), 4(Long), 3(Long), 2(Long), 1(Long)
2026-01-08T12:45:33.408+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 30
2026-01-08T12:45:33.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f4e46bb]
2026-01-08T12:45:33.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:33.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c88371] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:33.415+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884892013 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:33.423+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:33.428+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2026-01-08T12:45:33.438+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:33.442+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c88371]
2026-01-08T12:45:33.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:33.447+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:33.952+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:45:33.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:45:33.967+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2026-01-08T12:45:33.968+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:45:33.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:45:33.978+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:45:33.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2026-01-08T12:45:33.981+09:00  INFO 6764 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=1
2026-01-08T12:45:33.994+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:33.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:45:34.000+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:36.511+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:45:36.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:45:36.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:45:36.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:45:36.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:45:36.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:45:36.515+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_tax, password=1234)]
2026-01-08T12:45:36.515+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_tax
2026-01-08T12:45:36.516+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:36.516+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470c073b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:36.519+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1982381927 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:36.520+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:45:36.521+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_tax(String)
2026-01-08T12:45:36.525+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:45:36.529+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@470c073b]
2026-01-08T12:45:36.624+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:36.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269ffec5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:36.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1190257274 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:36.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:36.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2026-01-08T12:45:36.641+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2026-01-08T12:45:36.645+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@269ffec5]
2026-01-08T12:45:36.647+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1
2026-01-08T12:45:36.647+09:00  INFO 6764 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=12 username=test_tax role=TAX_ACCOUNTANT
2026-01-08T12:45:36.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:36.650+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=12, username=test_tax, password= (truncated)...]
2026-01-08T12:45:36.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:36.938+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:45:36.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:45:36.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/companies
2026-01-08T12:45:36.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:36.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477555f8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:36.947+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@206605873 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:36.950+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:45:36.951+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 12(Long)
2026-01-08T12:45:36.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2026-01-08T12:45:36.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477555f8]
2026-01-08T12:45:36.957+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:36.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2026-01-08T12:45:36.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.021+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.022+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:37.035+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:37.036+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.037+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:37.038+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.039+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.040+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.041+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:37.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.042+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:37.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.045+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.052+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f495fec] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:37.054+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:37.055+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:37.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:37.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981158900 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:37.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.164+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.165+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.169+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:37.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:37.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33902aa8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:37.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:37.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323834299 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:37.195+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.203+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.204+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.205+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa96fd1] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55901bf9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f495fec]
2026-01-08T12:45:37.206+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea7994a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.207+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148455213 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.208+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16686100 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1191736118 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100602f7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33902aa8]
2026-01-08T12:45:37.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:37.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:37.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:37.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:37.234+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:37.236+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:37.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251528255 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:37.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:37.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55901bf9]
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ea7994a]
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa96fd1]
2026-01-08T12:45:37.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:37.242+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46229345] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553d33df] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1060eba4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:37.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1849196551 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@654248438 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441514024 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@100602f7]
2026-01-08T12:45:37.249+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:37.252+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd599e2] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:37.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1164256619 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:37.255+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.256+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46229345]
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1060eba4]
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553d33df]
2026-01-08T12:45:37.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:37.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.258+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:37.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d2bd64] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afb89e6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:37.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@251152433 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.267+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2519abcb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726282413 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd599e2]
2026-01-08T12:45:37.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464055946 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.273+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.273+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:37.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.275+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.282+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19d2bd64]
2026-01-08T12:45:37.283+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5afb89e6]
2026-01-08T12:45:37.287+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2519abcb]
2026-01-08T12:45:37.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.288+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2081061f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd2469e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@741648118 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a372957] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@710958683 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572032041 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.291+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2081061f]
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd2469e]
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c8ed4dc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a372957]
2026-01-08T12:45:37.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@68652716 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.299+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.300+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c097b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.300+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.300+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fab1cad] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978602434 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749075358 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.304+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c8ed4dc]
2026-01-08T12:45:37.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.308+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63664d2e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@966020522 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fab1cad]
2026-01-08T12:45:37.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c097b]
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73c98aec] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e53b198] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954590284 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63664d2e]
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@443590904 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.315+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec7ed6] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.317+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@825376984 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:37.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.321+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73c98aec]
2026-01-08T12:45:37.322+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.323+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.324+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e53b198]
2026-01-08T12:45:37.324+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc50a2a] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.325+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1390703508 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622e36d4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:37.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec7ed6]
2026-01-08T12:45:37.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17990776 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:37.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:37.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:37.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.331+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.332+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.332+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:37.333+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@622e36d4]
2026-01-08T12:45:37.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dc50a2a]
2026-01-08T12:45:37.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:37.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e33f5] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1207958976 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.339+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:37.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e33f5]
2026-01-08T12:45:37.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:37.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2200f9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:37.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1558200179 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:37.347+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:37.354+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:37.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:37.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f2200f9]
2026-01-08T12:45:37.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:37.363+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:37.365+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:39.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:39.343+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:39.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/merged
2026-01-08T12:45:39.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:39.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:39.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:39.443+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/merged
2026-01-08T12:45:39.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:39.477+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:39.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:39.560+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:39.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expense-categories/merged
2026-01-08T12:45:39.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:39.589+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:39.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:39.584+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:39.588+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/merged
2026-01-08T12:45:39.590+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:39.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:39.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:39.600+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:39.593+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/merged", parameters={}
2026-01-08T12:45:39.594+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.597+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getMergedCategories()
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f57cee] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53de623c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getMergedCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:39.624+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d511dc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.625+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:39.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be4d8d2] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:39.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1412748088 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:39.627+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@732363568 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:39.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:39.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:39.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:39.639+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:39.643+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@685615028 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:39.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:39.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:39.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:39.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@404145005 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:39.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:39.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53de623c]
2026-01-08T12:45:39.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==>  Preparing: ( -- 전역 카테고리 (회사별 오버라이드가 있으면 회사별 값 사용) SELECT COALESCE(ec_company.category_id, ec_global.category_id) AS category_id, COALESCE(ec_company.company_id, ec_global.company_id) AS company_id, COALESCE(ec_company.category_name, ec_global.category_name) AS category_name, COALESCE(ec_company.display_order, ec_global.display_order) AS display_order, COALESCE(ec_company.is_active, ec_global.is_active) AS is_active, COALESCE(ec_company.created_by, ec_global.created_by) AS created_by, COALESCE(ec_company.created_at, ec_global.created_at) AS created_at, COALESCE(ec_company.updated_at, ec_global.updated_at) AS updated_at, CASE WHEN ec_company.category_id IS NOT NULL THEN 0 ELSE 1 END AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_global LEFT JOIN expense_category_tb ec_company ON ec_global.category_name = ec_company.category_name AND ec_company.company_id = ? LEFT JOIN user_tb u ON COALESCE(ec_company.created_by, ec_global.created_by) = u.user_id WHERE ec_global.company_id IS NULL AND (ec_global.is_active IS NULL OR ec_global.is_active = 1) AND (ec_company.category_id IS NULL OR ec_company.is_active IS NULL OR ec_company.is_active = 1) ) UNION ( -- 회사별 카테고리 (전역에 없는 새로운 카테고리만) SELECT ec_company.category_id, ec_company.company_id, ec_company.category_name, ec_company.display_order, ec_company.is_active, ec_company.created_by, ec_company.created_at, ec_company.updated_at, 0 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec_company LEFT JOIN expense_category_tb ec_global ON ec_company.category_name = ec_global.category_name AND ec_global.company_id IS NULL LEFT JOIN user_tb u ON ec_company.created_by = u.user_id WHERE ec_company.company_id = ? AND (ec_company.is_active IS NULL OR ec_company.is_active = 1) AND ec_global.category_id IS NULL -- 전역에 없는 회사별 카테고리만 ) ORDER BY display_order ASC, category_name ASC
2026-01-08T12:45:39.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17f57cee]
2026-01-08T12:45:39.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.677+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:39.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:39.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:39.681+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:39.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d511dc]
2026-01-08T12:45:39.692+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.693+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.E.findMergedCategories           : <==      Total: 12
2026-01-08T12:45:39.693+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:39.694+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5be4d8d2]
2026-01-08T12:45:39.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:39.695+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:39.821+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:39.887+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:40.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:40.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:40.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:45:40.345+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:40.346+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:40.353+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:40.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:40.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:40.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:40.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c8dfbd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:40.368+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43293099 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:40.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:45:40.373+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2026-01-08T12:45:40.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.A.findByCompanyId                : <==      Total: 1
2026-01-08T12:45:40.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c8dfbd]
2026-01-08T12:45:40.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:40.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[AccountCodeMappingDto(mappingId=1, companyId=1, categ (truncated)...]
2026-01-08T12:45:40.391+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:42.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/1
2026-01-08T12:45:42.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing DELETE /api/account-codes/1
2026-01-08T12:45:42.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/1
2026-01-08T12:45:42.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured DELETE /api/account-codes/1
2026-01-08T12:45:42.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : DELETE "/api/account-codes/1", parameters={}
2026-01-08T12:45:42.207+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#deleteMapping(Long)
2026-01-08T12:45:42.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.deleteMapping(java.lang.Long); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:42.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321194719 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will be managed by Spring
2026-01-08T12:45:42.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:45:42.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:42.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.A.findById                       : <==      Total: 1
2026-01-08T12:45:42.223+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.223+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a] from current transaction
2026-01-08T12:45:42.224+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.delete  : ==>  Preparing: DELETE FROM account_code_mapping_tb WHERE mapping_id = ? AND (company_id = ? OR company_id IS NULL)
2026-01-08T12:45:42.224+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.delete  : ==> Parameters: 1(Long), 1(Long)
2026-01-08T12:45:42.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.AccountCodeMappingMapper.delete  : <==    Updates: 1
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.230+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.backend.service.AccountCodeService   : 계정 과목 매핑 삭제 완료 - mappingId: 1, companyId: 1, role: TAX_ACCOUNTANT
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576a7c1a]
2026-01-08T12:45:42.239+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 삭제 완료 - mappingId: 1
2026-01-08T12:45:42.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:42.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=계정 과목 매핑이 삭제되었습니다., data=null)]
2026-01-08T12:45:42.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:42.880+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:42.888+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:42.889+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/account-codes/list
2026-01-08T12:45:42.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:42.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:42.890+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:42.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.891+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:42.893+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:42.894+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670153a7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:42.899+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@360863108 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:42.901+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==>  Preparing: SELECT * FROM account_code_mapping_tb WHERE company_id = ? OR company_id IS NULL ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:45:42.902+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : ==> Parameters: 1(Long)
2026-01-08T12:45:42.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.A.findByCompanyId                : <==      Total: 0
2026-01-08T12:45:42.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670153a7]
2026-01-08T12:45:42.905+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:42.906+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:42.908+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:43.906+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:43.907+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:43.909+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:43.909+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=1000
2026-01-08T12:45:43.910+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:43.911+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:43.926+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:43.927+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:43.929+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.930+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:43.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:43.936+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.939+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:43.954+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:43.958+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:43.941+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:43.942+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:43.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses/pending-approvals
2026-01-08T12:45:43.943+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:43.944+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/expenses
2026-01-08T12:45:43.958+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:43.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:43.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.959+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:43.969+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:43.970+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:43.970+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.972+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@288e862b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:43.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=1000
2026-01-08T12:45:43.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:43.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:43.961+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:43.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:43.975+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=1000", parameters={masked}
2026-01-08T12:45:43.975+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.988+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:43.989+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:43.990+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, String)
2026-01-08T12:45:43.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794508b3] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.991+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:43.992+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.005+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549a9c75] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.995+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13e949b7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:43.997+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221355754 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:44.008+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.002+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.011+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42908ebb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.004+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa50b93] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.010+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:44.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:44.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@152921337 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:44.043+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@117377052 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:44.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245834555 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:44.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531050088 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.044+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084062371 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.050+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@288e862b]
2026-01-08T12:45:44.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.051+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:44.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.063+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.064+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.067+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:44.069+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 1(Long), 12(Long)
2026-01-08T12:45:44.070+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 12(Long), 1(Long)
2026-01-08T12:45:44.071+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.071+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.072+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:44.075+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:44.093+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:44.094+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:44.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42908ebb]
2026-01-08T12:45:44.095+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@549a9c75]
2026-01-08T12:45:44.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@13e949b7]
2026-01-08T12:45:44.097+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa50b93]
2026-01-08T12:45:44.098+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@794508b3]
2026-01-08T12:45:44.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.102+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26827e08] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e24eb76] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.108+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470061695 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@318204465 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.117+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.119+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e24eb76]
2026-01-08T12:45:44.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26827e08]
2026-01-08T12:45:44.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1784a9da] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce733fc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.145+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115149575 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2032166486 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.163+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.170+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1784a9da]
2026-01-08T12:45:44.171+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce733fc]
2026-01-08T12:45:44.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d11c206] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db46b86] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137618439 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@674876191 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.182+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d11c206]
2026-01-08T12:45:44.185+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db46b86]
2026-01-08T12:45:44.186+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced7195] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f400019] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865390076 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@290897452 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.192+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, (SELECT MAX(al.approval_date) FROM approval_line_tb al WHERE al.expense_report_id = r.expense_report_id AND al.status = 'APPROVED' AND al.company_id = r.company_id) AS finalApprovalDate, (SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL) AS minPaymentReqDate, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY COALESCE((SELECT MIN(d.payment_req_date) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.payment_req_date IS NOT NULL), r.payment_req_date, r.report_date) DESC, r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:44.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.196+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2026-01-08T12:45:44.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 23
2026-01-08T12:45:44.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f400019]
2026-01-08T12:45:44.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ced7195]
2026-01-08T12:45:44.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.218+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d8ebf82] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7552908] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117856482 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089700270 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.221+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7552908]
2026-01-08T12:45:44.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d8ebf82]
2026-01-08T12:45:44.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:44.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b904f88] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efa5104] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:44.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@899889307 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:44.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1179688950 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:44.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2026-01-08T12:45:44.231+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.233+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2026-01-08T12:45:44.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.237+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2026-01-08T12:45:44.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1efa5104]
2026-01-08T12:45:44.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b904f88]
2026-01-08T12:45:44.244+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:44.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2026-01-08T12:45:44.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:44.678+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2026-01-08T12:45:44.680+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2026-01-08T12:45:44.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 12, role: TAX_ACCOUNTANT, companyId: 1, uri: /api/logout
2026-01-08T12:45:44.684+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2026-01-08T12:45:44.685+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2026-01-08T12:45:44.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2026-01-08T12:45:44.686+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMiIsInVzZXJuYW1lIjo (truncated)...]
2026-01-08T12:45:44.687+09:00  INFO 6764 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=12
2026-01-08T12:45:44.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:44.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2026-01-08T12:45:44.690+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:47.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2026-01-08T12:45:47.659+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2026-01-08T12:45:47.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2026-01-08T12:45:47.668+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2026-01-08T12:45:47.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2026-01-08T12:45:47.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2026-01-08T12:45:47.674+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_admin, password=1234)]
2026-01-08T12:45:47.676+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_admin
2026-01-08T12:45:47.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:47.691+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea2c9ef] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:47.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723164763 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:47.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2026-01-08T12:45:47.697+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_admin(String)
2026-01-08T12:45:47.706+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2026-01-08T12:45:47.706+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea2c9ef]
2026-01-08T12:45:47.806+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:47.807+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5824b4ec] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:47.808+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1337461992 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:47.808+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.is_approver AS isApprover, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2026-01-08T12:45:47.810+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 9(Long)
2026-01-08T12:45:47.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2026-01-08T12:45:47.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5824b4ec]
2026-01-08T12:45:47.817+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 9, role: SUPERADMIN, companyId: 4
2026-01-08T12:45:47.818+09:00  INFO 6764 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=9 username=test_admin role=SUPERADMIN
2026-01-08T12:45:47.819+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:47.819+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=9, username=test_admin, password (truncated)...]
2026-01-08T12:45:47.820+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.053+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2026-01-08T12:45:48.058+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2026-01-08T12:45:48.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/companies
2026-01-08T12:45:48.060+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2026-01-08T12:45:48.061+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2026-01-08T12:45:48.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2026-01-08T12:45:48.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.062+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f323892] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.082+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1308343626 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:48.089+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:48.091+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:45:48.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:45:48.092+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:45:48.096+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2026-01-08T12:45:48.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:45:48.101+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:45:48.104+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:45:48.105+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:45:48.106+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 9(Long)
2026-01-08T12:45:48.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:45:48.110+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:45:48.112+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:45:48.115+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:45:48.116+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:48.121+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.125+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:45:48.127+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:45:48.128+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:45:48.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:45:48.129+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:45:48.130+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:48.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2026-01-08T12:45:48.131+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:45:48.133+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:45:48.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:45:48.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:48.134+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f323892]
2026-01-08T12:45:48.135+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:48.135+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:45:48.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:45:48.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:45:48.136+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:48.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:48.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.137+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:45:48.138+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:45:48.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.140+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=4, companyCode=JIIST3, companyNa (truncated)...]
2026-01-08T12:45:48.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.141+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f752ba] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.142+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9cfbb0] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:45:48.146+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1936bc] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.147+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.151+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:45:48.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:45:48.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@820475943 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.158+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294632453 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221483695 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.159+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.160+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:45:48.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.161+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.162+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.172+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ba6317b] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.173+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:45:48.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f59e4bf] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:45:48.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:45:48.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@390847484 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:45:48.179+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585681881 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1936bc]
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.180+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f752ba]
2026-01-08T12:45:48.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.181+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9cfbb0]
2026-01-08T12:45:48.182+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.182+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:45:48.184+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.184+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.184+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.185+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:48.187+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ba6317b]
2026-01-08T12:45:48.188+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:48.189+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:45:48.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.190+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.191+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.193+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38353a01] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.194+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3504ab73] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.199+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:45:48.207+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:45:48.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43078448 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.209+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f59e4bf]
2026-01-08T12:45:48.210+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059289409 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.211+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:45:48.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:45:48.212+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:45:48.212+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.216+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:45:48.219+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:45:48.213+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:45:48.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.214+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.220+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:45:48.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:45:48.222+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:45:48.223+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.224+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:45:48.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:45:48.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:45:48.225+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:45:48.226+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.227+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.228+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.229+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.238+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3504ab73]
2026-01-08T12:45:48.241+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.242+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.242+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.243+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.245+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:45:48.245+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.246+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.251+09:00  INFO 6764 --- [http-nio-8080-exec-9] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:45:48.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c92ae89] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.261+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@475906907 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.263+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:45:48.264+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8325e8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.265+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39509bcd] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.268+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e1596e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:45:48.270+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@933580481 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903828775 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.276+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.276+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.277+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.277+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.279+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.284+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.287+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:45:48.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.290+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec99ed9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.292+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@208595999 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:48.294+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.293+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1219179277 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.296+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:45:48.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.303+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.305+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:45:48.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.306+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f8325e8]
2026-01-08T12:45:48.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e1596e]
2026-01-08T12:45:48.307+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.308+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:45:48.309+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.310+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.311+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e50c2c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:45:48.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639714103 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.313+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.314+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.320+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.326+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ec99ed9]
2026-01-08T12:45:48.327+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.328+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c92ae89]
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.329+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12e50c2c]
2026-01-08T12:45:48.330+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.333+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:45:48.334+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36827fb9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38353a01]
2026-01-08T12:45:48.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.335+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219afc22] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:45:48.336+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@76484838 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.336+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:45:48.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4cdc34] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.337+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1404019793 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.338+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:48.340+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1978805661 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.341+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.342+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.344+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39509bcd]
2026-01-08T12:45:48.345+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.348+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.351+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.352+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:45:48.353+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.355+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:45:48.356+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10346b48] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.357+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:45:48.358+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36827fb9]
2026-01-08T12:45:48.360+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:45:48.361+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1947728395 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.362+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.363+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.363+09:00  INFO 6764 --- [http-nio-8080-exec-3] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:45:48.364+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.366+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:45:48.369+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:45:48.370+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.371+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.374+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:45:48.375+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:45:48.376+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:45:48.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:45:48.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:45:48.377+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:45:48.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:45:48.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.379+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.378+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:45:48.380+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.381+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.393+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.394+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.394+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:45:48.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.395+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.396+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.397+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10346b48]
2026-01-08T12:45:48.400+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:45:48.401+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b2de20] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.402+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:45:48.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@245765227 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.403+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.403+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4cdc34]
2026-01-08T12:45:48.405+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:45:48.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.405+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:45:48.406+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.406+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.409+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.410+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fb20d7f] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.411+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@723153635 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.411+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.411+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf30f23] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.412+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:45:48.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.413+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.414+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.419+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1057578757 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.421+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.422+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.424+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.425+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.426+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:45:48.426+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.427+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.427+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals
2026-01-08T12:45:48.428+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.429+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.430+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.435+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/tax/revision-requests
2026-01-08T12:45:48.435+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f0ff54] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.439+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.440+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.441+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.443+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/reports/summary
2026-01-08T12:45:48.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@952006501 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.444+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:45:48.446+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b2de20]
2026-01-08T12:45:48.449+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/users
2026-01-08T12:45:48.451+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:45:48.452+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:45:48.461+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.458+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/companies
2026-01-08T12:45:48.459+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.459+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.459+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.461+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:45:48.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:45:48.462+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.465+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/subscriptions
2026-01-08T12:45:48.468+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.480+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.469+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.470+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65f0ff54]
2026-01-08T12:45:48.471+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.478+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.482+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/payments
2026-01-08T12:45:48.485+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.486+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.488+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@219afc22]
2026-01-08T12:45:48.499+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.500+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:45:48.495+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals
2026-01-08T12:45:48.495+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5bdf70] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/pending-approvals
2026-01-08T12:45:48.500+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/reports/summary
2026-01-08T12:45:48.502+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@531862992 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.504+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals
2026-01-08T12:45:48.508+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/reports/summary
2026-01-08T12:45:48.508+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.513+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:48.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals", parameters={}
2026-01-08T12:45:48.514+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/reports/summary
2026-01-08T12:45:48.516+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expenses/tax/revision-requests
2026-01-08T12:45:48.520+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:45:48.521+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.521+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2026-01-08T12:45:48.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/reports/summary", parameters={}
2026-01-08T12:45:48.526+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getDashboardSummary()
2026-01-08T12:45:48.527+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.528+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getDashboardSummary(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.522+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/tax/revision-requests
2026-01-08T12:45:48.523+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.524+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.541+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.526+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.530+09:00  INFO 6764 --- [http-nio-8080-exec-4] c.i.b.controller.SuperAdminController    : 대시보드 요약 통계 조회 요청 - userId: 9
2026-01-08T12:45:48.530+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/tax/revision-requests", parameters={}
2026-01-08T12:45:48.540+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3cdb15] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.542+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getTaxRevisionRequestsForDrafter()
2026-01-08T12:45:48.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1046876284 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140ad941] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.549+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7195fedb] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.547+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 9(Long), 4(Long)
2026-01-08T12:45:48.547+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110194412 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.552+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120445834 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:48.554+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:45:48.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.558+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? AND r.drafter_id = ? AND r.tax_revision_requested = 1 ORDER BY r.expense_report_id DESC
2026-01-08T12:45:48.559+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d5bdf70]
2026-01-08T12:45:48.575+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.575+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.577+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.578+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : ==> Parameters: 4(Long), 9(Long)
2026-01-08T12:45:48.579+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:45:48.579+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.581+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.580+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.582+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:45:48.583+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2026-01-08T12:45:48.590+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] b.m.E.selectTaxRevisionRequestsByDrafter : <==      Total: 0
2026-01-08T12:45:48.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.591+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.592+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.594+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b3cdb15]
2026-01-08T12:45:48.596+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.597+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7195fedb]
2026-01-08T12:45:48.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.599+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@140ad941]
2026-01-08T12:45:48.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/users
2026-01-08T12:45:48.602+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.603+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.604+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.605+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/users
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=세무 수정 요청 목록 조회 성공, data=[])]
2026-01-08T12:45:48.607+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fb20d7f]
2026-01-08T12:45:48.609+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ea207a0] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.609+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.613+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@471866852 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.622+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.610+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bf30f23]
2026-01-08T12:45:48.611+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/users
2026-01-08T12:45:48.612+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.624+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/users", parameters={}
2026-01-08T12:45:48.613+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:45:48.616+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/companies
2026-01-08T12:45:48.622+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.623+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.626+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/subscriptions
2026-01-08T12:45:48.636+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllUsers()
2026-01-08T12:45:48.637+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.642+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/companies
2026-01-08T12:45:48.642+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:45:48.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/subscriptions
2026-01-08T12:45:48.646+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.647+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:45:48.648+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/companies
2026-01-08T12:45:48.649+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.651+09:00 DEBUG 6764 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.652+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/subscriptions
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllUsers(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/companies", parameters={}
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ea207a0]
2026-01-08T12:45:48.653+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/payments
2026-01-08T12:45:48.657+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/subscriptions", parameters={}
2026-01-08T12:45:48.658+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.658+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllCompanies()
2026-01-08T12:45:48.658+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/payments
2026-01-08T12:45:48.660+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllSubscriptions()
2026-01-08T12:45:48.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/superadmin/expenses
2026-01-08T12:45:48.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/expenses?page=1&size=1
2026-01-08T12:45:48.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/expenses?page=1&size=1", parameters={masked}
2026-01-08T12:45:48.670+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getExpenseListForSuperAdmin(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String, Long)
2026-01-08T12:45:48.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c70f9c] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.664+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/superadmin/payments
2026-01-08T12:45:48.665+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae28dd4] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.687+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllCompanies(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974555555 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.688+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/superadmin/payments", parameters={}
2026-01-08T12:45:48.689+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllSubscriptions(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.696+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getExpenseListForSuperAdmin(int,int,java.lang.String,java.lang.String,java.lang.Long,java.lang.Long,java.lang.String[],java.lang.String,java.lang.Boolean,java.lang.Boolean,java.lang.String,java.lang.Long); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.706+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 요청 - userId: 9, companyId: null, page: 1, size: 1
2026-01-08T12:45:48.703+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555195523 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:48.703+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.704+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.705+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SuperAdminController#getAllPayments()
2026-01-08T12:45:48.706+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 요청 - userId: 9
2026-01-08T12:45:48.707+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.707+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role, is_active, company_id, approval_status, created_at, updated_at FROM user_tb ORDER BY user_id
2026-01-08T12:45:48.708+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.710+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8612be] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.711+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : ==> Parameters: 
2026-01-08T12:45:48.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aaa82a8] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.712+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.SuperAdminController.getAllPayments(); target is of class [com.innersignature.backend.controller.SuperAdminController]
2026-01-08T12:45:48.713+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de255e] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.717+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1292230721 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.720+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.721+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613533914 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:48.721+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 요청 - userId: 9
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectAllUsers   : <==      Total: 12
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@325385320 wrapping com.mysql.cj.jdbc.ConnectionImpl@6efe7623] will not be managed by Spring
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==>  Preparing: SELECT COUNT(*) FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.722+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==>  Preparing: SELECT * FROM company_tb ORDER BY created_at DESC
2026-01-08T12:45:48.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.723+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ae28dd4]
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id ORDER BY s.created_at DESC
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : ==> Parameters: 
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.724+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b57679] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.725+09:00  INFO 6764 --- [http-nio-8080-exec-5] c.i.b.controller.SuperAdminController    : 전체 사용자 목록 조회 완료 - count: 12
2026-01-08T12:45:48.725+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : ==> Parameters: 
2026-01-08T12:45:48.726+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.727+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084332890 wrapping com.mysql.cj.jdbc.ConnectionImpl@638e2579] will not be managed by Spring
2026-01-08T12:45:48.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.countExpenseListForSuperAdmin  : <==      Total: 1
2026-01-08T12:45:48.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.728+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.729+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.findAll       : <==      Total: 7
2026-01-08T12:45:48.731+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aaa82a8]
2026-01-08T12:45:48.732+09:00  INFO 6764 --- [http-nio-8080-exec-7] c.i.b.controller.SuperAdminController    : 전체 회사 목록 조회 완료 - count: 7
2026-01-08T12:45:48.729+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passwo (truncated)...]
2026-01-08T12:45:48.730+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e8612be]
2026-01-08T12:45:48.731+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74c70f9c]
2026-01-08T12:45:48.731+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.733+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.736+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:48.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ====> Parameters: 1(Long)
2026-01-08T12:45:48.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 회사 목록 조회 성공, data=[CompanyDto(companyId=7, companyCode=PC8UJT,  (truncated)...]
2026-01-08T12:45:48.737+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.739+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bc49c7] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.740+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@248338e9] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:48.741+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.743+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718726731 wrapping com.mysql.cj.jdbc.ConnectionImpl@78bcf078] will not be managed by Spring
2026-01-08T12:45:48.744+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==>  Preparing: SELECT p.* FROM payment_tb p ORDER BY p.payment_date DESC, p.created_at DESC
2026-01-08T12:45:48.742+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.743+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@720483852 wrapping com.mysql.cj.jdbc.ConnectionImpl@514a513b] will not be managed by Spring
2026-01-08T12:45:48.745+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : ==> Parameters: 
2026-01-08T12:45:48.747+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName, c.company_name AS companyName, (SELECT d.description FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '' ORDER BY d.expense_detail_id ASC LIMIT 1) AS firstDescription, (SELECT COUNT(*) FROM expense_detail_tb d WHERE d.expense_report_id = r.expense_report_id AND d.company_id = r.company_id AND d.description IS NOT NULL AND TRIM(d.description) != '') AS descriptionCount FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id LEFT JOIN company_tb c ON r.company_id = c.company_id ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2026-01-08T12:45:48.749+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <====      Total: 1
2026-01-08T12:45:48.750+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : ==> Parameters: 1(Integer), 0(Integer)
2026-01-08T12:45:48.751+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.findAll  : <==      Total: 7
2026-01-08T12:45:48.754+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5de255e]
2026-01-08T12:45:48.754+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.755+09:00  INFO 6764 --- [http-nio-8080-exec-6] c.i.b.controller.SuperAdminController    : 전체 구독 목록 조회 완료 - count: 7
2026-01-08T12:45:48.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.755+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 구독 목록 조회 성공, data=[SubscriptionDto(subscriptionId=7, companyId= (truncated)...]
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.756+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListForSuperAdmin : <==      Total: 1
2026-01-08T12:45:48.758+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74bc49c7]
2026-01-08T12:45:48.761+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 2(Long)
2026-01-08T12:45:48.762+09:00  INFO 6764 --- [http-nio-8080-exec-10] c.i.b.controller.SuperAdminController    : 회사별 지출결의서 목록 조회 완료 - totalElements: 29
2026-01-08T12:45:48.763+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.765+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.767+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=지출결의서 목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expen (truncated)...]
2026-01-08T12:45:48.769+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.770+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.772+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.773+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.776+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.778+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 7(Long)
2026-01-08T12:45:48.782+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.783+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.786+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2026-01-08T12:45:48.788+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.789+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : ====> Parameters: 1(Long)
2026-01-08T12:45:48.790+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.793+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.794+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77b57679]
2026-01-08T12:45:48.794+09:00  INFO 6764 --- [http-nio-8080-exec-2] c.i.b.controller.SuperAdminController    : 전체 결제 내역 조회 완료 - count: 4
2026-01-08T12:45:48.795+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2026-01-08T12:45:48.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.796+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : ======> Parameters: 1(Long)
2026-01-08T12:45:48.797+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=전체 결제 내역 조회 성공, data=[PaymentDto(paymentId=11, subscriptionId=2, a (truncated)...]
2026-01-08T12:45:48.802+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:48.811+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionPlanMapper.findById  : <======      Total: 1
2026-01-08T12:45:48.812+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.m.SubscriptionMapper.findById      : <====      Total: 1
2026-01-08T12:45:48.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] c.i.b.mapper.PaymentMapper.findAll       : <==      Total: 4
2026-01-08T12:45:48.813+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@248338e9]
2026-01-08T12:45:48.814+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:48.815+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 요약 통계 조회 성공, data=AdminReportService.DashboardSummaryDto(tota (truncated)...]
2026-01-08T12:45:48.817+09:00 DEBUG 6764 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:49.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:45:49.945+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expense-categories/global
2026-01-08T12:45:49.949+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:45:49.953+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expense-categories/global
2026-01-08T12:45:49.960+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:45:49.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:45:49.963+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/expense-categories/global
2026-01-08T12:45:49.966+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expense-categories/global
2026-01-08T12:45:49.964+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:45:49.971+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expense-categories/global", parameters={}
2026-01-08T12:45:49.973+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:45:49.971+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseCategoryController#getGlobalCategories()
2026-01-08T12:45:49.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.974+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.977+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.ExpenseCategoryController.getGlobalCategories(); target is of class [com.innersignature.backend.controller.ExpenseCategoryController]
2026-01-08T12:45:49.978+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:45:49.978+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 시작
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469e9c30] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:49.979+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daa2126] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:50.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@532726645 wrapping com.mysql.cj.jdbc.ConnectionImpl@59f59924] will not be managed by Spring
2026-01-08T12:45:50.109+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1781226097 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:50.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:45:50.122+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==>  Preparing: SELECT ec.*, 1 AS is_global, u.korean_name AS created_by_name FROM expense_category_tb ec LEFT JOIN user_tb u ON ec.created_by = u.user_id WHERE ec.company_id IS NULL AND (ec.is_active IS NULL OR ec.is_active = 1) ORDER BY ec.display_order ASC, ec.category_name ASC
2026-01-08T12:45:50.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:45:50.123+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : ==> Parameters: 
2026-01-08T12:45:50.143+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:45:50.146+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@469e9c30]
2026-01-08T12:45:50.149+09:00  INFO 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:45:50.150+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:45:50.151+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.m.E.findGlobalCategories           : <==      Total: 12
2026-01-08T12:45:50.152+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:45:50.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3daa2126]
2026-01-08T12:45:50.153+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:45:50.153+09:00  INFO 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리 조회 완료 - 항목 수: 12
2026-01-08T12:45:50.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:45:50.154+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=1, name=식비/회식, order=0, active=true
2026-01-08T12:45:50.155+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:45:50.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=3, name=거래처 접대, order=1, active=true
2026-01-08T12:45:50.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:45:50.156+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=2, name=출장/교통비, order=2, active=true
2026-01-08T12:45:50.157+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:45:50.158+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=5, name=수수료, order=3, active=true
2026-01-08T12:45:50.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:45:50.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=6, name=광고/홍보, order=4, active=true
2026-01-08T12:45:50.174+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:45:50.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=4, name=사무용품, order=5, active=true
2026-01-08T12:45:50.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:45:50.175+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=7, name=통신비, order=6, active=true
2026-01-08T12:45:50.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:45:50.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=8, name=차량비, order=7, active=true
2026-01-08T12:45:50.176+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:45:50.177+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=9, name=도서/인쇄, order=8, active=true
2026-01-08T12:45:50.274+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=10, name=세금/공과금, order=9, active=true
2026-01-08T12:45:50.277+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=11, name=급여, order=10, active=true
2026-01-08T12:45:50.278+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] c.i.b.service.ExpenseCategoryService     : 전역 카테고리: id=12, name=기타, order=11, active=true
2026-01-08T12:45:50.280+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:50.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:50.312+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:50.318+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[ExpenseCategoryDto(categoryId=1, companyId=null, cate (truncated)...]
2026-01-08T12:45:50.319+09:00 DEBUG 6764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:50.319+09:00 DEBUG 6764 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:45:51.230+09:00 DEBUG 6764 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/list
2026-01-08T12:45:51.239+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/account-codes/list
2026-01-08T12:45:51.240+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/list
2026-01-08T12:45:51.246+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/account-codes/list
2026-01-08T12:45:51.247+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/account-codes/list", parameters={}
2026-01-08T12:45:51.253+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#getMappingList()
2026-01-08T12:45:51.257+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:51.259+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.getMappingList(); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:45:51.260+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2026-01-08T12:45:51.262+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c6ff17] was not registered for synchronization because synchronization is not active
2026-01-08T12:45:51.269+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078608993 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d72d7f] will not be managed by Spring
2026-01-08T12:45:51.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : ==>  Preparing: SELECT * FROM account_code_mapping_tb ORDER BY company_id DESC, category ASC, account_name ASC
2026-01-08T12:45:51.271+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : ==> Parameters: 
2026-01-08T12:45:51.289+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] c.i.b.m.A.findAll                        : <==      Total: 0
2026-01-08T12:45:51.297+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24c6ff17]
2026-01-08T12:45:51.298+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:45:51.302+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2026-01-08T12:45:51.304+09:00 DEBUG 6764 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2026-01-08T12:46:11.656+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/create
2026-01-08T12:46:11.661+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/account-codes/create
2026-01-08T12:46:11.663+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/create
2026-01-08T12:46:11.666+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/account-codes/create
2026-01-08T12:46:11.667+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/account-codes/create", parameters={}
2026-01-08T12:46:11.669+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#createMapping(AccountCodeMappingDto)
2026-01-08T12:46:11.671+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AccountCodeMappingDto(mappingId=null, companyId=null, category=식대, merchantKeyword=null, accountCode (truncated)...]
2026-01-08T12:46:11.672+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:11.673+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:11.679+09:00 ERROR 6764 --- [http-nio-8080-exec-6] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 생성 실패

com.innersignature.backend.exception.BusinessException: SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다.
	at com.innersignature.backend.service.AccountCodeService.createMapping(AccountCodeService.java:35) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.createMapping(AccountCodeController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:46:11.748+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:46:11.750+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다., data=null)]
2026-01-08T12:46:11.752+09:00 DEBUG 6764 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2026-01-08T12:46:47.487+09:00 DEBUG 6764 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/account-codes/create
2026-01-08T12:46:47.489+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/account-codes/create
2026-01-08T12:46:47.491+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 9, role: SUPERADMIN, companyId: 4, uri: /api/account-codes/create
2026-01-08T12:46:47.492+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/account-codes/create
2026-01-08T12:46:47.492+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/account-codes/create", parameters={}
2026-01-08T12:46:47.492+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.AccountCodeController#createMapping(AccountCodeMappingDto)
2026-01-08T12:46:47.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AccountCodeMappingDto(mappingId=null, companyId=null, category=식대, merchantKeyword=null, accountCode (truncated)...]
2026-01-08T12:46:47.493+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:47.494+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.AccountCodeController.createMapping(com.innersignature.backend.dto.AccountCodeMappingDto); target is of class [com.innersignature.backend.controller.AccountCodeController]
2026-01-08T12:46:47.504+09:00 ERROR 6764 --- [http-nio-8080-exec-2] c.i.b.controller.AccountCodeController   : 계정 과목 매핑 생성 실패

com.innersignature.backend.exception.BusinessException: SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다.
	at com.innersignature.backend.service.AccountCodeService.createMapping(AccountCodeService.java:35) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.AccountCodeService$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.AccountCodeController.createMapping(AccountCodeController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.AccountCodeController$$SpringCGLIB$$0.createMapping(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-08T12:46:47.543+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2026-01-08T12:46:47.544+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=SUPERADMIN은 전역 매핑(company_id = NULL)만 생성할 수 있습니다., data=null)]
2026-01-08T12:46:47.545+09:00 DEBUG 6764 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
