2025-12-24T09:15:02.840+09:00  INFO 25036 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 25036 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T09:15:02.851+09:00 DEBUG 25036 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T09:15:02.854+09:00  INFO 25036 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T09:15:05.648+09:00 DEBUG 25036 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T09:15:05.655+09:00 DEBUG 25036 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T09:15:06.188+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T09:15:06.192+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T09:15:06.195+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T09:15:06.199+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T09:15:06.203+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T09:15:06.204+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T09:15:06.208+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T09:15:06.212+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T09:15:06.216+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T09:15:06.218+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T09:15:06.219+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T09:15:06.225+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T09:15:06.227+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T09:15:06.229+09:00 DEBUG 25036 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T09:15:07.352+09:00  INFO 25036 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T09:15:07.382+09:00  INFO 25036 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T09:15:07.385+09:00  INFO 25036 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T09:15:07.511+09:00  INFO 25036 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T09:15:07.512+09:00  INFO 25036 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4557 ms
2025-12-24T09:15:07.645+09:00 DEBUG 25036 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T09:15:07.647+09:00 DEBUG 25036 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T09:15:08.271+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T09:15:08.347+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T09:15:08.376+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T09:15:08.412+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T09:15:08.449+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T09:15:08.482+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T09:15:08.533+09:00 DEBUG 25036 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T09:15:09.482+09:00 DEBUG 25036 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T09:15:09.676+09:00 DEBUG 25036 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T09:15:09.718+09:00  WARN 25036 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 0dc3c163-3f1e-40a6-b1b8-8b6b22fd8f44

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T09:15:09.742+09:00  INFO 25036 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T09:15:09.961+09:00 DEBUG 25036 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T09:15:10.123+09:00 DEBUG 25036 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T09:15:10.212+09:00 DEBUG 25036 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T09:15:10.220+09:00 DEBUG 25036 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T09:15:10.615+09:00  INFO 25036 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T09:15:10.654+09:00  INFO 25036 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.669 seconds (process running for 9.247)
2025-12-24T09:16:00.778+09:00  INFO 25036 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T09:16:00.794+09:00  INFO 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T09:16:00.797+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T09:16:00.814+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T09:16:00.815+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T09:16:00.856+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@27db45f
2025-12-24T09:16:00.863+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6728370a
2025-12-24T09:16:00.886+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T09:16:00.892+09:00  INFO 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 95 ms
2025-12-24T09:16:00.943+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2025-12-24T09:16:01.004+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:16:01.009+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2025-12-24T09:16:01.018+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2025-12-24T09:16:01.030+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:16:01.074+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:16:01.084+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e35ce8e] was not registered for synchronization because synchronization is not active
2025-12-24T09:16:01.103+09:00  INFO 25036 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T09:16:01.537+09:00  INFO 25036 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a752e4f
2025-12-24T09:16:01.541+09:00  INFO 25036 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T09:16:01.553+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@302790606 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a752e4f] will not be managed by Spring
2025-12-24T09:16:01.562+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:16:01.609+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String)
2025-12-24T09:16:01.656+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e35ce8e]
2025-12-24T09:16:01.859+09:00 ERROR 25036 --- [http-nio-8080-exec-1] c.i.b.controller.CompanyController       : 회사 검색 실패

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT              c.company_id AS companyId,             c.company_name AS companyName,             c.business_reg_no AS businessRegNo,             c.representative_name AS representativeName,             MAX(u.korean_name) AS adminName         FROM company_tb c         LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN'         WHERE (c.company_name LIKE CONCAT('%', ?, '%')             OR c.business_reg_no LIKE CONCAT('%', ?, '%'))         AND c.is_active = 1         GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name         ORDER BY c.company_name ASC         LIMIT 20
### Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
; bad SQL grammar []
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:246) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy87.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.searchByName(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.CompanyService.searchByName(CompanyService.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.CompanyService$$SpringCGLIB$$0.searchByName(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.CompanyController.searchCompanies(CompanyController.java:98) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.CompanyController$$SpringCGLIB$$0.searchCompanies(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 138 common frames omitted

2025-12-24T09:16:01.987+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:16:01.993+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=<EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorExc (truncated)...]
2025-12-24T09:16:02.030+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-24T09:16:46.024+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=1234578910
2025-12-24T09:16:46.027+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:16:46.029+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=1234578910
2025-12-24T09:16:46.032+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=1234578910", parameters={masked}
2025-12-24T09:16:46.037+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:16:46.040+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:16:46.046+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bdbf699] was not registered for synchronization because synchronization is not active
2025-12-24T09:16:46.053+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@287546857 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a752e4f] will not be managed by Spring
2025-12-24T09:16:46.055+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:16:46.058+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 1234578910(String), 1234578910(String)
2025-12-24T09:16:46.061+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bdbf699]
2025-12-24T09:16:46.062+09:00 ERROR 25036 --- [http-nio-8080-exec-2] c.i.b.controller.CompanyController       : 회사 검색 실패

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT              c.company_id AS companyId,             c.company_name AS companyName,             c.business_reg_no AS businessRegNo,             c.representative_name AS representativeName,             MAX(u.korean_name) AS adminName         FROM company_tb c         LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN'         WHERE (c.company_name LIKE CONCAT('%', ?, '%')             OR c.business_reg_no LIKE CONCAT('%', ?, '%'))         AND c.is_active = 1         GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name         ORDER BY c.company_name ASC         LIMIT 20
### Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
; bad SQL grammar []
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:246) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy87.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.searchByName(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.CompanyService.searchByName(CompanyService.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.CompanyService$$SpringCGLIB$$0.searchByName(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.CompanyController.searchCompanies(CompanyController.java:98) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.CompanyController$$SpringCGLIB$$0.searchCompanies(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 138 common frames omitted

2025-12-24T09:16:46.106+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:16:46.107+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=<EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorExc (truncated)...]
2025-12-24T09:16:46.109+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-24T09:16:53.391+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:16:53.393+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:16:53.393+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:16:53.394+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:16:53.395+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:16:53.395+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:16:53.396+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660df3ba] was not registered for synchronization because synchronization is not active
2025-12-24T09:16:53.398+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1828034762 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a752e4f] will not be managed by Spring
2025-12-24T09:16:53.405+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:16:53.407+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String)
2025-12-24T09:16:53.411+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@660df3ba]
2025-12-24T09:16:53.412+09:00 ERROR 25036 --- [http-nio-8080-exec-3] c.i.b.controller.CompanyController       : 회사 검색 실패

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT              c.company_id AS companyId,             c.company_name AS companyName,             c.business_reg_no AS businessRegNo,             c.representative_name AS representativeName,             MAX(u.korean_name) AS adminName         FROM company_tb c         LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN'         WHERE (c.company_name LIKE CONCAT('%', ?, '%')             OR c.business_reg_no LIKE CONCAT('%', ?, '%'))         AND c.is_active = 1         GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name         ORDER BY c.company_name ASC         LIMIT 20
### Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
; bad SQL grammar []
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:246) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy87.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.searchByName(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.CompanyService.searchByName(CompanyService.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.CompanyService$$SpringCGLIB$$0.searchByName(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.CompanyController.searchCompanies(CompanyController.java:98) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.CompanyController$$SpringCGLIB$$0.searchCompanies(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 138 common frames omitted

2025-12-24T09:16:53.505+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:16:53.557+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=<EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorExc (truncated)...]
2025-12-24T09:16:53.561+09:00 DEBUG 25036 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-24T09:17:18.300+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:17:18.302+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:17:18.303+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:17:18.304+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:17:18.305+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:17:18.306+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:17:18.307+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@358e1dd6] was not registered for synchronization because synchronization is not active
2025-12-24T09:17:18.312+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1064728230 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a752e4f] will not be managed by Spring
2025-12-24T09:17:18.320+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:17:18.324+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String)
2025-12-24T09:17:18.327+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@358e1dd6]
2025-12-24T09:17:18.330+09:00 ERROR 25036 --- [http-nio-8080-exec-4] c.i.b.controller.CompanyController       : 회사 검색 실패

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT              c.company_id AS companyId,             c.company_name AS companyName,             c.business_reg_no AS businessRegNo,             c.representative_name AS representativeName,             MAX(u.korean_name) AS adminName         FROM company_tb c         LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN'         WHERE (c.company_name LIKE CONCAT('%', ?, '%')             OR c.business_reg_no LIKE CONCAT('%', ?, '%'))         AND c.is_active = 1         GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name         ORDER BY c.company_name ASC         LIMIT 20
### Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
; bad SQL grammar []
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:246) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy87.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.searchByName(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.CompanyService.searchByName(CompanyService.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.CompanyService$$SpringCGLIB$$0.searchByName(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.CompanyController.searchCompanies(CompanyController.java:98) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.CompanyController$$SpringCGLIB$$0.searchCompanies(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 138 common frames omitted

2025-12-24T09:17:18.380+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:17:18.380+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=<EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorExc (truncated)...]
2025-12-24T09:17:18.388+09:00 DEBUG 25036 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-24T09:18:10.592+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:18:10.595+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:18:10.596+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:18:10.598+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=%EC%88%98%EC%98%81", parameters={masked}
2025-12-24T09:18:10.598+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:18:10.600+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:18:10.601+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7925a3] was not registered for synchronization because synchronization is not active
2025-12-24T09:18:10.604+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@931221203 wrapping com.mysql.cj.jdbc.ConnectionImpl@7a752e4f] will not be managed by Spring
2025-12-24T09:18:10.605+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:18:10.607+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 수영(String), 수영(String)
2025-12-24T09:18:10.610+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d7925a3]
2025-12-24T09:18:10.611+09:00 ERROR 25036 --- [http-nio-8080-exec-5] c.i.b.controller.CompanyController       : 회사 검색 실패

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
### The error may exist in file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: SELECT              c.company_id AS companyId,             c.company_name AS companyName,             c.business_reg_no AS businessRegNo,             c.representative_name AS representativeName,             MAX(u.korean_name) AS adminName         FROM company_tb c         LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN'         WHERE (c.company_name LIKE CONCAT('%', ?, '%')             OR c.business_reg_no LIKE CONCAT('%', ?, '%'))         AND c.is_active = 1         GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name         ORDER BY c.company_name ASC         LIMIT 20
### Cause: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
; bad SQL grammar []
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:246) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.2.14.jar:6.2.14]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:95) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at jdk.proxy2/jdk.proxy2.$Proxy87.selectList(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194) ~[mybatis-spring-3.0.5.jar:3.0.5]
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy2/jdk.proxy2.$Proxy88.searchByName(Unknown Source) ~[na:na]
	at com.innersignature.backend.service.CompanyService.searchByName(CompanyService.java:57) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.CompanyService$$SpringCGLIB$$0.searchByName(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.CompanyController.searchCompanies(CompanyController.java:98) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.CompanyController$$SpringCGLIB$$0.searchCompanies(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.sql.SQLSyntaxErrorException: Table 'signature.company_tb' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:383) ~[mysql-connector-j-9.5.0.jar:9.5.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-6.3.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-6.3.3.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.19.jar:3.5.19]
	at jdk.proxy3/jdk.proxy3.$Proxy114.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:80) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:65) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147) ~[mybatis-3.5.19.jar:3.5.19]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142) ~[mybatis-3.5.19.jar:3.5.19]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333) ~[mybatis-spring-3.0.5.jar:3.0.5]
	... 138 common frames omitted

2025-12-24T09:18:10.731+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:18:10.737+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=<EOL><EOL>### Error querying database.  Cause: java.sql.SQLSyntaxErrorExc (truncated)...]
2025-12-24T09:18:10.741+09:00 DEBUG 25036 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-12-24T09:20:43.532+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:20:43.541+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:20:43.553+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:20:43.554+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=%EC%88%98%EC%98%81", parameters={masked}
2025-12-24T09:20:43.555+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:20:43.576+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:20:43.586+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ddfbce] was not registered for synchronization because synchronization is not active
2025-12-24T09:20:43.596+09:00  WARN 25036 --- [http-nio-8080-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@7a752e4f (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-24T09:20:43.607+09:00  WARN 25036 --- [http-nio-8080-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@de55c9e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-24T09:20:43.615+09:00  WARN 25036 --- [http-nio-8080-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@2ae3ce4e (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-24T09:20:43.630+09:00  WARN 25036 --- [http-nio-8080-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@6baf3bda (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-24T09:20:43.645+09:00  WARN 25036 --- [http-nio-8080-exec-6] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Failed to validate connection com.mysql.cj.jdbc.ConnectionImpl@731c707a (No operations allowed after connection closed.). Possibly consider using a shorter maxLifetime value.
2025-12-24T09:20:43.786+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1612707420 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:20:43.799+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:20:43.805+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 수영(String), 수영(String)
2025-12-24T09:20:43.859+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:20:43.863+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ddfbce]
2025-12-24T09:20:43.875+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:20:43.888+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:20:43.899+09:00 DEBUG 25036 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:20:46.254+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:20:46.256+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:20:46.257+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:20:46.259+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=%EC%88%98%EC%98%81", parameters={masked}
2025-12-24T09:20:46.260+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:20:46.262+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:20:46.263+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587b30c2] was not registered for synchronization because synchronization is not active
2025-12-24T09:20:46.266+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1384340402 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:20:46.266+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:20:46.272+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 수영(String), 수영(String)
2025-12-24T09:20:46.279+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:20:46.281+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@587b30c2]
2025-12-24T09:20:46.288+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:20:46.291+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:20:46.293+09:00 DEBUG 25036 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:20:47.049+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:20:47.055+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:20:47.061+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=%EC%88%98%EC%98%81
2025-12-24T09:20:47.062+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=%EC%88%98%EC%98%81", parameters={masked}
2025-12-24T09:20:47.064+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:20:47.069+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:20:47.077+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24913ad9] was not registered for synchronization because synchronization is not active
2025-12-24T09:20:47.080+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@85148077 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:20:47.081+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:20:47.084+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 수영(String), 수영(String)
2025-12-24T09:20:47.091+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:20:47.092+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24913ad9]
2025-12-24T09:20:47.093+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:20:47.094+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:20:47.096+09:00 DEBUG 25036 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:20:54.269+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:20:54.274+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:20:54.276+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:20:54.276+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:20:54.277+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:20:54.279+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:20:54.280+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d459a66] was not registered for synchronization because synchronization is not active
2025-12-24T09:20:54.284+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@129888534 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:20:54.290+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:20:54.294+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String)
2025-12-24T09:20:54.303+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 14
2025-12-24T09:20:54.308+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d459a66]
2025-12-24T09:20:54.309+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:20:54.310+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T09:20:54.314+09:00 DEBUG 25036 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:21:00.882+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=1234
2025-12-24T09:21:00.886+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:21:00.890+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=1234
2025-12-24T09:21:00.895+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=1234", parameters={masked}
2025-12-24T09:21:00.898+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:21:00.913+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:21:00.928+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d79e7e5] was not registered for synchronization because synchronization is not active
2025-12-24T09:21:00.942+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@662801557 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:21:00.943+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:21:00.945+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 1234(String), 1234(String)
2025-12-24T09:21:00.958+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:21:00.996+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d79e7e5]
2025-12-24T09:21:01.077+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:21:01.112+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:21:01.118+09:00 DEBUG 25036 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:21:05.683+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2025-12-24T09:21:05.687+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:21:05.694+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2025-12-24T09:21:05.695+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2025-12-24T09:21:05.700+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:21:05.703+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:21:05.704+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336c2301] was not registered for synchronization because synchronization is not active
2025-12-24T09:21:05.707+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1214163908 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:21:05.709+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:21:05.710+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String)
2025-12-24T09:21:05.714+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:21:05.715+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@336c2301]
2025-12-24T09:21:05.716+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:21:05.717+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:21:05.722+09:00 DEBUG 25036 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:21:11.242+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:21:11.244+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:21:11.246+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:21:11.246+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:21:11.247+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:21:11.248+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:21:11.251+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf9392] was not registered for synchronization because synchronization is not active
2025-12-24T09:21:11.283+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@873397990 wrapping com.mysql.cj.jdbc.ConnectionImpl@543ac32b] will not be managed by Spring
2025-12-24T09:21:11.289+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE (c.company_name LIKE CONCAT('%', ?, '%') OR c.business_reg_no LIKE CONCAT('%', ?, '%')) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY c.company_name ASC LIMIT 20
2025-12-24T09:21:11.291+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String)
2025-12-24T09:21:11.328+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 14
2025-12-24T09:21:11.333+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bf9392]
2025-12-24T09:21:11.339+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:21:11.353+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T09:21:11.362+09:00 DEBUG 25036 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:23:37.621+09:00  INFO 22760 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 22760 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T09:23:37.626+09:00 DEBUG 22760 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T09:23:37.628+09:00  INFO 22760 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T09:23:39.754+09:00 DEBUG 22760 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T09:23:39.787+09:00 DEBUG 22760 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T09:23:40.278+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T09:23:40.283+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T09:23:40.284+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T09:23:40.286+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T09:23:40.288+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T09:23:40.301+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T09:23:40.317+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T09:23:40.323+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T09:23:40.331+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T09:23:40.338+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T09:23:40.340+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T09:23:40.342+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T09:23:40.347+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T09:23:40.349+09:00 DEBUG 22760 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T09:23:41.585+09:00  INFO 22760 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T09:23:41.614+09:00  INFO 22760 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T09:23:41.615+09:00  INFO 22760 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T09:23:41.780+09:00  INFO 22760 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T09:23:41.782+09:00  INFO 22760 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4034 ms
2025-12-24T09:23:41.893+09:00 DEBUG 22760 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T09:23:41.894+09:00 DEBUG 22760 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T09:23:42.471+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T09:23:42.668+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T09:23:42.712+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T09:23:42.791+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T09:23:42.835+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T09:23:42.924+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T09:23:43.023+09:00 DEBUG 22760 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T09:23:43.913+09:00 DEBUG 22760 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T09:23:44.064+09:00 DEBUG 22760 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T09:23:44.095+09:00  WARN 22760 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: f05559c9-2397-44c5-aee7-0eac4baef19c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T09:23:44.112+09:00  INFO 22760 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T09:23:44.323+09:00 DEBUG 22760 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T09:23:44.572+09:00 DEBUG 22760 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T09:23:44.708+09:00 DEBUG 22760 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T09:23:44.717+09:00 DEBUG 22760 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T09:23:45.129+09:00  INFO 22760 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T09:23:45.165+09:00  INFO 22760 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.377 seconds (process running for 9.035)
2025-12-24T09:23:49.540+09:00  INFO 22760 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T09:23:49.556+09:00  INFO 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T09:23:49.557+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T09:23:49.558+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T09:23:49.559+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T09:23:49.569+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a4df251
2025-12-24T09:23:49.573+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@369ad7da
2025-12-24T09:23:49.574+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T09:23:49.585+09:00  INFO 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 28 ms
2025-12-24T09:23:49.625+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2025-12-24T09:23:49.677+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:23:49.683+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2025-12-24T09:23:49.689+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2025-12-24T09:23:49.694+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:23:49.733+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:23:49.739+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732ad4e3] was not registered for synchronization because synchronization is not active
2025-12-24T09:23:49.753+09:00  INFO 22760 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T09:23:50.092+09:00  INFO 22760 --- [http-nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5bb6336b
2025-12-24T09:23:50.096+09:00  INFO 22760 --- [http-nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T09:23:50.105+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905715623 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:23:50.116+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:23:50.166+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String), 123(String), 123(String), 123(String)
2025-12-24T09:23:50.191+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:23:50.202+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732ad4e3]
2025-12-24T09:23:50.292+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:23:50.300+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:23:50.346+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:00.882+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2025-12-24T09:24:00.886+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:00.888+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2025-12-24T09:24:00.888+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2025-12-24T09:24:00.889+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:00.890+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:00.891+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f5915d] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:00.916+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@688781869 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:00.916+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:00.919+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String), 123(String), 123(String), 123(String)
2025-12-24T09:24:00.921+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:24:00.922+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23f5915d]
2025-12-24T09:24:00.925+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:00.926+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:24:00.934+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:02.082+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=12345
2025-12-24T09:24:02.084+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:02.085+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=12345
2025-12-24T09:24:02.085+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=12345", parameters={masked}
2025-12-24T09:24:02.086+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:02.087+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:02.089+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f1b909c] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:02.102+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1977875436 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:02.102+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:02.105+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 12345(String), 12345(String), 12345(String), 12345(String), 12345(String)
2025-12-24T09:24:02.109+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:24:02.109+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f1b909c]
2025-12-24T09:24:02.115+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:02.115+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:24:02.117+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:03.833+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=1234578910
2025-12-24T09:24:03.834+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:03.835+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=1234578910
2025-12-24T09:24:03.835+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=1234578910", parameters={masked}
2025-12-24T09:24:03.836+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:03.836+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:03.837+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203d8eaa] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:03.839+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@717612506 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:03.845+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:03.850+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 1234578910(String), 1234578910(String), 1234578910(String), 1234578910(String), 1234578910(String)
2025-12-24T09:24:03.854+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:24:03.855+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203d8eaa]
2025-12-24T09:24:03.859+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:03.865+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:24:03.869+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:04.598+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=1234578910
2025-12-24T09:24:04.600+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:04.601+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=1234578910
2025-12-24T09:24:04.602+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=1234578910", parameters={masked}
2025-12-24T09:24:04.604+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:04.608+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:04.609+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9fe1486] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:04.619+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@50757622 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:04.619+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:04.621+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 1234578910(String), 1234578910(String), 1234578910(String), 1234578910(String), 1234578910(String)
2025-12-24T09:24:04.624+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:24:04.625+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9fe1486]
2025-12-24T09:24:04.629+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:04.631+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:24:04.635+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:12.765+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:24:12.767+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:12.768+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:24:12.768+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:24:12.769+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:12.770+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:12.770+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e81b325] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:12.774+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954142293 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:12.775+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:12.784+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String), test(String), test(String), test(String)
2025-12-24T09:24:12.797+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 14
2025-12-24T09:24:12.801+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e81b325]
2025-12-24T09:24:12.802+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:12.803+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T09:24:12.807+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:15.685+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test123
2025-12-24T09:24:15.687+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:15.688+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test123
2025-12-24T09:24:15.690+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test123", parameters={masked}
2025-12-24T09:24:15.696+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:15.708+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:15.709+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b947694] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:15.713+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23862756 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:15.714+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:15.719+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test123(String), test123(String), test123(String), test123(String), test123(String)
2025-12-24T09:24:15.723+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:24:15.724+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b947694]
2025-12-24T09:24:15.725+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:15.726+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:24:15.729+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:40.960+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=14
2025-12-24T09:24:40.962+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:40.966+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=14
2025-12-24T09:24:40.968+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=14", parameters={masked}
2025-12-24T09:24:40.969+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:24:40.971+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:40.971+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d51477a] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:40.975+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@105149640 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:40.976+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:24:40.979+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 14(String), 14(String), 14(String), 14(String), 14(String)
2025-12-24T09:24:40.983+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T09:24:40.984+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d51477a]
2025-12-24T09:24:40.985+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:40.986+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=14, companyName=test (truncated)...]
2025-12-24T09:24:40.989+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:55.802+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T09:24:55.806+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T09:24:55.807+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T09:24:55.807+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T09:24:55.808+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T09:24:55.809+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T09:24:55.861+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T09:24:55.864+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T09:24:55.865+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:55.865+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c07f4db] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:55.868+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1537379053 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:55.868+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T09:24:55.870+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T09:24:55.876+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T09:24:55.877+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c07f4db]
2025-12-24T09:24:56.089+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T09:24:56.091+09:00  INFO 22760 --- [http-nio-8080-exec-10] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T09:24:56.093+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:56.100+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T09:24:56.119+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:56.188+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T09:24:56.199+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T09:24:56.249+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T09:24:56.250+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T09:24:56.250+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T09:24:56.254+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T09:24:56.308+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T09:24:56.308+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:24:56.310+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T09:24:56.327+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:24:56.343+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T09:24:56.344+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T09:24:56.345+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T09:24:56.354+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T09:24:56.356+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:24:56.358+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T09:24:56.359+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T09:24:56.364+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T09:24:56.359+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T09:24:56.360+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T09:24:56.360+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T09:24:56.361+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:24:56.365+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T09:24:56.366+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T09:24:56.367+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T09:24:56.367+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T09:24:56.368+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T09:24:56.371+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T09:24:56.372+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.372+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T09:24:56.373+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.374+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T09:24:56.376+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71f2c97b] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.377+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.382+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.385+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@792f0996] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.386+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.386+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47af04fc] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.387+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8d1178] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.392+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5628b068] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.403+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1723428163 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:56.405+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T09:24:56.407+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2120991004 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.408+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@622207561 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.409+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T09:24:56.409+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T09:24:56.409+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T09:24:56.410+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T09:24:56.413+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T09:24:56.425+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T09:24:56.426+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T09:24:56.427+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5628b068]
2025-12-24T09:24:56.428+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@792f0996]
2025-12-24T09:24:56.431+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:56.432+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:56.433+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T09:24:56.434+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T09:24:56.441+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:56.444+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:56.447+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609514865 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.449+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T09:24:56.449+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@459910812 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.454+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:24:56.454+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71f2c97b]
2025-12-24T09:24:56.454+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:24:56.455+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:24:56.457+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:56.460+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:24:56.472+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T09:24:56.495+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:56.514+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:24:56.514+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:24:56.523+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8d1178]
2025-12-24T09:24:56.524+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47af04fc]
2025-12-24T09:24:56.537+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.537+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.538+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543c142e] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.538+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f921ae0] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.539+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1664937693 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.540+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1488825227 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.543+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:56.542+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:56.548+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:56.550+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:56.555+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:56.556+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:56.563+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@543c142e]
2025-12-24T09:24:56.566+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f921ae0]
2025-12-24T09:24:56.569+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.570+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.571+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61cc1268] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.573+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bbc2ccc] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.575+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@956032327 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.575+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2039078203 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.575+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:24:56.576+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:24:56.579+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:24:56.582+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:24:56.589+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:24:56.589+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:24:56.591+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61cc1268]
2025-12-24T09:24:56.591+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bbc2ccc]
2025-12-24T09:24:56.592+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.593+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0f7885] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.593+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.594+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f7d44f] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.594+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1408594958 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.595+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@110342412 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.595+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:24:56.596+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:24:56.599+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:24:56.601+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:24:56.610+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:24:56.610+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:24:56.611+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0f7885]
2025-12-24T09:24:56.612+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48f7d44f]
2025-12-24T09:24:56.612+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.614+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.615+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb63d73] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.615+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68805b46] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.622+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73299326 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.623+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@514043829 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.627+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:56.628+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:56.629+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:56.631+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:56.644+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:56.644+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:56.652+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68805b46]
2025-12-24T09:24:56.653+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bb63d73]
2025-12-24T09:24:56.653+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.654+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.654+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d7c12c] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.655+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e95b170] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.656+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028466779 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.656+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:24:56.656+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1790672544 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.657+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:24:56.658+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:24:56.660+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:24:56.670+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:24:56.673+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12d7c12c]
2025-12-24T09:24:56.674+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.675+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b23ba8] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.675+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1237338259 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:56.676+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:24:56.676+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:56.676+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e95b170]
2025-12-24T09:24:56.676+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:56.677+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:56.678+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35885b1] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:56.679+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@274049691 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:56.681+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:56.684+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:56.689+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:56.689+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b23ba8]
2025-12-24T09:24:56.690+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:56.694+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:56.710+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T09:24:56.726+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35885b1]
2025-12-24T09:24:56.734+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:56.738+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T09:24:56.756+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:56.760+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:58.758+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:24:58.759+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:24:58.760+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:24:58.761+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:24:58.767+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:24:58.767+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:24:58.768+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:24:58.769+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:24:58.786+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:24:58.774+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:24:58.784+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:24:58.809+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:24:58.860+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:24:58.900+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:24:58.903+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:24:58.901+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:24:58.902+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:24:58.906+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:24:58.907+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:24:58.903+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:24:58.922+09:00  INFO 22760 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:24:58.904+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:24:58.906+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:24:58.925+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:24:58.922+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:24:58.923+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:58.924+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:58.926+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:58.937+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:24:58.939+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d31a796] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:58.940+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c4e8c6b] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:58.941+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a28fa] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:58.942+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:24:58.949+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@113858e5] was not registered for synchronization because synchronization is not active
2025-12-24T09:24:58.956+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1465743827 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:24:58.956+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1490227214 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:24:58.956+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1462658326 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:24:58.956+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1850242986 wrapping com.mysql.cj.jdbc.ConnectionImpl@2a9757a5] will not be managed by Spring
2025-12-24T09:24:58.956+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:24:58.957+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:58.957+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:24:58.958+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:24:58.959+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:24:58.960+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:58.961+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:24:58.961+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:24:58.970+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:58.970+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:24:58.972+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:24:58.977+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@113858e5]
2025-12-24T09:24:58.973+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:24:58.973+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d31a796]
2025-12-24T09:24:58.976+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c4e8c6b]
2025-12-24T09:24:58.979+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:24:58.987+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:58.985+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33a28fa]
2025-12-24T09:24:58.986+09:00  INFO 22760 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:24:58.988+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:58.989+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:58.990+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:24:58.998+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:24:59.003+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:24:59.005+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:24:59.006+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:24:59.008+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:59.008+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:59.010+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:24:59.012+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:04.177+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=test
2025-12-24T09:25:04.182+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:25:04.190+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:25:04.195+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:25:04.196+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:25:04.198+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:25:04.200+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:04.201+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d1807a] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:04.210+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1323275225 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:25:04.211+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:25:04.214+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String), test(String), test(String), test(String)
2025-12-24T09:25:04.224+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 14
2025-12-24T09:25:04.225+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34d1807a]
2025-12-24T09:25:04.227+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:04.228+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T09:25:04.230+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:04.369+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=test
2025-12-24T09:25:04.376+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T09:25:04.386+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:25:04.395+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T09:25:04.396+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T09:25:04.397+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:25:04.398+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:04.400+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0c6470] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:04.410+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@867978651 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:25:04.411+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:25:04.412+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String), test(String), test(String), test(String)
2025-12-24T09:25:04.419+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 14
2025-12-24T09:25:04.420+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b0c6470]
2025-12-24T09:25:04.421+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:04.422+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T09:25:04.423+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:07.671+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=14
2025-12-24T09:25:07.675+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=14
2025-12-24T09:25:07.681+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:25:07.683+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=14
2025-12-24T09:25:07.684+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=14", parameters={masked}
2025-12-24T09:25:07.685+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:25:07.687+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:07.687+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f278790] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:07.690+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203895510 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:25:07.690+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:25:07.693+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 14(String), 14(String), 14(String), 14(String), 14(String)
2025-12-24T09:25:07.696+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T09:25:07.696+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f278790]
2025-12-24T09:25:07.700+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:07.701+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=14, companyName=test (truncated)...]
2025-12-24T09:25:07.702+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:10.038+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=14
2025-12-24T09:25:10.040+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=14
2025-12-24T09:25:10.044+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:25:10.045+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=14
2025-12-24T09:25:10.047+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=14", parameters={masked}
2025-12-24T09:25:10.048+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:25:10.049+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:10.049+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aaa5fc] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:10.054+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376889672 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:25:10.056+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:25:10.058+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 14(String), 14(String), 14(String), 14(String), 14(String)
2025-12-24T09:25:10.061+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T09:25:10.061+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aaa5fc]
2025-12-24T09:25:10.063+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:10.068+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=14, companyName=test (truncated)...]
2025-12-24T09:25:10.071+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:46.823+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:25:46.828+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:25:46.829+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:25:46.857+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:25:46.859+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:25:46.877+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:25:46.888+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:25:46.890+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:25:46.867+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:25:46.878+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:25:46.904+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:25:46.902+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:25:46.911+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:46.912+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52834508] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:46.905+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:25:46.906+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:25:46.914+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:25:46.918+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:25:46.920+09:00  INFO 22760 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:25:46.920+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:25:46.929+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:46.934+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@397aca63] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:46.931+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:25:46.931+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533837092 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:25:46.939+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:46.940+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:46.942+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4008ce91] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:46.946+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:25:46.948+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1003618661 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:25:46.952+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:25:46.953+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:25:46.962+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1512517274 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:25:46.962+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:25:46.971+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:25:46.971+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:46.972+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52834508]
2025-12-24T09:25:46.972+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@397aca63]
2025-12-24T09:25:46.973+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:25:46.973+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:46.973+09:00  INFO 22760 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:25:46.974+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:25:46.975+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:46.977+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:46.979+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:25:46.981+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:47.012+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:25:47.055+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4008ce91]
2025-12-24T09:25:47.058+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:47.115+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:25:47.124+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:48.752+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:25:48.759+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:25:48.759+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:25:48.888+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:25:48.894+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:25:48.896+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:25:48.900+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:25:48.902+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:25:48.913+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:25:48.907+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:25:48.907+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:25:48.913+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:25:48.914+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:25:48.914+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:25:48.923+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:25:48.915+09:00  INFO 22760 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:25:48.923+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:25:48.924+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:25:48.924+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:48.924+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:25:48.925+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:48.927+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e58675] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:48.928+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:48.929+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d46fe9] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:48.929+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ebe011] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:49.019+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428497091 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:25:49.019+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@508697232 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:25:49.019+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1100488393 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:25:49.020+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:49.021+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:49.021+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:25:49.022+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:25:49.023+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:25:49.023+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:25:49.032+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:25:49.032+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:25:49.032+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:25:49.036+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9e58675]
2025-12-24T09:25:49.036+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d46fe9]
2025-12-24T09:25:49.038+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52ebe011]
2025-12-24T09:25:49.038+09:00  INFO 22760 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:25:49.039+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:49.042+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:49.043+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:49.044+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:25:49.047+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:25:49.056+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:25:49.058+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:49.059+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:49.059+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:51.096+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:25:51.107+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:25:51.109+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:25:51.109+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T09:25:51.109+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:25:51.160+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:25:51.161+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:25:51.163+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:25:51.164+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T09:25:51.164+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:25:51.177+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:25:51.181+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:25:51.188+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:25:51.191+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T09:25:51.194+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:25:51.197+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:25:51.194+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:25:51.195+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:25:51.195+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:25:51.196+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T09:25:51.198+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:25:51.202+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:25:51.209+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:25:51.210+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:25:51.210+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T09:25:51.211+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:25:51.219+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:51.211+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:25:51.211+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:25:51.214+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:25:51.215+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T09:25:51.225+09:00  INFO 22760 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:25:51.227+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:51.221+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37238ee5] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:51.223+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:25:51.228+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:51.224+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:51.226+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:51.227+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@267013f5] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:51.229+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227c5cd9] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:51.230+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142a1ee3] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:51.230+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dfdbd17] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:51.231+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@84993105 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:25:51.240+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:51.245+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:25:51.246+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@963128523 wrapping com.mysql.cj.jdbc.ConnectionImpl@2a9757a5] will not be managed by Spring
2025-12-24T09:25:51.246+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2147436331 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:25:51.247+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@414622540 wrapping com.mysql.cj.jdbc.ConnectionImpl@62e03f61] will not be managed by Spring
2025-12-24T09:25:51.248+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@577098815 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:25:51.254+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:25:51.255+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:25:51.258+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T09:25:51.258+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:25:51.259+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:51.261+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:25:51.261+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:25:51.262+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T09:25:51.263+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37238ee5]
2025-12-24T09:25:51.265+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:25:51.277+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:51.279+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:25:51.290+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:25:51.291+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:25:51.292+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T09:25:51.295+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:51.297+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227c5cd9]
2025-12-24T09:25:51.298+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@267013f5]
2025-12-24T09:25:51.299+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2dfdbd17]
2025-12-24T09:25:51.310+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:25:51.316+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:25:51.321+09:00  INFO 22760 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:25:51.321+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:51.321+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@142a1ee3]
2025-12-24T09:25:51.322+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:51.323+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:51.327+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:25:51.329+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:51.325+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T09:25:51.326+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:51.326+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:25:51.492+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:51.502+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:51.496+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:25:51.511+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:52.811+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:25:52.812+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:25:52.813+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:25:52.814+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T09:25:52.824+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:25:52.853+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:25:52.854+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:25:52.855+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:25:53.086+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:25:53.087+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:25:53.042+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T09:25:53.076+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:25:53.088+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:25:53.088+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:25:53.092+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T09:25:53.096+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T09:25:53.092+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:25:53.094+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:25:53.102+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:25:53.095+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:25:53.109+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:25:53.096+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:25:53.097+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T09:25:53.103+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:25:53.112+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:25:53.104+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:25:53.110+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:25:53.113+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:53.111+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:53.111+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T09:25:53.112+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:25:53.112+09:00  INFO 22760 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:25:53.113+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ab8b28] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:53.113+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4328f3ad] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:53.114+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:53.127+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59604a3] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:53.123+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:25:53.124+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:53.145+09:00  INFO 22760 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:25:53.146+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c6e2d3c] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:53.147+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:25:53.148+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a53879d] was not registered for synchronization because synchronization is not active
2025-12-24T09:25:53.176+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@499986627 wrapping com.mysql.cj.jdbc.ConnectionImpl@2a9757a5] will not be managed by Spring
2025-12-24T09:25:53.177+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@226476377 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:25:53.177+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@223528094 wrapping com.mysql.cj.jdbc.ConnectionImpl@62e03f61] will not be managed by Spring
2025-12-24T09:25:53.179+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T09:25:53.179+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:53.181+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1631359786 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:25:53.182+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1336972125 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:25:53.186+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:25:53.188+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T09:25:53.188+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:25:53.192+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:25:53.193+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:25:53.195+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:25:53.199+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:25:53.204+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:25:53.213+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:25:53.214+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T09:25:53.222+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4328f3ad]
2025-12-24T09:25:53.222+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59604a3]
2025-12-24T09:25:53.223+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:53.223+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:53.270+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T09:25:53.225+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:25:53.232+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:25:53.233+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:25:53.236+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:25:53.272+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:53.273+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:53.273+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a53879d]
2025-12-24T09:25:53.273+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c6e2d3c]
2025-12-24T09:25:53.274+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43ab8b28]
2025-12-24T09:25:53.363+09:00  INFO 22760 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:25:53.364+09:00  INFO 22760 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:25:53.368+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:53.369+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:53.371+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:25:53.374+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:25:53.372+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:25:53.373+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:25:53.375+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:53.380+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:25:53.378+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:00.020+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:26:00.022+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:26:00.023+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T09:26:00.023+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:26:00.024+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:26:00.035+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:26:00.036+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:26:00.039+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T09:26:00.057+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:26:00.058+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:26:00.090+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:26:00.110+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:26:00.096+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:26:00.096+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T09:26:00.106+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:26:00.112+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:26:00.113+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:26:00.114+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:26:00.121+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:26:00.115+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T09:26:00.119+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:26:00.120+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:26:00.121+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:26:00.121+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:26:00.121+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T09:26:00.124+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:26:00.125+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:26:00.125+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:26:00.125+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:00.126+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T09:26:00.126+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:26:00.126+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:26:00.127+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:00.127+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d307f3e] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:00.128+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:00.128+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:00.130+09:00  INFO 22760 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:26:00.130+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@611d0a79] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:00.132+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b9e8228] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:00.136+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3213dc9] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:00.138+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:00.140+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7160ed85] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:00.141+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1182673647 wrapping com.mysql.cj.jdbc.ConnectionImpl@2a9757a5] will not be managed by Spring
2025-12-24T09:26:00.143+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:26:00.144+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2055493017 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:26:00.145+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@462567655 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:26:00.145+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1681729538 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:26:00.146+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:26:00.146+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:00.147+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T09:26:00.148+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@133972197 wrapping com.mysql.cj.jdbc.ConnectionImpl@62e03f61] will not be managed by Spring
2025-12-24T09:26:00.148+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:00.153+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:26:00.154+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T09:26:00.156+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:26:00.159+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:26:00.162+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:26:00.162+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:26:00.163+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d307f3e]
2025-12-24T09:26:00.164+09:00  INFO 22760 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:26:00.166+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:00.171+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:26:00.170+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:26:00.171+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T09:26:00.171+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:26:00.171+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7160ed85]
2025-12-24T09:26:00.172+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3213dc9]
2025-12-24T09:26:00.172+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b9e8228]
2025-12-24T09:26:00.175+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:26:00.178+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:00.180+09:00  INFO 22760 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:26:00.181+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:00.182+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:00.188+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@611d0a79]
2025-12-24T09:26:00.192+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:00.193+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:26:00.193+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T09:26:00.194+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:00.195+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:26:00.196+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:00.198+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:00.211+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:26:00.243+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:00.224+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:01.789+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:26:01.791+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:26:01.792+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:26:01.820+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:26:01.821+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:26:01.823+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:26:01.861+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:26:01.858+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:26:01.862+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:26:01.862+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:26:01.863+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:26:01.863+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:26:01.863+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:26:01.864+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:26:01.864+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:26:01.866+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:26:01.867+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:26:01.871+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:01.876+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:26:01.879+09:00  INFO 22760 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:26:01.881+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d36bbab] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:01.891+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:01.892+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:01.893+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135d92c4] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:01.893+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715e8a74] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:01.896+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1808628461 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:26:01.896+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@47363722 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:26:01.896+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895818186 wrapping com.mysql.cj.jdbc.ConnectionImpl@2a9757a5] will not be managed by Spring
2025-12-24T09:26:01.897+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:01.897+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:26:01.897+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:01.899+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:26:01.901+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:26:01.902+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:26:01.908+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:26:01.908+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:26:01.908+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d36bbab]
2025-12-24T09:26:01.909+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715e8a74]
2025-12-24T09:26:01.909+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:01.909+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:26:01.909+09:00  INFO 22760 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:26:01.910+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:26:01.911+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@135d92c4]
2025-12-24T09:26:01.911+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:01.912+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:01.912+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:01.912+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:26:01.913+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:26:01.918+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:01.919+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:07.556+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:26:07.558+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:26:07.559+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:26:07.585+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:26:07.593+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:26:07.595+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:26:07.596+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:26:07.598+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:26:07.604+09:00  INFO 22760 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:26:07.605+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:07.605+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769f457a] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:07.607+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:26:07.610+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:26:07.613+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:26:07.614+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:26:07.623+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:26:07.623+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:26:07.624+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:26:07.624+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:26:07.625+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:26:07.625+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:07.625+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:26:07.625+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b773b2c] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:07.626+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:07.627+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20efe38d] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:07.645+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2022613658 wrapping com.mysql.cj.jdbc.ConnectionImpl@62e03f61] will not be managed by Spring
2025-12-24T09:26:07.645+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2123298429 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:26:07.646+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:26:07.646+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:07.647+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:26:07.648+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:26:07.651+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1600951643 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:26:07.653+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:07.654+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:26:07.661+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:26:07.661+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b773b2c]
2025-12-24T09:26:07.663+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:07.664+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:26:07.664+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:26:07.664+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:26:07.665+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769f457a]
2025-12-24T09:26:07.665+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:07.665+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20efe38d]
2025-12-24T09:26:07.665+09:00  INFO 22760 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:26:07.666+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:07.667+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:07.668+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:26:07.669+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:26:07.670+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:07.670+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:16.599+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:26:16.601+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:26:16.603+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:26:16.615+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:26:16.620+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:26:16.621+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:26:16.622+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:26:16.629+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:26:16.640+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:26:16.642+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:26:16.645+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:26:16.646+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:26:16.646+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:26:16.647+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:26:16.794+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:26:16.882+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:26:16.888+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:26:16.889+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:26:16.891+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:16.892+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9bcf0d] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:16.889+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:16.890+09:00  INFO 22760 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:26:16.896+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:16.896+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a2833ab] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:16.894+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffae714] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:16.985+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1892259634 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:26:16.985+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@483946027 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:26:16.986+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1438661655 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:26:17.027+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:17.028+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:26:17.028+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:26:17.034+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:26:17.035+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:26:17.037+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:26:17.058+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:26:17.059+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:26:17.059+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:26:17.073+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a2833ab]
2025-12-24T09:26:17.073+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ffae714]
2025-12-24T09:26:17.074+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d9bcf0d]
2025-12-24T09:26:17.074+09:00  INFO 22760 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:26:17.075+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:17.076+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:17.077+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:17.077+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:26:17.077+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:26:17.078+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:26:17.080+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:17.080+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:17.085+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:20.765+09:00 DEBUG 22760 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=123
2025-12-24T09:26:20.770+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2025-12-24T09:26:20.773+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:26:20.775+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2025-12-24T09:26:20.776+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2025-12-24T09:26:20.780+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:26:20.781+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:20.783+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2835cb25] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:20.792+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1401108428 wrapping com.mysql.cj.jdbc.ConnectionImpl@5bb6336b] will not be managed by Spring
2025-12-24T09:26:20.793+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:26:20.796+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String), 123(String), 123(String), 123(String)
2025-12-24T09:26:20.799+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:26:20.799+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2835cb25]
2025-12-24T09:26:20.804+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:20.805+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:26:20.806+09:00 DEBUG 22760 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:24.776+09:00 DEBUG 22760 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=12
2025-12-24T09:26:24.781+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=12
2025-12-24T09:26:24.783+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:26:24.783+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=12
2025-12-24T09:26:24.785+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=12", parameters={masked}
2025-12-24T09:26:24.790+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:26:24.792+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:24.793+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@589e3eea] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:24.798+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1234197182 wrapping com.mysql.cj.jdbc.ConnectionImpl@62e03f61] will not be managed by Spring
2025-12-24T09:26:24.799+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:26:24.801+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 12(String), 12(String), 12(String), 12(String), 12(String)
2025-12-24T09:26:24.810+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T09:26:24.811+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@589e3eea]
2025-12-24T09:26:24.812+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:24.812+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=12, companyName=test (truncated)...]
2025-12-24T09:26:24.814+09:00 DEBUG 22760 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:27.334+09:00 DEBUG 22760 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=1234
2025-12-24T09:26:27.337+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=1234
2025-12-24T09:26:27.339+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:26:27.340+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=1234
2025-12-24T09:26:27.342+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=1234", parameters={masked}
2025-12-24T09:26:27.343+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:26:27.353+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:27.354+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9271e8] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:27.361+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124469279 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:26:27.364+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:26:27.371+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 1234(String), 1234(String), 1234(String), 1234(String), 1234(String)
2025-12-24T09:26:27.376+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:26:27.377+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c9271e8]
2025-12-24T09:26:27.379+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:27.380+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:26:27.381+09:00 DEBUG 22760 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:28.365+09:00 DEBUG 22760 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=12345
2025-12-24T09:26:28.380+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=12345
2025-12-24T09:26:28.384+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:26:28.422+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=12345
2025-12-24T09:26:28.428+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=12345", parameters={masked}
2025-12-24T09:26:28.428+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:26:28.429+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:28.429+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c47a912] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:28.432+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1345286372 wrapping com.mysql.cj.jdbc.ConnectionImpl@5901a30c] will not be managed by Spring
2025-12-24T09:26:28.433+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:26:28.439+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 12345(String), 12345(String), 12345(String), 12345(String), 12345(String)
2025-12-24T09:26:28.442+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:26:28.442+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c47a912]
2025-12-24T09:26:28.443+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:28.445+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:26:28.446+09:00 DEBUG 22760 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:26:29.512+09:00 DEBUG 22760 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=123456
2025-12-24T09:26:29.623+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123456
2025-12-24T09:26:29.629+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:26:29.633+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123456
2025-12-24T09:26:29.647+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123456", parameters={masked}
2025-12-24T09:26:29.648+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:26:29.649+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:26:29.650+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7f51b3] was not registered for synchronization because synchronization is not active
2025-12-24T09:26:29.663+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884485269 wrapping com.mysql.cj.jdbc.ConnectionImpl@3c32e926] will not be managed by Spring
2025-12-24T09:26:29.664+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:26:29.666+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123456(String), 123456(String), 123456(String), 123456(String), 123456(String)
2025-12-24T09:26:29.670+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:26:29.670+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7f51b3]
2025-12-24T09:26:29.692+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:26:29.713+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:26:29.715+09:00 DEBUG 22760 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:31:46.421+09:00  INFO 15680 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 15680 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T09:31:46.424+09:00 DEBUG 15680 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T09:31:46.428+09:00  INFO 15680 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T09:31:49.008+09:00 DEBUG 15680 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T09:31:49.015+09:00 DEBUG 15680 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T09:31:49.486+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T09:31:49.553+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T09:31:49.556+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T09:31:49.559+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T09:31:49.570+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T09:31:49.577+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T09:31:49.581+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T09:31:49.588+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T09:31:49.593+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T09:31:49.595+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T09:31:49.597+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T09:31:49.602+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T09:31:49.607+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T09:31:49.624+09:00 DEBUG 15680 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T09:31:50.650+09:00  INFO 15680 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T09:31:50.671+09:00  INFO 15680 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T09:31:50.671+09:00  INFO 15680 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T09:31:50.787+09:00  INFO 15680 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T09:31:50.794+09:00  INFO 15680 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4270 ms
2025-12-24T09:31:50.923+09:00 DEBUG 15680 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T09:31:50.926+09:00 DEBUG 15680 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T09:31:51.670+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T09:31:51.742+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T09:31:51.836+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T09:31:51.887+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T09:31:51.915+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T09:31:51.925+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T09:31:51.964+09:00 DEBUG 15680 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T09:31:52.802+09:00 DEBUG 15680 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T09:31:53.077+09:00 DEBUG 15680 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T09:31:53.116+09:00  WARN 15680 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 37fb714c-50d0-457b-bc95-e3b0b0bfcb7b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T09:31:53.169+09:00  INFO 15680 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T09:31:53.421+09:00 DEBUG 15680 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T09:31:53.621+09:00 DEBUG 15680 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T09:31:53.765+09:00 DEBUG 15680 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T09:31:53.778+09:00 DEBUG 15680 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T09:31:54.146+09:00  INFO 15680 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T09:31:54.184+09:00  INFO 15680 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.555 seconds (process running for 9.152)
2025-12-24T09:31:58.836+09:00  INFO 15680 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T09:31:58.853+09:00  INFO 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T09:31:58.864+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T09:31:58.875+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T09:31:58.875+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T09:31:58.877+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@305e95a4
2025-12-24T09:31:58.879+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@222d9d4f
2025-12-24T09:31:58.880+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T09:31:58.882+09:00  INFO 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2025-12-24T09:31:58.954+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=123
2025-12-24T09:31:59.013+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=123
2025-12-24T09:31:59.265+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:31:59.274+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=123
2025-12-24T09:31:59.284+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=123", parameters={masked}
2025-12-24T09:31:59.292+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:31:59.342+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:31:59.379+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf7977c] was not registered for synchronization because synchronization is not active
2025-12-24T09:31:59.418+09:00  INFO 15680 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T09:31:59.731+09:00  INFO 15680 --- [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6d411284
2025-12-24T09:31:59.734+09:00  INFO 15680 --- [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T09:31:59.742+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2034851958 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:31:59.753+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:31:59.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 123(String), 123(String), 123(String), 123(String), 123(String)
2025-12-24T09:31:59.846+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T09:31:59.861+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf7977c]
2025-12-24T09:31:59.926+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:31:59.937+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T09:31:59.962+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:01.024+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=12
2025-12-24T09:32:01.034+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=12
2025-12-24T09:32:01.045+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:32:01.054+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=12
2025-12-24T09:32:01.056+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=12", parameters={masked}
2025-12-24T09:32:01.059+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:32:01.062+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:01.063+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e843f1] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:01.069+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321644436 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:01.073+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:32:01.075+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 12(String), 12(String), 12(String), 12(String), 12(String)
2025-12-24T09:32:01.081+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T09:32:01.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73e843f1]
2025-12-24T09:32:01.083+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:01.085+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=12, companyName=test (truncated)...]
2025-12-24T09:32:01.092+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:05.161+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=12
2025-12-24T09:32:05.165+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=12
2025-12-24T09:32:05.174+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:32:05.177+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=12
2025-12-24T09:32:05.181+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=12", parameters={masked}
2025-12-24T09:32:05.182+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:32:05.189+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:05.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@584ec287] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:05.211+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1387702775 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:05.213+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:32:05.223+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: 12(String), 12(String), 12(String), 12(String), 12(String)
2025-12-24T09:32:05.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T09:32:05.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@584ec287]
2025-12-24T09:32:05.239+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:05.242+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=12, companyName=test (truncated)...]
2025-12-24T09:32:05.245+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:17.674+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/search?name=temp
2025-12-24T09:32:17.678+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=temp
2025-12-24T09:32:17.683+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies/search
2025-12-24T09:32:17.685+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=temp
2025-12-24T09:32:17.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=temp", parameters={masked}
2025-12-24T09:32:17.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T09:32:17.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:17.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0f5dc8] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:17.703+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@298840888 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:17.707+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T09:32:17.709+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: temp(String), temp(String), temp(String), temp(String), temp(String)
2025-12-24T09:32:17.714+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 14
2025-12-24T09:32:17.714+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e0f5dc8]
2025-12-24T09:32:17.715+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:17.716+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T09:32:17.720+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:27.340+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T09:32:27.343+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:27.344+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T09:32:27.346+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:27.356+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T09:32:27.356+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:27.357+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T09:32:27.359+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:27.364+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T09:32:27.364+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T09:32:27.372+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T09:32:27.373+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T09:32:27.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T09:32:27.373+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T09:32:27.374+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:27.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T09:32:27.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T09:32:27.378+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:27.380+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T09:32:27.383+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T09:32:27.384+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T09:32:27.398+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.392+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T09:32:27.394+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T09:32:27.399+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e0bab6] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.401+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.404+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4d469b] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.400+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.400+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T09:32:27.408+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641b436b] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.408+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.411+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c08f4e] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.416+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1111799046 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:27.420+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T09:32:27.427+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T09:32:27.427+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006696586 wrapping com.mysql.cj.jdbc.ConnectionImpl@41f78564] will not be managed by Spring
2025-12-24T09:32:27.430+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T09:32:27.442+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T09:32:27.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T09:32:27.456+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f4d469b]
2025-12-24T09:32:27.458+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T09:32:27.458+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1360457765 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@43695794 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39c08f4e]
2025-12-24T09:32:27.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:27.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:27.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:27.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:27.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T09:32:27.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:27.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:27.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T09:32:27.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:27.488+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:27.500+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:27.500+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:27.505+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641b436b]
2025-12-24T09:32:27.506+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e0bab6]
2025-12-24T09:32:27.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3f267a] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.511+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c8cc9d] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.512+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814060736 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607357519 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:27.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:27.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:27.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:27.517+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:27.521+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c8cc9d]
2025-12-24T09:32:27.525+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.525+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:27.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785f50f6] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3f267a]
2025-12-24T09:32:27.530+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.530+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2062588696 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.531+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25395536] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:27.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@641121053 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.533+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:27.533+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:27.538+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:27.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:27.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:27.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@785f50f6]
2025-12-24T09:32:27.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25395536]
2025-12-24T09:32:27.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a90d481] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298321ae] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1096318515 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@981375440 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.550+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:27.551+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:27.558+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:27.559+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:27.566+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:27.566+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:27.567+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a90d481]
2025-12-24T09:32:27.567+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@298321ae]
2025-12-24T09:32:27.567+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.570+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.570+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728b042d] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.572+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274ef0c5] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.572+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73394175 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.574+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@401619923 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.575+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:27.575+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:27.576+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:27.578+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:27.601+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:27.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@274ef0c5]
2025-12-24T09:32:27.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:27.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.609+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0e681a] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.610+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@728b042d]
2025-12-24T09:32:27.612+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389761429 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.612+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.613+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:27.613+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c05b3d8] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.614+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:27.615+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@568341627 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.616+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:27.618+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:27.620+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:27.626+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0e681a]
2025-12-24T09:32:27.629+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.632+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421e66bf] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.634+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@775723102 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:27.634+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:27.638+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:27.639+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c05b3d8]
2025-12-24T09:32:27.639+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:27.641+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:27.642+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@312bdb89] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:27.644+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:27.645+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@816915719 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:27.646+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421e66bf]
2025-12-24T09:32:27.646+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:27.647+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:27.648+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:27.667+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T09:32:27.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:27.708+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:27.721+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@312bdb89]
2025-12-24T09:32:27.725+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:27.728+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T09:32:27.732+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:36.124+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T09:32:36.124+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T09:32:36.133+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T09:32:36.135+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T09:32:36.146+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T09:32:36.148+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T09:32:36.150+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T09:32:36.200+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T09:32:36.200+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T09:32:36.200+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T09:32:36.211+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T09:32:36.212+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T09:32:36.213+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:36.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:36.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d94cdae] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:36.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c375bd] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:36.225+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124561118 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:36.225+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1411279657 wrapping com.mysql.cj.jdbc.ConnectionImpl@41f78564] will not be managed by Spring
2025-12-24T09:32:36.226+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T09:32:36.226+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T09:32:36.226+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T09:32:36.227+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T09:32:36.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T09:32:36.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T09:32:36.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d94cdae]
2025-12-24T09:32:36.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52c375bd]
2025-12-24T09:32:36.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:36.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:36.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T09:32:36.232+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T09:32:36.233+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:36.233+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:45.421+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T09:32:45.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:45.438+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T09:32:45.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:45.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T09:32:45.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:45.482+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T09:32:45.484+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T09:32:45.483+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T09:32:45.487+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:45.490+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T09:32:45.497+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:45.493+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T09:32:45.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T09:32:45.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T09:32:45.498+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T09:32:45.498+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T09:32:45.499+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T09:32:45.516+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T09:32:45.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T09:32:45.521+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T09:32:45.514+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T09:32:45.523+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.517+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.524+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa50a7b] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.517+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T09:32:45.522+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T09:32:45.523+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211876a5] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d264a8] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.527+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.534+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594aff80] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.539+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2007010118 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:45.541+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1905379711 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.542+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T09:32:45.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@817983474 wrapping com.mysql.cj.jdbc.ConnectionImpl@41f78564] will not be managed by Spring
2025-12-24T09:32:45.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T09:32:45.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489295832 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.545+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:45.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T09:32:45.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:45.550+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:45.552+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T09:32:45.554+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T09:32:45.559+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:45.561+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@211876a5]
2025-12-24T09:32:45.562+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:45.567+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T09:32:45.567+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:45.568+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T09:32:45.569+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:45.574+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:45.575+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa50a7b]
2025-12-24T09:32:45.576+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@594aff80]
2025-12-24T09:32:45.580+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f8f4ed] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.576+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d264a8]
2025-12-24T09:32:45.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:45.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198395354 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T09:32:45.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:45.583+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24231b81] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.584+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:45.590+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:45.590+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940014934 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.596+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:45.597+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:45.601+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:45.601+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:45.601+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24231b81]
2025-12-24T09:32:45.607+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28f8f4ed]
2025-12-24T09:32:45.607+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3647a69] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.609+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486e9668] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.610+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1059559063 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.611+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@660491284 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.612+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:45.613+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:45.614+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:45.615+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:45.617+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:45.617+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:45.626+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3647a69]
2025-12-24T09:32:45.628+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@486e9668]
2025-12-24T09:32:45.630+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.631+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.632+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77748f22] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.632+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@777ae047] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.633+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474495639 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.634+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1260119318 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.635+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:45.638+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T09:32:45.642+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:45.643+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T09:32:45.653+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:45.657+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T09:32:45.658+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@777ae047]
2025-12-24T09:32:45.662+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.659+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77748f22]
2025-12-24T09:32:45.663+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9f6884] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.665+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.666+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3992fda8] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.666+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310651900 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.668+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1891021931 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.669+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:45.674+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:45.676+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:45.677+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:45.680+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:45.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:45.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3992fda8]
2025-12-24T09:32:45.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d9f6884]
2025-12-24T09:32:45.682+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.683+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.683+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@577fe466] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.684+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778476e1] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.685+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041457820 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.691+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:45.691+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27913181 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.693+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T09:32:45.693+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:45.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T09:32:45.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:45.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T09:32:45.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@778476e1]
2025-12-24T09:32:45.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@577fe466]
2025-12-24T09:32:45.700+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.701+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:45.701+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dfeec8b] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.705+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6077c265] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:45.707+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@429500587 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:45.710+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1216567001 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:45.711+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:45.711+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:45.712+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:45.713+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:45.720+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:45.724+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:45.726+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6077c265]
2025-12-24T09:32:45.726+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dfeec8b]
2025-12-24T09:32:45.728+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:45.728+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:45.728+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T09:32:45.729+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T09:32:45.730+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:45.733+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:47.376+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:32:47.376+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T09:32:47.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T09:32:47.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T09:32:47.396+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:32:47.399+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T09:32:47.401+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T09:32:47.401+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T09:32:47.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:32:47.411+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T09:32:47.417+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T09:32:47.417+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T09:32:47.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:32:47.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T09:32:47.428+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T09:32:47.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T09:32:47.429+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T09:32:47.430+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:32:47.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T09:32:47.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T09:32:47.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T09:32:47.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:32:47.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T09:32:47.433+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:47.435+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:47.435+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115de211] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:47.434+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T09:32:47.434+09:00  INFO 15680 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:32:47.435+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27d2a2c5] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:47.442+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T09:32:47.443+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:47.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T09:32:47.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9cb8e4] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:47.447+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb0b35d] was not registered for synchronization because synchronization is not active
2025-12-24T09:32:47.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@749631577 wrapping com.mysql.cj.jdbc.ConnectionImpl@4961600c] will not be managed by Spring
2025-12-24T09:32:47.450+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:32:47.451+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T09:32:47.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1943394744 wrapping com.mysql.cj.jdbc.ConnectionImpl@41f78564] will not be managed by Spring
2025-12-24T09:32:47.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T09:32:47.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T09:32:47.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@492065963 wrapping com.mysql.cj.jdbc.ConnectionImpl@766c8217] will not be managed by Spring
2025-12-24T09:32:47.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650957458 wrapping com.mysql.cj.jdbc.ConnectionImpl@6d411284] will not be managed by Spring
2025-12-24T09:32:47.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T09:32:47.475+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:47.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T09:32:47.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115de211]
2025-12-24T09:32:47.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:47.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T09:32:47.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T09:32:47.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:47.482+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27d2a2c5]
2025-12-24T09:32:47.484+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T09:32:47.495+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:47.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:47.508+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T09:32:47.518+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:47.518+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T09:32:47.525+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bb0b35d]
2025-12-24T09:32:47.527+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:47.530+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b9cb8e4]
2025-12-24T09:32:47.531+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:32:47.533+09:00  INFO 15680 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T09:32:47.535+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:47.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:47.553+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:32:47.554+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T09:32:47.571+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:47.584+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:32:55.737+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T09:32:55.747+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T09:32:55.756+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-24T09:32:55.761+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T09:32:55.762+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T09:32:55.762+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T09:32:55.798+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T09:32:55.805+09:00  INFO 15680 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=3
2025-12-24T09:32:55.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T09:32:55.807+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T09:32:55.808+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T09:49:20.851+09:00  INFO 15680 --- [http-nio-8080-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x00{0x010x000x00w0x030x03F0x180xa90xb90x160xb1b0x9f0x080xa9"0x000xb60xe70xb00x1aF<40xb20x9840xca&0x90Wd0xf6}0xf80x130x0c0x000x000x1a0xc0/0xc0+0xc00x110xc00x070xc00x130xc00x090xc00x140xc00x0a0x000x050x00/0x0050xc00x120x000x0a0x010x000x0040x000x050x000x050x010x000x000x000x000x000x0a0x000x080x000x060x000x170x000x180x000x190x000x0b0x000x020x010x000x000x0d0x000x100x000x0e0x040x010x040x030x020x010x020x030x040x010x050x010x060x010xff0x010x000x010x00...]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:402) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-24T10:00:47.051+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T10:00:47.052+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T10:20:33.141+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /boaform/admin/formLogin?username=adminisp&psd=adminisp
2025-12-24T10:20:33.141+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T11:02:11.482+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T11:02:11.483+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T11:02:17.672+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /robots.txt
2025-12-24T11:02:17.675+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T11:11:25.628+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /json/
2025-12-24T11:11:25.629+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T11:45:41.210+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T11:45:41.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T11:45:41.215+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T11:45:41.217+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T11:45:41.217+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T11:45:41.218+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T11:45:41.225+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T11:45:41.229+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T11:45:41.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a9cd829] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.234+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886497604 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fe5df90] will not be managed by Spring
2025-12-24T11:45:41.234+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T11:45:41.236+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T11:45:41.242+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T11:45:41.245+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a9cd829]
2025-12-24T11:45:41.352+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T11:45:41.353+09:00  INFO 15680 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T11:45:41.354+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T11:45:41.355+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T11:45:41.357+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T11:45:41.695+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T11:45:41.732+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T11:45:41.732+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T11:45:41.734+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T11:45:41.736+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T11:45:41.736+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T11:45:41.755+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T11:45:41.759+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T11:45:41.762+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T11:45:41.767+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T11:45:41.781+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T11:45:41.771+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T11:45:41.783+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T11:45:41.774+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T11:45:41.780+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T11:45:41.781+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T11:45:41.782+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T11:45:41.798+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T11:45:41.783+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T11:45:41.784+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T11:45:41.786+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T11:45:41.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T11:45:41.798+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.805+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7c8dd5] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.800+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T11:45:41.803+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T11:45:41.804+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T11:45:41.804+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T11:45:41.810+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.812+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T11:45:41.813+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T11:45:41.816+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T11:45:41.817+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a25ac] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.819+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.820+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.828+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a24d415] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.821+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T11:45:41.827+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f68200b] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.828+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1242768646 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fe5df90] will not be managed by Spring
2025-12-24T11:45:41.830+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.832+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1852909785 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:41.833+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287546589 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:41.835+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T11:45:41.835+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe19c0d] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.836+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T11:45:41.838+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T11:45:41.839+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T11:45:41.843+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417637276 wrapping com.mysql.cj.jdbc.ConnectionImpl@608672b4] will not be managed by Spring
2025-12-24T11:45:41.844+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T11:45:41.845+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T11:45:41.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T11:45:41.852+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990204463 wrapping com.mysql.cj.jdbc.ConnectionImpl@34720b15] will not be managed by Spring
2025-12-24T11:45:41.853+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T11:45:41.854+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T11:45:41.856+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T11:45:41.858+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T11:45:41.860+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T11:45:41.862+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a24d415]
2025-12-24T11:45:41.863+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b7c8dd5]
2025-12-24T11:45:41.863+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T11:45:41.866+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.879+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4670f054] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.871+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T11:45:41.879+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a25ac]
2025-12-24T11:45:41.881+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692191411 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:41.886+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T11:45:41.886+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T11:45:41.885+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.887+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T11:45:41.888+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5752d0] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.892+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T11:45:41.895+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56839651 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:41.898+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T11:45:41.901+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T11:45:41.901+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T11:45:41.905+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T11:45:41.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f68200b]
2025-12-24T11:45:41.912+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe19c0d]
2025-12-24T11:45:41.916+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T11:45:41.920+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4670f054]
2025-12-24T11:45:41.921+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.919+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T11:45:41.920+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T11:45:41.921+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71556a8] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T11:45:41.924+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T11:45:41.927+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T11:45:41.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1283163099 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:41.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a5752d0]
2025-12-24T11:45:41.930+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T11:45:41.932+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T11:45:41.935+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T11:45:41.939+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T11:45:41.935+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:41.943+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ad43a10] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:41.987+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176503368 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:41.989+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T11:45:41.991+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T11:45:42.027+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T11:45:42.032+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71556a8]
2025-12-24T11:45:42.035+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.035+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e7f752] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.037+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T11:45:42.043+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2070563632 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:42.043+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ad43a10]
2025-12-24T11:45:42.044+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T11:45:42.062+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.063+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T11:45:42.064+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c082987] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.065+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1194825900 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:42.065+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T11:45:42.067+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T11:45:42.067+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T11:45:42.070+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e7f752]
2025-12-24T11:45:42.071+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.071+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dba8853] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.072+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1955504593 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:42.072+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T11:45:42.073+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T11:45:42.075+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T11:45:42.076+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c082987]
2025-12-24T11:45:42.077+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.079+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7456a64c] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.081+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227881808 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:42.081+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T11:45:42.081+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T11:45:42.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dba8853]
2025-12-24T11:45:42.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T11:45:42.083+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.084+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dcd0746] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.085+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@75294396 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:42.086+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T11:45:42.087+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T11:45:42.088+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T11:45:42.089+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7456a64c]
2025-12-24T11:45:42.090+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T11:45:42.093+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.095+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4dcd0746]
2025-12-24T11:45:42.095+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf73d60] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.096+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.096+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@173180564 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:42.096+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aab6940] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.097+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T11:45:42.097+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601812068 wrapping com.mysql.cj.jdbc.ConnectionImpl@679fa1a] will not be managed by Spring
2025-12-24T11:45:42.097+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T11:45:42.097+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T11:45:42.100+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T11:45:42.102+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T11:45:42.103+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bf73d60]
2025-12-24T11:45:42.103+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T11:45:42.104+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T11:45:42.104+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aab6940]
2025-12-24T11:45:42.105+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f319b0] was not registered for synchronization because synchronization is not active
2025-12-24T11:45:42.106+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T11:45:42.106+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1268592595 wrapping com.mysql.cj.jdbc.ConnectionImpl@47449d0f] will not be managed by Spring
2025-12-24T11:45:42.109+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T11:45:42.109+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T11:45:42.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T11:45:42.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T11:45:42.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T11:45:42.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f319b0]
2025-12-24T11:45:42.116+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T11:45:42.117+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T11:45:42.119+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:06:09.132+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T12:06:09.135+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:50:54.596+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:50:54.601+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:50:54.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:50:54.613+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:50:54.616+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:50:54.618+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:50:54.628+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T12:50:54.635+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:54.725+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:50:54.729+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:58.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:50:58.515+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:50:58.520+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:50:58.524+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:50:58.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:50:58.567+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:50:58.570+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T12:50:58.573+09:00  INFO 15680 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T12:50:58.574+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:58.574+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600e85ea] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:58.577+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@494619914 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:50:58.579+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:50:58.580+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T12:50:58.591+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:50:58.592+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@600e85ea]
2025-12-24T12:50:58.678+09:00  INFO 15680 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 14
2025-12-24T12:50:58.681+09:00  INFO 15680 --- [http-nio-8080-exec-6] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T12:50:58.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:58.699+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T12:50:58.711+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:58.994+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:50:59.029+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:50:59.035+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:50:59.039+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:50:59.039+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:50:59.040+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:50:59.051+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:50:59.051+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:50:59.065+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:50:59.066+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:50:59.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T12:50:59.067+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:50:59.069+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:50:59.069+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:50:59.076+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:50:59.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:50:59.084+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:50:59.090+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:50:59.091+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:50:59.091+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:50:59.093+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:50:59.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:50:59.094+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:50:59.096+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:50:59.100+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:50:59.101+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:50:59.107+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:50:59.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:50:59.112+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:50:59.112+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:50:59.113+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:50:59.113+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:50:59.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:50:59.121+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:50:59.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:50:59.117+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:50:59.117+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.118+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.138+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235f9367] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.121+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:50:59.122+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.143+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.127+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:50:59.129+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:50:59.130+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53bff177] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.143+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a5daea] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.144+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e1e24f] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.147+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.165+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:50:59.173+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1491953953 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:50:59.174+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1128695259 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.175+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d848599] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.176+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.176+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:50:59.176+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:50:59.177+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4593aa] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.178+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T12:50:59.178+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:50:59.183+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@754923140 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:50:59.183+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444009144 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:50:59.227+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:50:59.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@693471494 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:50:59.226+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T12:50:59.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@235f9367]
2025-12-24T12:50:59.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:50:59.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:50:59.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:50:59.232+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.232+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1602883636 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:50:59.234+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:50:59.234+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T12:50:59.235+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:50:59.244+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.246+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:50:59.249+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:50:59.262+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:50:59.263+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:50:59.274+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d848599]
2025-12-24T12:50:59.274+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53bff177]
2025-12-24T12:50:59.274+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:50:59.275+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.276+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.280+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:50:59.282+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:50:59.289+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e22f99e] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.297+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b991f3] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.298+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:50:59.300+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:50:59.306+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67a5daea]
2025-12-24T12:50:59.306+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1691323284 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.310+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1071056038 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.321+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:50:59.314+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:50:59.315+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c4593aa]
2025-12-24T12:50:59.316+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.316+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:50:59.323+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:50:59.325+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.327+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.327+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:50:59.328+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:50:59.328+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115ef9e4] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.329+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:50:59.329+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:50:59.347+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.350+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:50:59.367+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@574736152 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:50:59.378+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:50:59.372+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.375+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41e1e24f]
2025-12-24T12:50:59.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:50:59.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48b991f3]
2025-12-24T12:50:59.383+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.378+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:50:59.381+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.384+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:50:59.384+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252c1b61] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.390+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@555622462 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.391+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:50:59.387+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:50:59.389+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:50:59.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:50:59.394+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.398+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:50:59.416+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e22f99e]
2025-12-24T12:50:59.418+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.418+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@726f3dc9] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:50:59.422+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@192463891 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:50:59.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:50:59.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:50:59.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:50:59.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:50:59.433+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:50:59.434+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@115ef9e4]
2025-12-24T12:50:59.435+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.438+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.438+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df8578d] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.439+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:50:59.442+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:50:59.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095870870 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:50:59.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@252c1b61]
2025-12-24T12:50:59.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f4fbdf4] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:50:59.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@452805231 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:50:59.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:50:59.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:50:59.467+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@726f3dc9]
2025-12-24T12:50:59.467+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:50:59.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.473+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275f5ca4] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.474+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:50:59.476+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1386101045 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.476+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3df8578d]
2025-12-24T12:50:59.476+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:50:59.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:50:59.487+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:50:59.488+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:50:59.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f4fbdf4]
2025-12-24T12:50:59.495+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.504+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3863885d] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.505+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1834787753 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.511+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:50:59.516+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:50:59.517+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275f5ca4]
2025-12-24T12:50:59.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:50:59.539+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.540+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279026ed] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.540+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2054681799 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.542+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:50:59.543+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:50:59.547+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:50:59.548+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3863885d]
2025-12-24T12:50:59.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.550+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7814438a] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.551+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:50:59.557+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279026ed]
2025-12-24T12:50:59.557+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1553014197 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.558+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.558+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:50:59.560+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73346490] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.561+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:50:59.563+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1437963093 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:50:59.565+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:50:59.575+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:50:59.578+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7814438a]
2025-12-24T12:50:59.579+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:50:59.579+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.579+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73346490]
2025-12-24T12:50:59.579+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b2787bf] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.580+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:50:59.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1090789597 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:50:59.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@508ba984] was not registered for synchronization because synchronization is not active
2025-12-24T12:50:59.583+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:50:59.583+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@13326305 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:50:59.584+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:50:59.584+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:50:59.585+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:50:59.589+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:50:59.591+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b2787bf]
2025-12-24T12:50:59.592+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:50:59.594+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.596+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@508ba984]
2025-12-24T12:50:59.598+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:50:59.598+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:50:59.599+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:50:59.600+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:50:59.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:03.191+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:51:03.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:51:03.213+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:51:03.239+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:51:03.216+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:51:03.241+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:51:03.243+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:51:03.244+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:51:03.246+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:51:03.247+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:51:03.339+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.346+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db10826] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.346+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:51:03.348+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:51:03.350+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.350+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6246f5e9] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.357+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@57771103 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:03.380+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:03.384+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:03.391+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@334411532 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:03.391+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:03.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:03.398+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:03.402+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4db10826]
2025-12-24T12:51:03.409+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:03.410+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:51:03.410+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:03.411+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:03.412+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6246f5e9]
2025-12-24T12:51:03.415+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:03.422+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:51:03.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:51:03.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:51:03.433+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:03.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:51:03.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:51:03.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:51:03.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:51:03.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:51:03.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:51:03.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:51:03.468+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:51:03.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:51:03.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:51:03.473+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:51:03.474+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:03.474+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:51:03.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:03.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:03.483+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:03.485+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.495+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31549a17] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fe5d79] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.498+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:51:03.505+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:51:03.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@811645626 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:03.520+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:03.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:51:03.517+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:51:03.523+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:03.524+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:51:03.524+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:51:03.548+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:51:03.550+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@648710761 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:03.552+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:03.562+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:51:03.563+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:51:03.563+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:03.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31549a17]
2025-12-24T12:51:03.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:51:03.570+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:03.576+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:03.577+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.577+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:03.578+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:03.580+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2259e15b] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.580+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:03.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@400108224 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:03.583+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:51:03.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.583+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c23ee30] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.588+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:51:03.589+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53dffb5b] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.590+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2098623713 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:03.613+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:03.621+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46fe5d79]
2025-12-24T12:51:03.618+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:03.622+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.623+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:03.625+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:51:03.626+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@797f6730] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.630+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2259e15b]
2025-12-24T12:51:03.631+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@200561588 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:03.633+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:03.640+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23479095 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:51:03.646+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:03.647+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:51:03.648+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:03.649+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:03.677+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:03.651+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:03.661+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:03.678+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c23ee30]
2025-12-24T12:51:03.678+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.693+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4469af1] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925345319 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:03.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:03.695+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:03.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:03.700+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:03.717+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@797f6730]
2025-12-24T12:51:03.717+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53dffb5b]
2025-12-24T12:51:03.718+09:00  INFO 15680 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:03.724+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:03.727+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:03.727+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56757f45] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:03.727+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:03.728+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608487405 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:51:03.729+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:03.730+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:51:03.733+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:51:03.744+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:03.765+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4469af1]
2025-12-24T12:51:03.766+09:00  INFO 15680 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:03.767+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:03.769+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:03.787+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:03.793+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:51:03.795+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56757f45]
2025-12-24T12:51:03.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:03.811+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:51:03.829+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:19.606+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/11/role
2025-12-24T12:51:19.616+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/11/role
2025-12-24T12:51:19.621+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/11/role
2025-12-24T12:51:19.632+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/11/role
2025-12-24T12:51:19.632+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/11/role", parameters={}
2025-12-24T12:51:19.633+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateUserRole(Long, UpdateRoleRequest)
2025-12-24T12:51:19.641+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.UpdateRoleRequest(role=ACCOUNTANT)]
2025-12-24T12:51:19.643+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:19.648+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:19.648+09:00  INFO 15680 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 사용자 role 변경 시도 - userId: 11, newRole: ACCOUNTANT, operatorId: 1
2025-12-24T12:51:19.649+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:19.649+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566a6e4a] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:19.663+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122189396 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:19.665+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:51:19.666+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:51:19.680+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:51:19.680+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@566a6e4a]
2025-12-24T12:51:19.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:19.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e85e81] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:19.682+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1860938389 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:19.682+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:51:19.685+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:51:19.691+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:51:19.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56e85e81]
2025-12-24T12:51:19.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:19.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d0e60e] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:19.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@207142851 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:19.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T12:51:19.699+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test2(String), null, 사원(String), ACCOUNTANT(String), true(Boolean), 14(Long), APPROVED(String), 11(Long)
2025-12-24T12:51:19.714+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T12:51:19.715+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d0e60e]
2025-12-24T12:51:19.716+09:00  INFO 15680 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 사용자 role 변경 완료 - userId: 11, newRole: ACCOUNTANT
2025-12-24T12:51:19.717+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:19.717+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=role이 변경되었습니다., data=null)]
2025-12-24T12:51:19.719+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:20.639+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-24T12:51:20.644+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-24T12:51:20.656+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company
2025-12-24T12:51:20.657+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-24T12:51:20.657+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-24T12:51:20.658+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-24T12:51:20.660+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:20.661+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:20.663+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:20.664+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e775b] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:20.667+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572354070 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:20.667+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:20.672+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:20.676+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:20.676+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58e775b]
2025-12-24T12:51:20.677+09:00  INFO 15680 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:20.678+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:20.678+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:20.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:25.046+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/10/role
2025-12-24T12:51:25.060+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/10/role
2025-12-24T12:51:25.074+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/10/role
2025-12-24T12:51:25.077+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/10/role
2025-12-24T12:51:25.078+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/10/role", parameters={}
2025-12-24T12:51:25.079+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateUserRole(Long, UpdateRoleRequest)
2025-12-24T12:51:25.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.UpdateRoleRequest(role=ADMIN)]
2025-12-24T12:51:25.083+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:25.092+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:25.093+09:00  INFO 15680 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 사용자 role 변경 시도 - userId: 10, newRole: ADMIN, operatorId: 1
2025-12-24T12:51:25.094+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:25.094+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b2eac] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:25.096+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727304074 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:25.097+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:51:25.099+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2025-12-24T12:51:25.108+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:51:25.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18b2eac]
2025-12-24T12:51:25.111+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:25.111+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8c3b6c] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:25.111+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129944019 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:25.112+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:51:25.113+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:51:25.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:51:25.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8c3b6c]
2025-12-24T12:51:25.115+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:25.116+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6c5955] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:25.117+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1368414767 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:25.118+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T12:51:25.124+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test1(String), null, 사원(String), ADMIN(String), true(Boolean), 14(Long), APPROVED(String), 10(Long)
2025-12-24T12:51:25.131+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T12:51:25.131+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a6c5955]
2025-12-24T12:51:25.132+09:00  INFO 15680 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 사용자 role 변경 완료 - userId: 10, newRole: ADMIN
2025-12-24T12:51:25.133+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:25.143+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=role이 변경되었습니다., data=null)]
2025-12-24T12:51:25.144+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:28.010+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-24T12:51:28.017+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-24T12:51:28.030+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company
2025-12-24T12:51:28.032+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-24T12:51:28.032+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-24T12:51:28.033+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-24T12:51:28.036+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:28.038+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:28.039+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:28.039+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31739c30] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:28.041+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639634488 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:28.042+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:28.043+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:28.046+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:28.047+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31739c30]
2025-12-24T12:51:28.048+09:00  INFO 15680 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:28.049+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:28.049+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:28.050+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.141+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:51:30.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:51:30.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:51:30.146+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:51:30.147+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:51:30.150+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:51:30.171+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:51:30.173+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:51:30.152+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T12:51:30.172+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:51:30.174+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:51:30.178+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:51:30.178+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.175+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:51:30.177+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:51:30.179+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a649ecb] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.180+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:51:30.181+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:51:30.192+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:51:30.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:51:30.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@296282156 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:51:30.198+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.200+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7025e5b] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.200+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.205+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58be32b2] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.207+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.209+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@167964927 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:30.213+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:51:30.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T12:51:30.216+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605438269 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:30.216+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.217+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.221+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a649ecb]
2025-12-24T12:51:30.224+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T12:51:30.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7025e5b]
2025-12-24T12:51:30.233+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:51:30.234+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.239+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.240+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.240+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@58be32b2]
2025-12-24T12:51:30.242+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T12:51:30.243+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.247+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.250+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:51:30.253+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:51:30.256+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:51:30.262+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.270+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:51:30.271+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:51:30.294+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:51:30.295+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:51:30.299+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:51:30.310+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:51:30.300+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:51:30.313+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:51:30.313+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:51:30.316+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:51:30.325+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:51:30.332+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:51:30.348+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:30.349+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:51:30.362+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:30.361+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:30.364+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:30.365+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:51:30.365+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.413+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196dc3f7] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.372+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:51:30.379+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:51:30.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4664117a] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.413+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:51:30.414+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1951644344 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:30.417+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:51:30.421+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:51:30.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:51:30.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:51:30.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:51:30.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:51:30.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:51:30.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:51:30.447+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1911125459 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:30.453+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:51:30.455+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:51:30.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65871e99] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.452+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:51:30.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:30.474+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:30.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:30.476+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@845380243 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:51:30.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61de58f0] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:30.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@196dc3f7]
2025-12-24T12:51:30.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c92369] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.490+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380724316 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:30.492+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:51:30.482+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@310904523 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:30.484+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.494+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:51:30.495+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68881f93] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.509+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.509+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4664117a]
2025-12-24T12:51:30.512+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@459462135 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:51:30.516+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.518+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.519+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:51:30.523+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.525+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201d7dd0] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65871e99]
2025-12-24T12:51:30.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25c92369]
2025-12-24T12:51:30.527+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.528+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61de58f0]
2025-12-24T12:51:30.528+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294267820 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:51:30.528+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.529+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.530+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.531+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:30.531+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:51:30.531+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:51:30.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@228346c5] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.532+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:30.533+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.533+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.538+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.538+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@822711229 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:30.540+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68881f93]
2025-12-24T12:51:30.542+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:30.546+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:51:30.546+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:51:30.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:30.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:30.583+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201d7dd0]
2025-12-24T12:51:30.586+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:51:30.587+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:51:30.591+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c7490f] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.596+09:00  INFO 15680 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:30.600+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:51:30.600+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:51:30.609+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:51:30.603+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1369158947 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:51:30.606+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:30.608+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.609+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:51:30.610+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:51:30.610+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:51:30.610+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@228346c5]
2025-12-24T12:51:30.612+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:30.613+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:51:30.614+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:51:30.616+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:51:30.616+09:00  INFO 15680 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:30.617+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.620+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:51:30.622+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:30.625+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.630+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:30.627+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:30.638+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:51:30.629+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:51:30.631+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.642+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.642+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.644+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a960224] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.647+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:51:30.648+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@133ea96b] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.649+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1979367056 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:30.649+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79c7490f]
2025-12-24T12:51:30.653+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.657+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:51:30.649+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@597633263 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:30.662+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.665+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.650+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:51:30.659+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.675+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:51:30.684+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.685+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:51:30.689+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@133ea96b]
2025-12-24T12:51:30.689+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a960224]
2025-12-24T12:51:30.692+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.693+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:51:30.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138b0ed6] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.700+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5eefe8] was not registered for synchronization because synchronization is not active
2025-12-24T12:51:30.706+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1964542013 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:51:30.706+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1451445093 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:51:30.707+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:51:30.707+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:51:30.712+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:51:30.714+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:51:30.742+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:51:30.746+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@138b0ed6]
2025-12-24T12:51:30.749+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.750+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:51:30.755+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:51:30.755+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c5eefe8]
2025-12-24T12:51:30.756+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:51:30.766+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:51:30.768+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:51:30.773+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:51:30.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:04.786+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:52:04.792+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:52:04.796+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/logout
2025-12-24T12:52:04.798+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:52:04.799+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:52:04.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:52:04.822+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T12:52:04.831+09:00  INFO 15680 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=1
2025-12-24T12:52:04.832+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:04.835+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:52:04.908+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:07.215+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:52:07.219+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:52:07.219+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:52:07.220+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:52:07.220+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:52:07.221+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:52:07.222+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test2, password=1234)]
2025-12-24T12:52:07.222+09:00  INFO 15680 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test2
2025-12-24T12:52:07.223+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.223+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cb9a55b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.225+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@584762719 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:07.226+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:52:07.227+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test2(String)
2025-12-24T12:52:07.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:52:07.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cb9a55b]
2025-12-24T12:52:07.321+09:00  INFO 15680 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 11, role: ACCOUNTANT, companyId: 14
2025-12-24T12:52:07.322+09:00  INFO 15680 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=11 username=test2 role=ACCOUNTANT
2025-12-24T12:52:07.322+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:07.323+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=11, username=test2, password=nul (truncated)...]
2025-12-24T12:52:07.325+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:07.793+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:52:07.799+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:52:07.802+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/companies
2025-12-24T12:52:07.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:52:07.808+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:52:07.809+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:52:07.809+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.810+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@683543f9] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.814+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768696469 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:07.815+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:52:07.820+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 11(Long)
2025-12-24T12:52:07.843+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T12:52:07.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:07.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:07.849+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:07.849+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:07.849+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@683543f9]
2025-12-24T12:52:07.859+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:07.860+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T12:52:07.862+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:07.862+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:07.863+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:07.864+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:07.865+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:07.870+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:07.877+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:07.878+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:07.881+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:07.887+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.888+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19592ba] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.872+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:07.873+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:07.875+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:07.891+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:07.892+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:07.894+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:07.893+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:07.893+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:07.897+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:07.895+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:07.896+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:07.899+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.903+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.904+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:07.905+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4689d13c] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdfbfdb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.910+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587992253 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:07.910+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8800cd] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.911+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:07.912+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1144479545 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:07.912+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@220587650 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:07.912+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:07.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:07.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:07.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:07.914+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1466940087 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:07.914+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:07.915+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:07.921+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:07.923+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:07.924+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:07.924+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:07.925+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19592ba]
2025-12-24T12:52:07.927+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f8800cd]
2025-12-24T12:52:07.927+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4689d13c]
2025-12-24T12:52:07.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:07.936+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdfbfdb]
2025-12-24T12:52:07.930+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.939+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564b154a] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.933+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:07.934+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.939+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:07.940+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644692338 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:07.941+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:07.941+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3aa961] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.942+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:07.944+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:07.945+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:07.947+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587363177 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:07.949+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:07.949+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:07.955+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:07.960+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:07.963+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:07.963+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@564b154a]
2025-12-24T12:52:07.964+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.964+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439a3b08] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.965+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:07.965+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307940724 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:07.965+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3aa961]
2025-12-24T12:52:07.966+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:07.966+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.966+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:07.966+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccb456f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.971+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@903061046 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:07.971+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:07.972+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:07.975+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:07.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@439a3b08]
2025-12-24T12:52:07.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:07.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ccb456f]
2025-12-24T12:52:07.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb1d7c1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8380abd] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851912484 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:07.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@249480936 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:07.978+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:07.978+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:07.978+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:07.978+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:07.981+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:07.981+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:07.982+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb1d7c1]
2025-12-24T12:52:07.982+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8380abd]
2025-12-24T12:52:07.985+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.987+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.988+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4034e73f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.988+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318d0a4a] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.990+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@843661095 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:07.991+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041086756 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:07.991+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:07.992+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:07.992+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:07.992+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:07.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:07.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:07.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4034e73f]
2025-12-24T12:52:07.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@318d0a4a]
2025-12-24T12:52:07.996+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.997+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:07.997+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d8b495] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.997+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83cecf0] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:07.998+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1328718766 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:07.998+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:07.998+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1371175143 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:07.999+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:07.999+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:07.999+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:08.003+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:08.004+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:08.005+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d8b495]
2025-12-24T12:52:08.006+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83cecf0]
2025-12-24T12:52:08.007+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:08.008+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:08.008+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676e07b4] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:08.008+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22da54b5] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:08.009+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@184515536 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:08.009+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:08.009+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1307469682 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:08.010+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:08.010+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:08.012+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:08.014+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:08.014+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:08.014+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22da54b5]
2025-12-24T12:52:08.014+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676e07b4]
2025-12-24T12:52:08.015+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:08.015+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:08.015+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:08.019+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:08.021+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:08.025+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:10.204+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:52:10.205+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:52:10.206+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T12:52:10.206+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:52:10.213+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:52:10.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:52:10.224+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/me
2025-12-24T12:52:10.240+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:52:10.241+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:52:10.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:52:10.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T12:52:10.239+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/companies
2025-12-24T12:52:10.242+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:52:10.244+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/me
2025-12-24T12:52:10.246+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:52:10.244+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/companies/pending
2025-12-24T12:52:10.248+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T12:52:10.244+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:52:10.249+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:52:10.245+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 11, companyId: 14
2025-12-24T12:52:10.253+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:10.247+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:52:10.248+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T12:52:10.252+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:52:10.254+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef5bc8b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:10.254+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:52:10.255+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T12:52:10.256+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:10.258+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:10.257+09:00  INFO 15680 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 11, companyId: 14
2025-12-24T12:52:10.259+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:10.258+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1549007f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:10.259+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39498a9e] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:10.260+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f62a35a] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:10.280+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@405290607 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:10.280+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@619893879 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:10.280+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@315159549 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:10.281+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@700159665 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:10.285+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:10.281+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:10.282+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:10.282+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:10.286+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:10.291+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 11(Long), PENDING(String)
2025-12-24T12:52:10.291+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:10.292+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 11(Long)
2025-12-24T12:52:10.299+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:10.304+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ef5bc8b]
2025-12-24T12:52:10.304+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T12:52:10.305+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:10.305+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T12:52:10.305+09:00  INFO 15680 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 11, companyId: 14
2025-12-24T12:52:10.306+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39498a9e]
2025-12-24T12:52:10.306+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f62a35a]
2025-12-24T12:52:10.306+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1549007f]
2025-12-24T12:52:10.307+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:10.309+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:10.309+09:00  INFO 15680 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 11, companyId: 14
2025-12-24T12:52:10.310+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:10.311+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=11, username=test2, password= (truncated)...]
2025-12-24T12:52:10.311+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:10.312+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:10.312+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=23, userId=11, companyId (truncated)...]
2025-12-24T12:52:10.313+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:10.319+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:10.323+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=11, username=test2, password= (truncated)...]
2025-12-24T12:52:10.328+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:10.331+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:13.646+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:13.646+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:13.647+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:13.647+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:13.660+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:13.661+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:13.664+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:13.671+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:13.665+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:13.666+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:13.672+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:13.674+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:13.673+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:13.673+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:13.674+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:13.675+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:13.675+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:13.676+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:13.677+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:13.678+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.679+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:13.679+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:13.679+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:13.680+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8c356b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.681+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.682+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:13.686+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:13.686+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d6ffadf] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.686+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.687+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.691+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a17ccb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.692+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1632781864 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:13.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41894bad] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.694+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:13.695+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:13.696+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@814551324 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.697+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:13.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030683073 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:13.698+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1851914560 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:13.699+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:13.701+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:13.702+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:13.704+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b8c356b]
2025-12-24T12:52:13.704+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:13.705+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:13.705+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:13.710+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:13.711+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d6ffadf]
2025-12-24T12:52:13.712+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:13.712+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.713+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:13.715+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1054be12] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.721+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2101178952 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.722+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:13.727+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:13.730+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41894bad]
2025-12-24T12:52:13.730+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:13.732+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.732+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:13.738+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bbbbcb9] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.741+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a17ccb]
2025-12-24T12:52:13.742+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202625659 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.744+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:13.745+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:13.745+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:13.746+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:13.746+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:13.747+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:13.758+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1054be12]
2025-12-24T12:52:13.761+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.762+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:13.762+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d3357eb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.764+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bbbbcb9]
2025-12-24T12:52:13.764+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136501873 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.765+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.765+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:13.765+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6466b43e] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.766+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:13.766+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@854491775 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.770+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:13.772+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:13.776+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:13.776+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d3357eb]
2025-12-24T12:52:13.777+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.777+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e162d7b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.777+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:13.778+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@960347485 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.778+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6466b43e]
2025-12-24T12:52:13.778+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:13.779+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.780+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:13.781+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a993f4f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.781+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2073016678 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.782+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:13.783+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:13.783+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:13.788+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e162d7b]
2025-12-24T12:52:13.790+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.790+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@633d0892] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1282382971 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a993f4f]
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.791+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dfa2e71] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.792+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@511317446 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.793+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:13.794+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:13.794+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:13.794+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@633d0892]
2025-12-24T12:52:13.795+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.796+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc34d7b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.796+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:13.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dfa2e71]
2025-12-24T12:52:13.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615623049 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.797+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:13.798+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4984552] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.798+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:13.799+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@675117590 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.799+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:13.802+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:13.802+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:13.805+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc34d7b]
2025-12-24T12:52:13.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca6d3b8] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1497101250 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:13.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:13.807+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:13.807+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:13.807+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4984552]
2025-12-24T12:52:13.808+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:13.809+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@381e1e3b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:13.811+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2129297087 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:13.811+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:13.812+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:13.812+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ca6d3b8]
2025-12-24T12:52:13.813+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:13.813+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:13.814+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:13.825+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:13.826+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:13.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@381e1e3b]
2025-12-24T12:52:13.862+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:13.873+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:13.875+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:15.773+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-24T12:52:15.774+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:15.774+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-24T12:52:15.775+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-24T12:52:15.779+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T12:52:15.785+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-24T12:52:15.789+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:15.805+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-24T12:52:15.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-24T12:52:15.810+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T12:52:15.821+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-24T12:52:15.835+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/stats
2025-12-24T12:52:15.842+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-24T12:52:15.840+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-24T12:52:15.840+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:15.842+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-24T12:52:15.844+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/status-stats
2025-12-24T12:52:15.844+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/stats
2025-12-24T12:52:15.845+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-24T12:52:15.846+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:15.846+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-24T12:52:15.856+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-24T12:52:15.847+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-24T12:52:15.860+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-24T12:52:15.847+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-24T12:52:15.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T12:52:15.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-24T12:52:15.850+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:15.874+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-24T12:52:15.858+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-24T12:52:15.861+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-24T12:52:15.865+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/category-ratio
2025-12-24T12:52:15.867+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/subscriptions/current
2025-12-24T12:52:15.873+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.876+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-24T12:52:15.876+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.891+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.885+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.887+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-24T12:52:15.887+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T12:52:15.890+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.891+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.892+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.892+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.893+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-24T12:52:15.893+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T12:52:15.904+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T12:52:15.896+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:15.904+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b3a3fc] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:15.899+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:15.900+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:15.903+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:15.903+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-24T12:52:15.904+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T12:52:15.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107a2605] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:15.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279a5bc5] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:15.909+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6453c6] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:15.911+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@58cc8ea4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-24T12:52:15.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@316374763 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:15.920+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-24T12:52:15.915+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:15.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 14(Long)
2025-12-24T12:52:15.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-24T12:52:15.923+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:15.924+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9f3f71] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:15.924+09:00  WARN 15680 --- [http-nio-8080-exec-3] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-24T12:52:15.925+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1579063768 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:15.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-24T12:52:15.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:15.930+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149877503 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:15.931+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1248882438 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:15.931+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 14(Long)
2025-12-24T12:52:15.932+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-24T12:52:15.938+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-24T12:52:15.940+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871175864 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:15.981+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-24T12:52:15.941+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-24T12:52:15.941+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-24T12:52:15.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b3a3fc]
2025-12-24T12:52:15.944+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-24T12:52:15.978+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 14(Long)
2025-12-24T12:52:15.982+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 14(Long)
2025-12-24T12:52:15.993+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 14(Long)
2025-12-24T12:52:15.996+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 2
2025-12-24T12:52:16.013+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@107a2605]
2025-12-24T12:52:16.000+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.004+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-24T12:52:16.014+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.015+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=70000, totalCoun (truncated)...]
2025-12-24T12:52:16.022+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:16.032+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=PAID, count=1, totalAmou (truncated)...]
2025-12-24T12:52:16.033+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-24T12:52:16.047+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9f3f71]
2025-12-24T12:52:16.040+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.044+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:16.048+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.055+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.063+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-24T12:52:16.057+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-24T12:52:16.061+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-24T12:52:16.062+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:16.063+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=기타, amount=50000,  (truncated)...]
2025-12-24T12:52:16.072+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/category-ratio
2025-12-24T12:52:16.074+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/status-stats
2025-12-24T12:52:16.074+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6453c6]
2025-12-24T12:52:16.077+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-24T12:52:16.078+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-24T12:52:16.081+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-24T12:52:16.078+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-24T12:52:16.087+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-24T12:52:16.080+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-24T12:52:16.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.082+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.084+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-24T12:52:16.086+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-24T12:52:16.093+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279a5bc5]
2025-12-24T12:52:16.090+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-24T12:52:16.090+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:16.091+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=70000, totalCoun (truncated)...]
2025-12-24T12:52:16.093+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T12:52:16.093+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:16.095+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.095+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:16.096+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:16.097+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.103+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/subscriptions/current
2025-12-24T12:52:16.104+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:16.107+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-24T12:52:16.108+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:16.108+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:16.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T12:52:16.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:16.112+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.113+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:16.113+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641beefb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:16.113+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T12:52:16.114+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a78cabe] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:16.117+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670ce125] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:16.118+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728677615 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:16.120+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T12:52:16.121+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@108697463 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:16.121+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365295406 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:16.123+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-24T12:52:16.125+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T12:52:16.125+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-24T12:52:16.125+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-24T12:52:16.126+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 14(Long)
2025-12-24T12:52:16.126+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController] with authorization manager org.springframework.security.authorization.method.PreAuthorizeAuthorizationManager@58cc8ea4 and result ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAnyRole('CEO', 'ADMIN')]
2025-12-24T12:52:16.126+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 14(Long)
2025-12-24T12:52:16.127+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 14(Long)
2025-12-24T12:52:16.129+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.innersignature.backend.exception.GlobalExceptionHandler#handleAccessDeniedException(AccessDeniedException)
2025-12-24T12:52:16.131+09:00  WARN 15680 --- [http-nio-8080-exec-1] c.i.b.exception.GlobalExceptionHandler   : 권한 부족: Access Denied
2025-12-24T12:52:16.132+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.137+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-24T12:52:16.138+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, message=접근 권한이 없습니다., data=null)]
2025-12-24T12:52:16.140+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@641beefb]
2025-12-24T12:52:16.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 2
2025-12-24T12:52:16.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-24T12:52:16.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2025-12-24T12:52:16.143+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.143+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@670ce125]
2025-12-24T12:52:16.144+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a78cabe]
2025-12-24T12:52:16.144+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 403 FORBIDDEN
2025-12-24T12:52:16.145+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-24T12:52:16.147+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.148+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:16.157+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.160+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=APPROVED, count=1, total (truncated)...]
2025-12-24T12:52:16.161+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=기타, amount=50000,  (truncated)...]
2025-12-24T12:52:16.162+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.181+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:16.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/stats
2025-12-24T12:52:16.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:16.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/status-stats
2025-12-24T12:52:16.977+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/dashboard/category-ratio
2025-12-24T12:52:16.986+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/stats
2025-12-24T12:52:16.988+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:17.045+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/status-stats
2025-12-24T12:52:17.046+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/dashboard/category-ratio
2025-12-24T12:52:17.062+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/stats
2025-12-24T12:52:17.117+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/stats
2025-12-24T12:52:17.098+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:17.104+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/status-stats
2025-12-24T12:52:17.107+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/dashboard/category-ratio
2025-12-24T12:52:17.120+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/stats", parameters={}
2025-12-24T12:52:17.130+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/monthly-trend
2025-12-24T12:52:17.138+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/status-stats
2025-12-24T12:52:17.140+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/dashboard/category-ratio
2025-12-24T12:52:17.140+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getDashboardStats(String, String)
2025-12-24T12:52:17.141+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/monthly-trend", parameters={}
2025-12-24T12:52:17.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.141+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/status-stats", parameters={}
2025-12-24T12:52:17.142+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/dashboard/category-ratio", parameters={}
2025-12-24T12:52:17.143+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getMonthlyTrend(String, String)
2025-12-24T12:52:17.145+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getDashboardStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.145+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getStatusStats(String, String)
2025-12-24T12:52:17.145+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getCategoryRatio(String, String)
2025-12-24T12:52:17.146+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.147+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:17.148+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.150+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getStatusStats(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.148+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.149+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getMonthlyTrend(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.149+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d5dd0] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:17.153+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:17.154+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.ExpenseController.getCategoryRatio(java.lang.String,java.lang.String); target is of class [com.innersignature.backend.controller.ExpenseController]
2025-12-24T12:52:17.155+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:17.156+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f343bc5] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:17.156+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:17.156+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7212374c] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:17.159+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fcd1d99] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:17.160+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@938526075 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:17.161+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1400262163 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:17.161+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==>  Preparing: SELECT COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS totalCount, COALESCE(AVG(total_amount), 0) AS averageAmount, COALESCE(MAX(total_amount), 0) AS maxAmount, COALESCE(MIN(total_amount), 0) AS minAmount, SUM(CASE WHEN status = 'PENDING' THEN 1 ELSE 0 END) AS pendingCount FROM expense_report_tb WHERE company_id = ?
2025-12-24T12:52:17.161+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==>  Preparing: SELECT status, COUNT(*) AS count, COALESCE(SUM(total_amount), 0) AS totalAmount FROM expense_report_tb WHERE company_id = ? GROUP BY status ORDER BY count DESC
2025-12-24T12:52:17.163+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@797933615 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:17.163+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1493722735 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:17.164+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : ==> Parameters: 14(Long)
2025-12-24T12:52:17.165+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : ==> Parameters: 14(Long)
2025-12-24T12:52:17.165+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==>  Preparing: SELECT d.category AS category, COALESCE(SUM(d.amount), 0) AS amount, 0.0 AS ratio FROM expense_detail_tb d JOIN expense_report_tb r ON d.expense_report_id = r.expense_report_id WHERE r.company_id = ? GROUP BY d.category ORDER BY amount DESC
2025-12-24T12:52:17.166+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : ==>  Preparing: SELECT DATE_FORMAT(report_date, '%Y-%m') AS yearMonth, COALESCE(SUM(total_amount), 0) AS totalAmount, COUNT(*) AS count FROM expense_report_tb WHERE company_id = ? GROUP BY DATE_FORMAT(report_date, '%Y-%m') ORDER BY yearMonth ASC
2025-12-24T12:52:17.172+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : ==> Parameters: 14(Long)
2025-12-24T12:52:17.173+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : ==> Parameters: 14(Long)
2025-12-24T12:52:17.175+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectDashboardStats           : <==      Total: 1
2025-12-24T12:52:17.175+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.ExpenseMapper.selectStatusStats  : <==      Total: 2
2025-12-24T12:52:17.178+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@403d5dd0]
2025-12-24T12:52:17.179+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f343bc5]
2025-12-24T12:52:17.180+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.E.selectMonthlyTrend             : <==      Total: 1
2025-12-24T12:52:17.180+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:17.180+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.E.selectCategoryRatio            : <==      Total: 2
2025-12-24T12:52:17.181+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:17.186+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=상태별 통계 조회 성공, data=[StatusStatsDto(status=PAID, count=1, totalAmou (truncated)...]
2025-12-24T12:52:17.181+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7212374c]
2025-12-24T12:52:17.182+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=대시보드 통계 조회 성공, data=DashboardStatsDto(totalAmount=70000, totalCoun (truncated)...]
2025-12-24T12:52:17.184+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fcd1d99]
2025-12-24T12:52:17.188+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:17.188+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:17.190+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:17.191+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:17.192+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=월별 추이 조회 성공, data=[MonthlyTrendDto(yearMonth=2025-12, totalAmount= (truncated)...]
2025-12-24T12:52:17.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=카테고리별 비율 조회 성공, data=[CategoryRatioDto(category=기타, amount=50000,  (truncated)...]
2025-12-24T12:52:17.204+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:17.208+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:18.429+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:18.429+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:18.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:18.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:18.436+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:18.439+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:18.439+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:18.443+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:18.440+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:18.441+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:18.443+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:18.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:18.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:18.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:18.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:18.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:18.450+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:18.452+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:18.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:18.455+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:18.455+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:18.455+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.456+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:18.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:18.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5adc11] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.458+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bbac970] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:18.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7276e12c] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2dc263] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122384067 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:18.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025649884 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:18.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:18.470+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:18.470+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:18.475+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1584134409 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:18.475+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856875908 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:18.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:18.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:18.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:18.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:18.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:18.486+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bbac970]
2025-12-24T12:52:18.486+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a5adc11]
2025-12-24T12:52:18.487+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:18.488+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:18.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26094191] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.490+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:18.493+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1950263153 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.498+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:18.505+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:18.508+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:18.509+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:18.511+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7276e12c]
2025-12-24T12:52:18.512+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d2dc263]
2025-12-24T12:52:18.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:18.513+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:18.514+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f210aa] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.514+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26094191]
2025-12-24T12:52:18.515+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:18.516+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@989929424 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.520+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.521+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:18.525+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:18.525+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fea63cd] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:18.527+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1669574248 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.527+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:18.529+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:18.530+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:18.531+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f210aa]
2025-12-24T12:52:18.533+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.535+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:18.536+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbc4365] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.537+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fea63cd]
2025-12-24T12:52:18.537+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@708607800 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.538+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.540+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:18.541+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bb75cf1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.541+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:18.542+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1461695041 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.543+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:18.544+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:18.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:18.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:18.549+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5dbc4365]
2025-12-24T12:52:18.550+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bb75cf1]
2025-12-24T12:52:18.553+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.554+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.556+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b34632b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.556+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@770a5ee8] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.558+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@70039619 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.558+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181471788 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.559+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:18.559+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:18.560+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:18.560+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:18.563+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:18.563+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:18.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@770a5ee8]
2025-12-24T12:52:18.564+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b34632b]
2025-12-24T12:52:18.565+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.570+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c85031] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.566+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.573+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5418604f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.573+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829812958 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.573+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1278045404 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.574+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:18.574+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:18.575+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:18.576+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:18.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:18.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:18.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c85031]
2025-12-24T12:52:18.581+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5418604f]
2025-12-24T12:52:18.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5d687d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.582+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665b5685] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.589+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1948186207 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:18.589+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:18.590+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1901479961 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.590+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:18.591+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:18.592+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:18.594+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:18.594+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:18.595+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@665b5685]
2025-12-24T12:52:18.597+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e5d687d]
2025-12-24T12:52:18.597+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:18.598+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:18.598+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a790fe5] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:18.598+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:18.599+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1454015313 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:18.600+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:18.605+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:18.615+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:18.628+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:18.630+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a790fe5]
2025-12-24T12:52:18.638+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:18.638+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:18.642+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:19.427+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:52:19.427+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:52:19.428+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:52:19.428+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T12:52:19.433+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:52:19.437+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T12:52:19.433+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:52:19.438+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:52:19.439+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/me
2025-12-24T12:52:19.441+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/companies/pending
2025-12-24T12:52:19.441+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/companies
2025-12-24T12:52:19.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/me
2025-12-24T12:52:19.453+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:52:19.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:52:19.455+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:52:19.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T12:52:19.456+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T12:52:19.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:52:19.455+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:52:19.456+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:52:19.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T12:52:19.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:52:19.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:52:19.461+09:00  INFO 15680 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 11, companyId: 14
2025-12-24T12:52:19.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:19.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64443d55] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:19.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:52:19.463+09:00  INFO 15680 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 11, companyId: 14
2025-12-24T12:52:19.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:19.471+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@626077773 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:19.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:19.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:19.471+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a863e1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:19.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:19.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ce8fea] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:19.473+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c37e5ec] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:19.475+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 11(Long), PENDING(String)
2025-12-24T12:52:19.476+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@575776619 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:19.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:19.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:19.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T12:52:19.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1533453407 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:19.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@47916586 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:19.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64443d55]
2025-12-24T12:52:19.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:19.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:19.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:19.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:19.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:19.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 11(Long)
2025-12-24T12:52:19.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:19.482+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34a863e1]
2025-12-24T12:52:19.483+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:19.487+09:00  INFO 15680 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 11, companyId: 14
2025-12-24T12:52:19.488+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:19.489+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T12:52:19.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:19.502+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c37e5ec]
2025-12-24T12:52:19.503+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ce8fea]
2025-12-24T12:52:19.503+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=11, username=test2, password= (truncated)...]
2025-12-24T12:52:19.505+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:19.505+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=23, userId=11, companyId (truncated)...]
2025-12-24T12:52:19.504+09:00  INFO 15680 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 11, companyId: 14
2025-12-24T12:52:19.506+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:19.507+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:19.507+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:19.512+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=11, username=test2, password= (truncated)...]
2025-12-24T12:52:19.514+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:22.332+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:22.333+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:22.333+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:22.334+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:22.342+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:22.342+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:22.344+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:22.345+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:22.348+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:22.348+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:22.358+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:22.354+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:22.357+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:22.358+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:22.358+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:22.361+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:22.362+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:22.358+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:22.359+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:22.359+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:22.362+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.376+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e971cfa] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.363+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:22.364+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:22.375+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:22.379+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:22.380+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.382+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.386+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.386+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e3198cb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.387+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626697b1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.387+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27db8da5] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.391+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@930805977 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:22.392+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:22.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1148366734 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@480985628 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996842948 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:22.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:22.394+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:22.394+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:22.394+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:22.395+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:22.395+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:22.396+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:22.397+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:22.400+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e971cfa]
2025-12-24T12:52:22.402+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:22.402+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:22.404+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@626697b1]
2025-12-24T12:52:22.403+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:22.403+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:22.403+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e3198cb]
2025-12-24T12:52:22.404+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.405+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:22.405+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27db8da5]
2025-12-24T12:52:22.405+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.405+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5137d860] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.406+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:22.406+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:22.406+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d767e99] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@740620849 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:22.409+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@826395525 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.410+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:22.411+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:22.413+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:22.412+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:22.415+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:22.417+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:22.422+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5137d860]
2025-12-24T12:52:22.422+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:22.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d767e99]
2025-12-24T12:52:22.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5564bd] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1380868015 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653b1a29] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:22.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996614817 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:22.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:22.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:22.429+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:22.430+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:22.430+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5564bd]
2025-12-24T12:52:22.430+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653b1a29]
2025-12-24T12:52:22.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfc8e26] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.431+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14acde23] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788505480 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.433+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:22.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@704345293 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.438+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:22.438+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:22.439+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:22.441+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:22.442+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cfc8e26]
2025-12-24T12:52:22.442+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.443+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f3224d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.442+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:22.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224793451 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14acde23]
2025-12-24T12:52:22.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:22.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:22.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b93720] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1930870002 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:22.447+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:22.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:22.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15f3224d]
2025-12-24T12:52:22.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:22.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b93720]
2025-12-24T12:52:22.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310798d8] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.452+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730b42ee] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.452+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1030366719 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.453+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@994278296 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.453+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:22.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:22.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:22.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:22.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:22.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@730b42ee]
2025-12-24T12:52:22.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3319663a] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@439115397 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:22.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:22.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:22.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:22.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310798d8]
2025-12-24T12:52:22.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:22.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a32afdc] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:22.465+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2004760858 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:22.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:22.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:22.467+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:22.470+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3319663a]
2025-12-24T12:52:22.471+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:22.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:22.474+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:22.492+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:22.493+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a32afdc]
2025-12-24T12:52:22.493+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:22.494+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:22.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:23.414+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:52:23.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:52:23.427+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/logout
2025-12-24T12:52:23.428+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:52:23.428+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:52:23.428+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:52:23.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-24T12:52:23.435+09:00  INFO 15680 --- [http-nio-8080-exec-9] SECURITY                                 : LOGOUT userId=11
2025-12-24T12:52:23.441+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:23.443+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:52:23.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:26.446+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:52:26.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:52:26.450+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:52:26.450+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:52:26.451+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:52:26.451+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:52:26.452+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T12:52:26.453+09:00  INFO 15680 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T12:52:26.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.454+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27856587] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812379306 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:26.461+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:52:26.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T12:52:26.469+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:52:26.470+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27856587]
2025-12-24T12:52:26.555+09:00  INFO 15680 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 14
2025-12-24T12:52:26.556+09:00  INFO 15680 --- [http-nio-8080-exec-1] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T12:52:26.556+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:26.557+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T12:52:26.558+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:26.786+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:52:26.795+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:52:26.799+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T12:52:26.805+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:52:26.806+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:52:26.807+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:52:26.811+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.812+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257f49fd] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.817+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1770793924 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:26.833+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:52:26.823+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:26.827+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:52:26.830+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:52:26.830+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:52:26.837+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T12:52:26.838+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:26.840+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:52:26.844+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T12:52:26.844+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:52:26.846+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:26.846+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@257f49fd]
2025-12-24T12:52:26.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:26.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T12:52:26.848+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:52:26.849+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:26.849+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:26.852+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:26.858+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:26.853+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:52:26.853+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:52:26.854+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:52:26.857+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:26.860+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.863+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72186191] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.861+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:52:26.861+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:26.862+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:52:26.863+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:52:26.874+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:26.864+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@977438875 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:26.865+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:52:26.871+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:52:26.872+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:52:26.873+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:52:26.875+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:26.875+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:26.877+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:52:26.877+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:26.878+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:52:26.887+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:26.879+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:52:26.880+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:26.885+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:26.885+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:52:26.887+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:52:26.888+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.898+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3734556e] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.891+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:52:26.894+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.896+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:26.898+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:52:26.900+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:26.905+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.905+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b6d24e] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.905+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:26.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:26.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72186191]
2025-12-24T12:52:26.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.913+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7153459c] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.914+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089906382 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:26.914+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:26.914+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:52:26.906+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96b6c1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.912+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.912+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.920+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@234270db] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.920+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625085412 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:26.923+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:26.920+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9f070f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:26.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1657204027 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:26.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@459733109 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:26.922+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1963705142 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:26.925+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:52:26.927+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7153459c]
2025-12-24T12:52:26.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:26.929+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1390520317 wrapping com.mysql.cj.jdbc.ConnectionImpl@36c6dbde] will not be managed by Spring
2025-12-24T12:52:26.938+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:26.931+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:26.931+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:52:26.932+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.946+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:52:26.936+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:26.943+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:52:26.945+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:26.946+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b872b7d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.947+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:26.958+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@546564148 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:26.958+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3734556e]
2025-12-24T12:52:26.959+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:26.961+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:26.961+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:26.963+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:26.972+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:52:26.974+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:26.975+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@234270db]
2025-12-24T12:52:26.975+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:26.976+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:26.978+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:26.979+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:26.979+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:52:26.980+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:26.989+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9f070f]
2025-12-24T12:52:26.990+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62b6d24e]
2025-12-24T12:52:26.990+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b872b7d]
2025-12-24T12:52:26.991+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b96b6c1]
2025-12-24T12:52:26.992+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:26.992+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:52:26.993+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:26.993+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:26.995+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:26.996+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:26.997+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:52:26.998+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:26.998+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174bc27a] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.998+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c21deb1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:26.999+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:52:27.004+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:52:27.006+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:27.009+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1065439991 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:27.010+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1041225867 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:27.011+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:27.012+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:52:27.015+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:27.018+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:27.019+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:27.020+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:52:27.025+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:27.026+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:27.064+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.065+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@143b7d4d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.109+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:27.110+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:27.119+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033600563 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:27.130+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c21deb1]
2025-12-24T12:52:27.134+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@174bc27a]
2025-12-24T12:52:27.135+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:52:27.136+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.136+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.149+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73be5a73] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.137+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:52:27.148+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6377a82e] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.150+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@984555116 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:27.163+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@560015015 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:27.163+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:27.164+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:27.164+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:27.168+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:52:27.169+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:52:27.171+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@143b7d4d]
2025-12-24T12:52:27.172+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:27.173+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:27.174+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:27.174+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:27.175+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:27.179+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6377a82e]
2025-12-24T12:52:27.179+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73be5a73]
2025-12-24T12:52:27.180+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.180+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.181+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72325b7e] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.182+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbbe05b] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.182+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@752528334 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:27.184+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978802845 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:27.188+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:27.188+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:27.189+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:27.189+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:27.191+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:27.191+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:27.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbbe05b]
2025-12-24T12:52:27.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72325b7e]
2025-12-24T12:52:27.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.193+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.195+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36b2ab91] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.194+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1084922d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.195+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1446768530 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:27.196+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1951990110 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:27.196+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:27.196+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:27.196+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:52:27.196+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:52:27.198+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:27.198+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:27.198+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1084922d]
2025-12-24T12:52:27.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36b2ab91]
2025-12-24T12:52:27.199+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.200+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:27.201+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47dec0e1] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.202+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:27.203+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1937713101 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:27.205+09:00 DEBUG 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:27.205+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:27.207+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:27.209+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:27.210+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47dec0e1]
2025-12-24T12:52:27.210+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:27.211+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a98d3eb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:27.211+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1542512529 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:27.212+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:27.212+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:52:27.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:27.214+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a98d3eb]
2025-12-24T12:52:27.215+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:27.220+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:27.224+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:29.222+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:52:29.223+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:52:29.226+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:52:29.227+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:52:29.228+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:52:29.228+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:52:29.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:52:29.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:52:29.229+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:52:29.231+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:52:29.230+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:52:29.286+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:52:29.321+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.322+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.322+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c5dde2] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.322+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63791d55] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.325+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1185918107 wrapping com.mysql.cj.jdbc.ConnectionImpl@2725b846] will not be managed by Spring
2025-12-24T12:52:29.326+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:29.327+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732666017 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:29.328+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:29.338+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:29.342+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:29.349+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:29.353+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:29.353+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63791d55]
2025-12-24T12:52:29.354+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55c5dde2]
2025-12-24T12:52:29.354+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:29.355+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:29.356+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:52:29.357+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:52:29.358+09:00 DEBUG 15680 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:29.358+09:00 DEBUG 15680 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:29.365+09:00 DEBUG 15680 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:52:29.365+09:00 DEBUG 15680 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:52:29.365+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:52:29.369+09:00 DEBUG 15680 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:52:29.374+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:52:29.377+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:52:29.375+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:52:29.381+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:52:29.378+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:52:29.381+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:52:29.390+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:52:29.390+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:52:29.392+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:52:29.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:52:29.392+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:52:29.392+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:52:29.394+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:52:29.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:52:29.396+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:52:29.393+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:52:29.396+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:52:29.397+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:52:29.397+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:52:29.398+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:52:29.398+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:52:29.399+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:29.405+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.406+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:52:29.406+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:52:29.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:29.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47dd4d30] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.407+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.409+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b06d92] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.408+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:52:29.408+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.413+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:29.413+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a38eba4] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.421+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1053969744 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:29.415+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:52:29.416+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445049907 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:29.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:29.423+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:29.424+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1807890823 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:29.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:29.425+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fde03c3] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:29.426+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:29.430+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783988933 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:29.432+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:29.436+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:29.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:52:29.444+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:29.445+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:29.448+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8b06d92]
2025-12-24T12:52:29.449+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47dd4d30]
2025-12-24T12:52:29.456+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.458+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a33676] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.457+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.459+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1541858454 wrapping com.mysql.cj.jdbc.ConnectionImpl@6691e69a] will not be managed by Spring
2025-12-24T12:52:29.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:52:29.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ca9101] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:29.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819108264 wrapping com.mysql.cj.jdbc.ConnectionImpl@4addd9f8] will not be managed by Spring
2025-12-24T12:52:29.460+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:52:29.462+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:52:29.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a38eba4]
2025-12-24T12:52:29.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:52:29.463+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fde03c3]
2025-12-24T12:52:29.464+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:52:29.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:29.470+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f7968d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.471+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033734539 wrapping com.mysql.cj.jdbc.ConnectionImpl@60273184] will not be managed by Spring
2025-12-24T12:52:29.471+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:52:29.472+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:52:29.466+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399d5ccb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:29.474+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336003079 wrapping com.mysql.cj.jdbc.ConnectionImpl@63d07284] will not be managed by Spring
2025-12-24T12:52:29.476+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:52:29.477+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:52:29.478+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:52:29.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14a33676]
2025-12-24T12:52:29.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:52:29.479+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:29.480+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9ca9101]
2025-12-24T12:52:29.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:29.481+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:52:29.484+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:29.499+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:29.493+09:00 DEBUG 15680 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:29.495+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399d5ccb]
2025-12-24T12:52:29.496+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:52:29.510+09:00 DEBUG 15680 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:29.511+09:00  INFO 15680 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:52:29.512+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f7968d]
2025-12-24T12:52:29.515+09:00  INFO 15680 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:52:29.516+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:29.521+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:52:29.512+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:29.523+09:00 DEBUG 15680 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:29.524+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:52:29.526+09:00 DEBUG 15680 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:41.843+09:00  INFO 23260 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 23260 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T12:52:41.860+09:00 DEBUG 23260 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T12:52:41.898+09:00  INFO 23260 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T12:52:44.329+09:00 DEBUG 23260 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T12:52:44.341+09:00 DEBUG 23260 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T12:52:44.828+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T12:52:44.830+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T12:52:44.830+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T12:52:44.831+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T12:52:44.832+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T12:52:44.833+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T12:52:44.834+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T12:52:44.838+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T12:52:44.853+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T12:52:44.859+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T12:52:44.861+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T12:52:44.862+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T12:52:44.864+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T12:52:44.865+09:00 DEBUG 23260 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T12:52:45.843+09:00  INFO 23260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T12:52:45.865+09:00  INFO 23260 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T12:52:45.867+09:00  INFO 23260 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T12:52:45.978+09:00  INFO 23260 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T12:52:45.979+09:00  INFO 23260 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3843 ms
2025-12-24T12:52:46.128+09:00 DEBUG 23260 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T12:52:46.144+09:00 DEBUG 23260 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T12:52:46.887+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T12:52:46.979+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T12:52:47.022+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T12:52:47.074+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T12:52:47.096+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T12:52:47.114+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T12:52:47.171+09:00 DEBUG 23260 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T12:52:47.869+09:00 DEBUG 23260 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T12:52:48.024+09:00 DEBUG 23260 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T12:52:48.105+09:00  WARN 23260 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 52ee6a10-6080-4af4-85b2-4b1748d70370

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T12:52:48.190+09:00  INFO 23260 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T12:52:48.444+09:00 DEBUG 23260 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T12:52:48.648+09:00 DEBUG 23260 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T12:52:48.821+09:00 DEBUG 23260 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T12:52:48.843+09:00 DEBUG 23260 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T12:52:49.190+09:00  INFO 23260 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T12:52:49.237+09:00  INFO 23260 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.67 seconds (process running for 9.311)
2025-12-24T12:52:51.069+09:00  INFO 23260 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T12:52:51.070+09:00  INFO 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T12:52:51.072+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T12:52:51.073+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T12:52:51.074+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T12:52:51.075+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a4df251
2025-12-24T12:52:51.076+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@369ad7da
2025-12-24T12:52:51.085+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T12:52:51.088+09:00  INFO 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 16 ms
2025-12-24T12:52:51.156+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:52:51.202+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:52:51.353+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/logout
2025-12-24T12:52:51.359+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:52:51.368+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:52:51.370+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:52:51.463+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T12:52:51.471+09:00  INFO 23260 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=1
2025-12-24T12:52:51.495+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:51.503+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:52:51.517+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:53.601+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:52:53.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:52:53.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:52:53.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:52:53.609+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:52:53.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:52:53.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test2, password=1234)]
2025-12-24T12:52:53.615+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test2
2025-12-24T12:52:53.628+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:53.634+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e21fcc] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:53.645+09:00  INFO 23260 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T12:52:53.943+09:00  INFO 23260 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3363dc5b
2025-12-24T12:52:53.949+09:00  INFO 23260 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T12:52:53.960+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652536622 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:52:53.973+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:52:54.042+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test2(String)
2025-12-24T12:52:54.140+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:52:54.150+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e21fcc]
2025-12-24T12:52:54.313+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 11, role: ACCOUNTANT, companyId: 14
2025-12-24T12:52:54.315+09:00  INFO 23260 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=11 username=test2 role=ACCOUNTANT
2025-12-24T12:52:54.317+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:54.325+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=11, username=test2, password=nul (truncated)...]
2025-12-24T12:52:54.347+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:54.930+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:52:54.942+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:52:54.969+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/companies
2025-12-24T12:52:54.973+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:54.976+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:52:54.976+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:54.977+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:54.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:52:55.012+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:55.015+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:55.013+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:55.013+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:52:55.029+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:55.013+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:52:55.023+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:52:55.025+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:55.030+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/expenses
2025-12-24T12:52:55.030+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:55.031+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:52:55.035+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=11
2025-12-24T12:52:55.039+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:55.042+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.040+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:52:55.040+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:55.042+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=11", parameters={masked}
2025-12-24T12:52:55.042+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:55.043+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49eec497] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.044+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:52:55.044+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:55.044+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:52:55.045+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:55.047+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:52:55.048+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.049+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.056+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.055+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d832a05] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.055+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.056+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c4294c] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.056+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6609bb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.057+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d0c7f4] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.062+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1968449024 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:52:55.067+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1405930930 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:52:55.069+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2110133674 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:52:55.071+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:52:55.074+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:55.075+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:52:55.078+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 11(Long)
2025-12-24T12:52:55.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:55.095+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 11(Long), 14(Long)
2025-12-24T12:52:55.110+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:55.111+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@759056368 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.113+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d832a05]
2025-12-24T12:52:55.111+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1997607123 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.111+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:52:55.112+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T12:52:55.113+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:55.114+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:55.119+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:55.114+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:55.115+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c4294c]
2025-12-24T12:52:55.117+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49eec497]
2025-12-24T12:52:55.118+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:55.121+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:55.122+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:55.123+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:55.127+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:55.128+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:52:55.129+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:55.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T12:52:55.196+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:55.206+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:55.221+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46d0c7f4]
2025-12-24T12:52:55.223+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.229+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:55.230+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a5d31d] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.230+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6609bb]
2025-12-24T12:52:55.231+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1289324997 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.232+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.232+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:55.234+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462b1550] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.235+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:55.237+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886926173 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.238+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:55.240+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:55.240+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:55.241+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71a5d31d]
2025-12-24T12:52:55.244+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.245+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbfa769] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.245+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:55.246+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@462b1550]
2025-12-24T12:52:55.246+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.247+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64edf168] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.247+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572663413 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.248+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:55.248+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149630478 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.249+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:55.249+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:55.251+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:55.255+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:55.255+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:55.256+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64edf168]
2025-12-24T12:52:55.256+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbfa769]
2025-12-24T12:52:55.257+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.258+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec6e7] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c41737] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325367807 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.260+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:55.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1647713924 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:55.268+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:52:55.270+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:52:55.273+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:55.273+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:52:55.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60ec6e7]
2025-12-24T12:52:55.277+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c41737]
2025-12-24T12:52:55.277+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.277+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.278+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bceb699] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.278+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@221c2e69] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.280+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649577703 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.280+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585230514 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.283+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:55.284+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:55.285+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:55.287+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:55.294+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:55.294+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:55.295+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bceb699]
2025-12-24T12:52:55.295+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@221c2e69]
2025-12-24T12:52:55.296+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.297+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.297+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2413fe4f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.300+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332e9fa8] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.304+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@719842858 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.307+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1879212226 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.309+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:55.309+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:52:55.310+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:55.310+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:52:55.321+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:55.326+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:52:55.327+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@332e9fa8]
2025-12-24T12:52:55.329+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2413fe4f]
2025-12-24T12:52:55.331+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.332+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:55.342+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445f931c] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.342+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7437497f] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:55.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99359290 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:55.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1864161156 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:52:55.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:55.344+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:55.344+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:55.345+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:55.351+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:55.351+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:55.355+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@445f931c]
2025-12-24T12:52:55.356+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7437497f]
2025-12-24T12:52:55.358+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:55.359+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:55.392+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:55.392+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:52:55.444+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:55.445+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:57.945+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:52:57.945+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:52:57.945+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T12:52:57.946+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:52:57.953+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:52:57.957+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:52:57.959+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/me
2025-12-24T12:52:57.963+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T12:52:57.962+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:52:57.971+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/companies
2025-12-24T12:52:57.974+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:52:57.969+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:52:57.973+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/companies/pending
2025-12-24T12:52:57.974+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/users/me
2025-12-24T12:52:57.974+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:52:57.975+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:52:57.976+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T12:52:57.977+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:52:57.977+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:52:57.978+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:52:57.978+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T12:52:57.979+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:52:57.980+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:57.981+09:00  INFO 23260 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 11, companyId: 14
2025-12-24T12:52:57.985+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T12:52:57.985+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:52:57.986+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b42f2] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:57.989+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:57.990+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:57.990+09:00  INFO 23260 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 11, companyId: 14
2025-12-24T12:52:57.991+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42288ce0] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:57.991+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317b95fb] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:57.991+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:52:57.994+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516a1124] was not registered for synchronization because synchronization is not active
2025-12-24T12:52:57.995+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221650320 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:52:57.995+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@993182891 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:52:57.995+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1203678536 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:52:57.996+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:57.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:57.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:52:57.998+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:58.006+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 11(Long)
2025-12-24T12:52:58.003+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@337663060 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:52:58.003+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 11(Long), PENDING(String)
2025-12-24T12:52:58.008+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:52:58.010+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 11(Long)
2025-12-24T12:52:58.014+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:58.020+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42288ce0]
2025-12-24T12:52:58.021+09:00  INFO 23260 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 11, companyId: 14
2025-12-24T12:52:58.023+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:58.024+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T12:52:58.024+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T12:52:58.024+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:52:58.027+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=11, username=test2, password= (truncated)...]
2025-12-24T12:52:58.028+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317b95fb]
2025-12-24T12:52:58.028+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52b42f2]
2025-12-24T12:52:58.028+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516a1124]
2025-12-24T12:52:58.029+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:58.031+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:58.039+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:58.039+09:00  INFO 23260 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 11, companyId: 14
2025-12-24T12:52:58.040+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:52:58.044+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:52:58.071+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=11, username=test2, password= (truncated)...]
2025-12-24T12:52:58.046+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:58.056+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=23, userId=11, companyId (truncated)...]
2025-12-24T12:52:58.077+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:52:58.081+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:00.869+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:53:00.877+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:53:00.883+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 11, role: ACCOUNTANT, companyId: 14, uri: /api/logout
2025-12-24T12:53:00.884+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:53:00.885+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:53:00.885+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:53:00.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxMSIsInVzZXJuYW1lIjo (truncated)...]
2025-12-24T12:53:00.903+09:00  INFO 23260 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=11
2025-12-24T12:53:00.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:00.910+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:53:00.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:12.991+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:53:12.995+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:53:12.996+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:53:12.996+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:53:12.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:53:13.000+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:53:13.001+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T12:53:13.002+09:00  INFO 23260 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T12:53:13.002+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.004+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b617e4] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.090+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1867414676 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:13.091+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:53:13.092+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T12:53:13.095+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:53:13.096+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65b617e4]
2025-12-24T12:53:13.178+09:00  INFO 23260 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T12:53:13.179+09:00  INFO 23260 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T12:53:13.180+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:13.180+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T12:53:13.181+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:13.492+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:53:13.501+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:53:13.511+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T12:53:13.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:53:13.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:53:13.513+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:53:13.514+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.514+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf77061] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.516+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2143878087 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:13.531+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:13.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:13.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:13.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:13.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:53:13.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T12:53:13.563+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:13.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:13.569+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:13.571+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:13.572+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T12:53:13.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf77061]
2025-12-24T12:53:13.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:13.585+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T12:53:13.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T12:53:13.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:13.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T12:53:13.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T12:53:13.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T12:53:13.589+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:13.603+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:13.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:13.604+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:13.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:13.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:13.617+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:13.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:13.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:13.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:13.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:13.625+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.627+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.631+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24f6a884] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.627+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:13.630+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.639+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.630+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b057efc] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.639+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f90c483] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@464283302 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:13.640+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17e61b77] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.643+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:13.652+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T12:53:13.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@770305461 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:13.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1397341161 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:13.660+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488534023 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.661+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:13.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T12:53:13.665+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:13.667+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:13.670+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:13.671+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:13.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f90c483]
2025-12-24T12:53:13.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:13.677+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:13.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:13.681+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:13.681+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:13.685+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:13.690+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24f6a884]
2025-12-24T12:53:13.690+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17e61b77]
2025-12-24T12:53:13.690+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b057efc]
2025-12-24T12:53:13.696+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:13.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:13.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f866817] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.703+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45983c91] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:13.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1762575923 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.706+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@618849505 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:13.710+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:13.710+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:13.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:13.715+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:13.715+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:13.716+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f866817]
2025-12-24T12:53:13.716+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45983c91]
2025-12-24T12:53:13.720+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.721+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3833028f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.720+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.722+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1949893454 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.722+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20614bb9] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.723+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:13.724+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605652880 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:13.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:13.726+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:13.728+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:13.728+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3833028f]
2025-12-24T12:53:13.729+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:13.730+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.730+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20614bb9]
2025-12-24T12:53:13.730+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7a806f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.731+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.731+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1018f9af] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.731+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1014881813 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.733+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@974013590 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.734+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:13.734+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:13.735+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:13.737+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:13.739+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:13.739+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:13.739+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c7a806f]
2025-12-24T12:53:13.739+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1018f9af]
2025-12-24T12:53:13.740+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.740+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.740+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203e2953] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.740+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27760ef0] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1754250435 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853268543 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:13.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:13.742+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:13.742+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:13.746+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:13.746+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:13.747+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@203e2953]
2025-12-24T12:53:13.747+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27760ef0]
2025-12-24T12:53:13.747+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.748+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eeb43fd] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.747+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.749+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba89bad] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.749+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2144240578 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.752+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1010700710 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.753+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:13.754+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:13.756+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:13.756+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:13.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:13.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:13.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2eeb43fd]
2025-12-24T12:53:13.760+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ba89bad]
2025-12-24T12:53:13.760+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:13.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f0b79] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a12aca] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:13.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646930030 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:13.763+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@560654919 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:13.763+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:13.764+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:13.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:13.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:13.778+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:13.779+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@520f0b79]
2025-12-24T12:53:13.781+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:13.785+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:13.788+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:13.793+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:13.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a12aca]
2025-12-24T12:53:13.796+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:13.796+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:13.801+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:17.353+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T12:53:17.353+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T12:53:17.359+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T12:53:17.360+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T12:53:17.363+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T12:53:17.365+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T12:53:17.379+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T12:53:17.368+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T12:53:17.383+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T12:53:17.381+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T12:53:17.386+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T12:53:17.414+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:17.413+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T12:53:17.422+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9ba238] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:17.422+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:17.423+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544e5be5] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:17.425+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1941361721 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:17.425+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1396277372 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:17.425+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T12:53:17.426+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T12:53:17.426+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T12:53:17.428+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T12:53:17.441+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T12:53:17.441+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T12:53:17.442+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@544e5be5]
2025-12-24T12:53:17.444+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b9ba238]
2025-12-24T12:53:17.446+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:17.445+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:17.447+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T12:53:17.449+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T12:53:17.451+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:17.452+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:25.189+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:25.190+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:25.190+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:25.191+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:25.202+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:25.203+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:25.205+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:25.205+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:25.220+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T12:53:25.224+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T12:53:25.229+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T12:53:25.237+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T12:53:25.242+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:25.238+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:25.238+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:25.239+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:25.244+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:25.245+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:25.253+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:25.245+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:25.246+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:25.248+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:25.255+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.257+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551405b9] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.256+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:25.256+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:25.257+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fcde2ae] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.261+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@491daecb] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.261+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5325969e] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.269+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1139131835 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:25.270+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@218992717 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.271+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572593891 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.272+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@592102668 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:25.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:25.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:25.276+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:25.276+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:25.277+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T12:53:25.278+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:25.279+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:25.285+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T12:53:25.290+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:25.291+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@491daecb]
2025-12-24T12:53:25.291+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:25.291+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:25.292+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:25.293+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:25.293+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@551405b9]
2025-12-24T12:53:25.294+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5325969e]
2025-12-24T12:53:25.296+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fcde2ae]
2025-12-24T12:53:25.296+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:25.297+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:25.298+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.300+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.304+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:25.306+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:25.306+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c030359] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.307+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f79ec14] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.311+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:25.314+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@670407462 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.318+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@906787796 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.324+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:25.327+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:25.328+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:25.329+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:25.338+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:25.338+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:25.341+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c030359]
2025-12-24T12:53:25.341+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f79ec14]
2025-12-24T12:53:25.341+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.341+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eea5d8] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fae9e70] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.344+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99837815 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.347+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@265803485 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.356+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:25.357+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:25.362+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:25.364+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:25.392+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:25.392+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:25.397+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eea5d8]
2025-12-24T12:53:25.398+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fae9e70]
2025-12-24T12:53:25.404+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.406+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.406+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b612e14] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.407+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c817c3] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.408+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1062568645 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.413+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@403592404 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.413+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:25.414+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:25.424+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:25.426+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:25.447+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:25.458+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:25.460+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c817c3]
2025-12-24T12:53:25.461+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b612e14]
2025-12-24T12:53:25.463+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.464+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.465+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7523a2bb] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.471+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e721793] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.471+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@907462099 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.472+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313510539 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.473+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:25.473+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:25.474+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:25.475+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:25.487+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:25.488+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:25.493+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7523a2bb]
2025-12-24T12:53:25.493+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e721793]
2025-12-24T12:53:25.494+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.494+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.494+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592b325] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.494+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bcd07f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.495+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1833762646 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.503+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@376209524 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.503+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:25.504+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:25.505+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:25.506+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:53:25.520+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:25.522+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:25.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8bcd07f]
2025-12-24T12:53:25.527+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@592b325]
2025-12-24T12:53:25.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.529+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:25.529+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548b4163] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.537+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736bede7] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:25.537+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@987389093 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:25.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@46802941 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:25.539+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:25.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:25.540+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:25.540+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:25.544+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:25.544+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:25.546+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736bede7]
2025-12-24T12:53:25.547+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@548b4163]
2025-12-24T12:53:25.552+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:25.554+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:25.554+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:25.554+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:25.556+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:25.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:29.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-24T12:53:29.266+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-24T12:53:29.270+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/switch-company
2025-12-24T12:53:29.270+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-24T12:53:29.272+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-24T12:53:29.273+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-24T12:53:29.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=3, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwid (truncated)...]
2025-12-24T12:53:29.279+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 3, companyId: 3
2025-12-24T12:53:29.280+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:29.280+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@132e76bb] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:29.284+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1287535848 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:29.285+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:29.287+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T12:53:29.292+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T12:53:29.293+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@132e76bb]
2025-12-24T12:53:29.305+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:29.306+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.307+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@222746108 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will be managed by Spring
2025-12-24T12:53:29.308+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:29.309+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T12:53:29.312+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T12:53:29.312+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.314+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd] from current transaction
2025-12-24T12:53:29.316+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-24T12:53:29.318+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 3(Long), 3(Long), 3(Long)
2025-12-24T12:53:29.324+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 3
2025-12-24T12:53:29.324+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.325+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd] from current transaction
2025-12-24T12:53:29.326+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-24T12:53:29.326+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:29.330+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-24T12:53:29.330+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.331+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.333+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.334+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@598729cd]
2025-12-24T12:53:29.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:29.343+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@638e6b38] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:29.344+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1495737863 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:29.344+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:29.345+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:29.347+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:29.347+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@638e6b38]
2025-12-24T12:53:29.348+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 3, companyId: 3
2025-12-24T12:53:29.349+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:29.351+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=3, username=test_user,  (truncated)...]
2025-12-24T12:53:29.352+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:30.395+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:30.395+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:30.396+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:53:30.396+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:30.396+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:30.428+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:30.429+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:30.429+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:53:30.436+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:30.438+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:30.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses
2025-12-24T12:53:30.506+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses
2025-12-24T12:53:30.523+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-24T12:53:30.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/companies
2025-12-24T12:53:30.530+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:30.531+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-24T12:53:30.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:30.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:30.540+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:53:30.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:30.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:30.546+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:30.547+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:30.547+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:53:30.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:30.572+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:30.573+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:30.574+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:30.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:53:30.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:30.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.585+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.585+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b216a44] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.586+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.587+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c5a402] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503afa5] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.589+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111521c] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283f3947] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319695448 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:30.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1756536029 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1732821286 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:30.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@399539938 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@961239703 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:30.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:30.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:30.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:53:30.612+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:30.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:30.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:30.616+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:30.622+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T12:53:30.623+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:30.624+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:30.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:30.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:30.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:30.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T12:53:30.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@283f3947]
2025-12-24T12:53:30.643+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@503afa5]
2025-12-24T12:53:30.643+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b216a44]
2025-12-24T12:53:30.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@111521c]
2025-12-24T12:53:30.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:30.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:30.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:30.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:30.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc12f36] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.647+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46c5a402]
2025-12-24T12:53:30.647+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f0b2d5] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.648+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=CR0QDH, companyNa (truncated)...]
2025-12-24T12:53:30.650+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:30.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1745103365 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:30.656+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1881930141 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:30.662+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:30.663+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:30.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:30.670+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:30.672+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:30.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:30.706+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:30.707+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:30.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59f0b2d5]
2025-12-24T12:53:30.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cc12f36]
2025-12-24T12:53:30.713+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.713+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.714+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f23cb2] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.714+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aee8752] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.715+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@633888579 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.717+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1567285680 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.717+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:30.717+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:30.719+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:30.719+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:30.722+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:30.722+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:30.723+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79f23cb2]
2025-12-24T12:53:30.724+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aee8752]
2025-12-24T12:53:30.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.726+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a8c958] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.726+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a50a8b] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.727+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1893167443 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.727+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@718007455 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.729+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:30.729+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:30.730+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:30.732+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:30.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:30.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:30.741+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75a50a8b]
2025-12-24T12:53:30.742+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18a8c958]
2025-12-24T12:53:30.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.744+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1316cf54] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.745+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1866fed6] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.745+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1320845039 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.746+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1188697739 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.746+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:30.750+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:30.750+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:30.751+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:30.757+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:30.757+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:30.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1316cf54]
2025-12-24T12:53:30.760+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1866fed6]
2025-12-24T12:53:30.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33688172] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.771+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9b896c] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.773+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371295268 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.784+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623138471 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.785+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:30.786+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:30.789+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:30.789+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:30.796+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:30.796+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:30.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33688172]
2025-12-24T12:53:30.800+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a9b896c]
2025-12-24T12:53:30.801+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:30.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36490d90] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2f85ad] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:30.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1096640826 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:30.808+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@220837709 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:30.808+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:30.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:30.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:30.810+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:30.817+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:30.818+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:30.822+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2f85ad]
2025-12-24T12:53:30.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36490d90]
2025-12-24T12:53:30.827+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:30.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:30.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:30.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:30.835+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:30.836+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:34.832+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:53:34.832+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:53:34.832+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T12:53:34.833+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:53:34.840+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:53:34.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:53:34.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T12:53:34.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:53:34.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/users/me
2025-12-24T12:53:34.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/users/companies
2025-12-24T12:53:34.847+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/users/companies/pending
2025-12-24T12:53:34.852+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/users/me
2025-12-24T12:53:34.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:53:34.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:53:34.856+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:53:34.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:53:34.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T12:53:34.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:53:34.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:53:34.870+09:00  INFO 23260 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 3
2025-12-24T12:53:34.868+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:53:34.870+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T12:53:34.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:53:34.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:34.872+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:53:34.872+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T12:53:34.873+09:00  INFO 23260 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 3
2025-12-24T12:53:34.875+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:34.873+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb201a7] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:34.873+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:34.876+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16070279] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:34.874+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:34.875+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a8de42] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:34.877+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd04a64] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:34.880+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2110608183 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:34.881+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:34.886+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:34.886+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815592152 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:34.887+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:34.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1510868565 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:34.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1317275754 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:34.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T12:53:34.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:34.891+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:34.892+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:34.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:34.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T12:53:34.894+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fb201a7]
2025-12-24T12:53:34.895+09:00  INFO 23260 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 3
2025-12-24T12:53:34.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:34.903+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T12:53:34.907+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T12:53:34.907+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:34.908+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd04a64]
2025-12-24T12:53:34.907+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:34.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:34.912+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a8de42]
2025-12-24T12:53:34.913+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:53:34.913+09:00  INFO 23260 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 3
2025-12-24T12:53:34.914+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:34.920+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:34.922+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T12:53:34.924+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:34.925+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T12:53:34.931+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16070279]
2025-12-24T12:53:34.937+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:34.939+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=11, userId=3, companyId= (truncated)...]
2025-12-24T12:53:34.943+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:39.763+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:39.763+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:39.763+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:39.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:39.772+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:39.772+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:39.773+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:39.776+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-24T12:53:39.776+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses
2025-12-24T12:53:39.777+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:39.780+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-24T12:53:39.788+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:39.789+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:39.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses
2025-12-24T12:53:39.795+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:53:39.796+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:39.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:39.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:39.799+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:53:39.801+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:39.802+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:39.803+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:39.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:39.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:39.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a3e19a] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.808+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a631056] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.808+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4494c2f3] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.814+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@145e89ae] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.819+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1271900368 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:39.820+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1688902822 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:39.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:39.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:39.824+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:39.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:39.826+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868767039 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.826+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@812870704 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.827+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:39.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:39.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:39.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:39.830+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:39.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a3e19a]
2025-12-24T12:53:39.834+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a631056]
2025-12-24T12:53:39.835+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:39.840+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:39.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:39.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:39.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:39.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:39.844+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4494c2f3]
2025-12-24T12:53:39.844+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:39.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:39.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:39.846+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.847+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@145e89ae]
2025-12-24T12:53:39.850+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22937777] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.853+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@221653251 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.853+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41dd6915] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.855+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:39.855+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221086551 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.856+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:39.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:39.859+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:39.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:39.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22937777]
2025-12-24T12:53:39.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:39.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@41dd6915]
2025-12-24T12:53:39.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4ab840] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36311ca4] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@383474193 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@470703798 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:39.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:39.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:39.866+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:39.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:39.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:39.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f4ab840]
2025-12-24T12:53:39.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36311ca4]
2025-12-24T12:53:39.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.872+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.872+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a49cf7b] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.872+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ed87f9] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.872+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1891368650 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.873+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174892668 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.873+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:39.873+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:39.874+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:39.875+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:39.879+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:39.879+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:53:39.879+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78ed87f9]
2025-12-24T12:53:39.879+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a49cf7b]
2025-12-24T12:53:39.880+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.880+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.880+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e46b8c1] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.880+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ac8138] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.881+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436217023 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.885+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1757805130 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.885+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:39.886+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:39.887+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:39.888+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:39.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:39.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:39.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35ac8138]
2025-12-24T12:53:39.892+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e46b8c1]
2025-12-24T12:53:39.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d339c0c] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3f0f45] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.894+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1279749075 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.894+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1736717491 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.894+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:39.894+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:39.895+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:39.895+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:53:39.897+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:39.897+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:53:39.897+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d339c0c]
2025-12-24T12:53:39.897+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c3f0f45]
2025-12-24T12:53:39.898+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.901+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f753d1f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.901+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:39.901+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@514265345 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:39.901+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f5040f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:39.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:39.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1981049907 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:39.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:39.904+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:39.905+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:53:39.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:39.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f753d1f]
2025-12-24T12:53:39.910+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:39.910+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:39.910+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52f5040f]
2025-12-24T12:53:39.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:39.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:39.913+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:39.913+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:39.915+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:41.744+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:53:41.747+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:53:41.753+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/logout
2025-12-24T12:53:41.755+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:53:41.755+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:53:41.756+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:53:41.758+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T12:53:41.762+09:00  INFO 23260 --- [http-nio-8080-exec-4] SECURITY                                 : LOGOUT userId=3
2025-12-24T12:53:41.767+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:41.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:53:41.774+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:44.942+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:53:44.944+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:53:44.945+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:53:44.946+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:53:44.946+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:53:44.946+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:53:44.947+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T12:53:44.947+09:00  INFO 23260 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T12:53:44.948+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:44.949+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5edb5275] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:44.953+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171853872 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:44.954+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:53:44.955+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T12:53:44.961+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:53:44.962+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5edb5275]
2025-12-24T12:53:45.044+09:00  INFO 23260 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 14
2025-12-24T12:53:45.045+09:00  INFO 23260 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T12:53:45.046+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.046+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T12:53:45.047+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.488+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:53:45.503+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:53:45.505+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T12:53:45.522+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:53:45.534+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:45.534+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:45.536+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:53:45.548+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:45.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:53:45.543+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:45.544+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:53:45.557+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:53:45.553+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:53:45.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b8e8e95] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.561+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:45.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:45.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:53:45.563+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:53:45.563+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:45.569+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:53:45.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:45.570+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:53:45.571+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:53:45.571+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@587131033 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:45.573+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:53:45.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:53:45.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:53:45.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:45.584+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:45.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:53:45.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:53:45.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:53:45.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T12:53:45.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:45.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:53:45.582+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:45.586+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:45.587+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:53:45.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:53:45.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:45.609+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:53:45.597+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:53:45.612+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c961870] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.612+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa540f2] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bfc50d2] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.616+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:45.622+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T12:53:45.622+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2d2e9c] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.623+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b8e8e95]
2025-12-24T12:53:45.625+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T12:53:45.631+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.637+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1037297604 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:45.637+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1286889591 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:45.640+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:45.641+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@886118165 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:45.677+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:45.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@947284596 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:45.678+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:45.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:45.659+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:45.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:45.676+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.678+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:45.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:53:45.680+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:53:45.685+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:53:45.686+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:53:45.686+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f5e38] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.691+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:45.693+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40042544 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:45.694+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:45.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:45.700+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bfc50d2]
2025-12-24T12:53:45.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:53:45.699+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:45.701+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.704+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5507ca9f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.702+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:53:45.704+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.706+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@744709209 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:45.707+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a009a07] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.707+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:45.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:45.710+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:53:45.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:45.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:45.728+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:53:45.728+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa540f2]
2025-12-24T12:53:45.729+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2d2e9c]
2025-12-24T12:53:45.730+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c961870]
2025-12-24T12:53:45.733+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f5e38]
2025-12-24T12:53:45.735+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.735+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@176518559 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:45.736+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.737+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.737+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.742+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:45.742+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:45.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:53:45.744+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:45.744+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:45.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5507ca9f]
2025-12-24T12:53:45.745+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:53:45.844+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.746+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.752+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:45.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.764+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.850+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe5c219] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.847+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:53:45.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@73252424 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:45.853+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:53:45.853+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:45.854+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:53:45.854+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:45.855+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:53:45.856+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:53:45.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:45.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:45.908+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:45.908+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:45.918+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a009a07]
2025-12-24T12:53:45.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.916+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fe5c219]
2025-12-24T12:53:45.922+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.922+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d87bc96] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.923+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.923+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7286ea0a] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.924+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1163397188 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:45.924+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1603175b] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.926+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@132968586 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:45.927+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:53:45.929+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463282312 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:45.930+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:45.931+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:53:45.933+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:45.953+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:45.954+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:45.957+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:53:45.958+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:45.958+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:45.961+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d87bc96]
2025-12-24T12:53:45.962+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7286ea0a]
2025-12-24T12:53:45.963+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1603175b]
2025-12-24T12:53:45.965+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:45.970+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.970+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.970+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:53:45.971+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a4cfc3] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.972+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2d842a] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.974+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:45.977+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1460908643 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:45.978+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1262418271 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:45.980+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:45.980+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:45.985+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:45.985+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:45.990+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:45.990+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:45.990+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e2d842a]
2025-12-24T12:53:45.991+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59a4cfc3]
2025-12-24T12:53:45.991+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.992+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:45.992+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f75066d] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.992+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd468f9] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:45.992+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1302059901 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:45.992+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:45.992+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1936815223 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:45.994+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:45.994+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:45.995+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:45.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:45.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:45.997+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f75066d]
2025-12-24T12:53:46.000+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@cd468f9]
2025-12-24T12:53:46.000+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:46.000+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:46.000+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bbf6710] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:46.001+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4552bb3d] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:46.002+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1820217956 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:46.003+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1794019534 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:46.003+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:46.003+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:46.004+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:46.004+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:46.007+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:46.007+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:46.007+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4552bb3d]
2025-12-24T12:53:46.007+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bbf6710]
2025-12-24T12:53:46.008+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:46.009+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:46.009+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17aafb67] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:46.009+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:46.010+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@121473381 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:46.011+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:46.012+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:46.015+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:46.024+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:46.024+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17aafb67]
2025-12-24T12:53:46.025+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:46.025+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f10491c] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:46.026+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1336015450 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:46.026+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:46.026+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:46.029+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:46.030+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f10491c]
2025-12-24T12:53:46.031+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:46.035+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:46.037+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:47.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:53:47.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:53:47.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T12:53:47.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T12:53:47.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:53:47.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:53:47.583+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T12:53:47.586+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:53:47.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T12:53:47.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/me
2025-12-24T12:53:47.593+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:53:47.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:53:47.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:53:47.593+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies/pending
2025-12-24T12:53:47.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T12:53:47.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T12:53:47.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T12:53:47.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/me
2025-12-24T12:53:47.597+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:47.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:53:47.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:53:47.597+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T12:53:47.601+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5f7ff] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:47.602+09:00  INFO 23260 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 14
2025-12-24T12:53:47.604+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:47.603+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:53:47.603+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T12:53:47.604+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6a1b01] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:47.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:47.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T12:53:47.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1763276783 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:47.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709e3d89] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:47.609+09:00  INFO 23260 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 14
2025-12-24T12:53:47.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:47.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@895823088 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:47.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:47.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005265819 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:47.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T12:53:47.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:47.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4196cb7] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:47.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:47.617+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:47.620+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23404893 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:47.622+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:47.620+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:53:47.621+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T12:53:47.623+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:47.624+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a5f7ff]
2025-12-24T12:53:47.624+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:47.625+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:47.625+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a6a1b01]
2025-12-24T12:53:47.626+09:00  INFO 23260 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 14
2025-12-24T12:53:47.626+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:53:47.627+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:47.627+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:53:47.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:47.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:47.631+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4196cb7]
2025-12-24T12:53:47.633+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@709e3d89]
2025-12-24T12:53:47.635+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T12:53:47.639+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:47.636+09:00  INFO 23260 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 14
2025-12-24T12:53:47.639+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:47.640+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:53:47.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:47.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T12:53:47.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:47.647+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:59.601+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:59.602+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:53:59.602+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:53:59.602+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:53:59.604+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:59.628+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T12:53:59.630+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:59.634+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:59.635+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:53:59.637+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:53:59.637+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:53:59.640+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:53:59.640+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:59.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:53:59.654+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:59.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:53:59.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:53:59.650+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T12:53:59.653+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:59.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T12:53:59.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:53:59.656+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:53:59.656+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:53:59.666+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:53:59.667+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:53:59.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:53:59.670+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:59.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:53:59.663+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T12:53:59.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:59.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T12:53:59.666+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:53:59.670+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:59.671+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:59.672+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:53:59.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.677+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682bd71e] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:53:59.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:53:59.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:59.677+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.677+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.678+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.680+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4daffccf] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.680+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50be8b77] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.681+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f634b9] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.686+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719a7c70] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.686+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c8885b] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.688+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@338980528 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:53:59.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:59.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1091227036 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:59.702+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:53:59.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@13190576 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1068967467 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:53:59.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@27343341 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:53:59.702+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788812103 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T12:53:59.706+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:53:59.704+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T12:53:59.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:59.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:53:59.706+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:59.708+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:53:59.712+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:59.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:59.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:53:59.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:59.711+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:53:59.720+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682bd71e]
2025-12-24T12:53:59.721+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f634b9]
2025-12-24T12:53:59.722+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.724+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:53:59.727+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:59.725+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:59.726+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:59.726+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:53:59.729+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.727+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10c8885b]
2025-12-24T12:53:59.727+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4daffccf]
2025-12-24T12:53:59.728+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50be8b77]
2025-12-24T12:53:59.729+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.730+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:53:59.734+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.735+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.736+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.736+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@719a7c70]
2025-12-24T12:53:59.737+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:53:59.737+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7768fb5e] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.737+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T12:53:59.738+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec4a421] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.739+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.740+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.742+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1730430224 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.754+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:59.745+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T12:53:59.745+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1866112587 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.745+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:53:59.757+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:59.757+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T12:53:59.758+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:59.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T12:53:59.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:59.763+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:59.764+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T12:53:59.768+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7768fb5e]
2025-12-24T12:53:59.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:59.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:59.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ec4a421]
2025-12-24T12:53:59.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71b08d91] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.769+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:53:59.770+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.770+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1093810930 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.770+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.770+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6661c381] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.770+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:59.770+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d3422] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.771+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1294964416 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.772+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:59.772+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@804761687 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:53:59.773+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:59.773+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T12:53:59.775+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:59.775+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T12:53:59.776+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:59.776+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71b08d91]
2025-12-24T12:53:59.777+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:59.778+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T12:53:59.778+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6661c381]
2025-12-24T12:53:59.778+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.778+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d3422]
2025-12-24T12:53:59.779+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.779+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4b556f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.779+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74629f1f] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.779+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.781+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@258118578 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.781+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@485963737 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.783+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:53:59.784+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:59.784+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:53:59.785+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.785+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:59.787+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:53:59.793+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:59.793+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T12:53:59.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a4b556f]
2025-12-24T12:53:59.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74629f1f]
2025-12-24T12:53:59.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f161e] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.795+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f9ebc83] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.796+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@611306457 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1608799752 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.798+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:59.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:59.799+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:59.800+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:59.803+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:59.803+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:59.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42f161e]
2025-12-24T12:53:59.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f9ebc83]
2025-12-24T12:53:59.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e5566ff] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5bc031] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@573969613 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1684741085 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.806+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:59.806+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:53:59.806+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:59.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T12:53:59.810+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:59.810+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T12:53:59.810+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e5566ff]
2025-12-24T12:53:59.810+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e5bc031]
2025-12-24T12:53:59.813+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.813+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:53:59.814+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2f22a4] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.814+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1807273216 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:53:59.814+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a97bcf] was not registered for synchronization because synchronization is not active
2025-12-24T12:53:59.818+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:59.819+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1409514787 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:53:59.820+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:59.820+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:53:59.821+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:53:59.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:59.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:53:59.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a97bcf]
2025-12-24T12:53:59.824+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e2f22a4]
2025-12-24T12:53:59.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:53:59.827+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:59.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:53:59.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:53:59.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:00.523+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:54:00.523+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T12:54:00.537+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:54:00.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T12:54:00.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:54:00.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T12:54:00.574+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:54:00.574+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T12:54:00.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:54:00.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T12:54:00.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:54:00.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T12:54:00.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.578+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d086ca6] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b874239] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1728624584 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:00.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1195524359 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:00.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:00.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:00.593+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:00.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:00.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:00.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:00.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b874239]
2025-12-24T12:54:00.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d086ca6]
2025-12-24T12:54:00.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:00.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:00.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:54:00.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T12:54:00.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:00.619+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:00.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:54:00.630+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:54:00.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:54:00.654+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T12:54:00.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T12:54:00.660+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:54:00.668+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:54:00.693+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:54:00.692+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:54:00.694+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:54:00.696+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:54:00.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:54:00.704+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T12:54:00.740+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:54:00.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T12:54:00.738+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:54:00.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T12:54:00.748+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:54:00.759+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T12:54:00.760+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:54:00.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T12:54:00.774+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:00.773+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.775+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b3362c] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.773+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T12:54:00.774+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T12:54:00.777+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:54:00.775+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:00.776+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1727185372 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:00.777+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T12:54:00.779+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:54:00.822+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.827+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:00.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:54:00.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:54:00.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3a0199] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.830+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:00.832+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:00.834+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.838+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:00.838+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f58fdc] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.844+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653197e8] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1695184488 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:00.850+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:00.855+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789347373 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:54:00.855+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:00.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:00.859+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:00.860+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29b3362c]
2025-12-24T12:54:00.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:00.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047824309 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:00.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.868+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:00.868+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29883b39] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:00.871+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1501881333 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:00.876+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:54:00.879+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:54:00.885+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:00.886+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:00.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55f58fdc]
2025-12-24T12:54:00.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c3a0199]
2025-12-24T12:54:00.892+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.893+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.895+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a60870d] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.895+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afac59c] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133667570 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:00.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:54:00.897+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:00.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2050779328 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:54:00.903+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:54:00.906+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29883b39]
2025-12-24T12:54:00.906+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@653197e8]
2025-12-24T12:54:00.906+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:54:00.908+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T12:54:00.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:00.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:00.912+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:54:00.914+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:54:00.926+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f33d05] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:00.929+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:00.932+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@742502764 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:00.942+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:54:00.953+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T12:54:00.977+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:54:00.978+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:54:00.994+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2afac59c]
2025-12-24T12:54:00.994+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a60870d]
2025-12-24T12:54:00.995+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:54:00.998+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T12:54:01.002+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:01.002+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:01.002+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18f33d05]
2025-12-24T12:54:01.009+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:54:01.010+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:54:01.012+09:00  INFO 23260 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T12:54:01.013+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:01.018+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:01.021+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:01.037+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:54:01.042+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:03.067+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T12:54:03.067+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T12:54:03.075+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T12:54:03.075+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T12:54:03.077+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/1
2025-12-24T12:54:03.078+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T12:54:03.077+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/1/applications
2025-12-24T12:54:03.079+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T12:54:03.079+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T12:54:03.078+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T12:54:03.084+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T12:54:03.087+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T12:54:03.088+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:54:03.089+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:03.090+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T12:54:03.090+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:03.093+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:03.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:03.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e68598] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:03.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d222ae] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:03.122+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@968125928 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T12:54:03.122+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1334977023 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:03.123+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:03.123+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:03.124+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:03.125+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T12:54:03.128+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:03.128+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T12:54:03.129+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51e68598]
2025-12-24T12:54:03.129+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d222ae]
2025-12-24T12:54:03.130+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:03.133+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79dc589d] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:03.131+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:03.136+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a517b3d] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:03.136+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@989257605 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:03.137+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@158787209 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T12:54:03.137+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T12:54:03.138+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T12:54:03.139+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T12:54:03.140+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T12:54:03.142+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T12:54:03.143+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79dc589d]
2025-12-24T12:54:03.142+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 5
2025-12-24T12:54:03.144+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:03.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a517b3d]
2025-12-24T12:54:03.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T12:54:03.145+09:00  INFO 23260 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 5
2025-12-24T12:54:03.146+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:03.147+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:03.153+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T12:54:03.156+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:10.199+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/3/role
2025-12-24T12:54:10.210+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/3/role
2025-12-24T12:54:10.219+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/3/role
2025-12-24T12:54:10.222+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/3/role
2025-12-24T12:54:10.224+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/3/role", parameters={}
2025-12-24T12:54:10.228+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateUserRole(Long, UpdateRoleRequest)
2025-12-24T12:54:10.239+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.UpdateRoleRequest(role=ADMIN)]
2025-12-24T12:54:10.242+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:10.244+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T12:54:10.245+09:00  INFO 23260 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 role 변경 시도 - userId: 3, newRole: ADMIN, operatorId: 1
2025-12-24T12:54:10.246+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:10.246+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23abd101] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:10.258+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1521113746 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:10.260+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:10.260+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:10.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:10.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23abd101]
2025-12-24T12:54:10.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:10.264+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2bd77] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:10.271+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1881398079 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:10.271+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:10.272+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T12:54:10.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:10.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b2bd77]
2025-12-24T12:54:10.277+09:00 ERROR 23260 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 role 변경 중 오류 발생 - userId: 3

com.innersignature.backend.exception.BusinessException: 같은 회사의 사용자만 role을 변경할 수 있습니다.
	at com.innersignature.backend.service.UserService.updateUserRole(UserService.java:362) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.service.UserService$$SpringCGLIB$$0.updateUserRole(<generated>) ~[classes/:na]
	at com.innersignature.backend.controller.UserController.updateUserRole(UserController.java:742) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.5.7.jar:6.5.7]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.14.jar:6.2.14]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.14.jar:6.2.14]
	at com.innersignature.backend.controller.UserController$$SpringCGLIB$$0.updateUserRole(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.49.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:79) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at com.innersignature.backend.security.RateLimitFilter.doFilterInternal(RateLimitFilter.java:87) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.7.jar:6.5.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.14.jar:6.2.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.14.jar:6.2.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-24T12:54:10.340+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:10.344+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=같은 회사의 사용자만 role을 변경할 수 있습니다., data=null)]
2025-12-24T12:54:10.346+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:23.073+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T12:54:23.078+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T12:54:23.081+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/logout
2025-12-24T12:54:23.083+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T12:54:23.088+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T12:54:23.090+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T12:54:23.092+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T12:54:23.111+09:00  INFO 23260 --- [http-nio-8080-exec-2] SECURITY                                 : LOGOUT userId=1
2025-12-24T12:54:23.115+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:23.118+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T12:54:23.119+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:25.934+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T12:54:25.936+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T12:54:25.937+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T12:54:25.937+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T12:54:25.937+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T12:54:25.938+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T12:54:25.938+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T12:54:25.939+09:00  INFO 23260 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T12:54:25.939+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:25.940+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b9955] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:25.942+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149925733 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:25.943+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T12:54:25.944+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T12:54:25.949+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T12:54:25.950+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37b9955]
2025-12-24T12:54:26.038+09:00  INFO 23260 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 3
2025-12-24T12:54:26.039+09:00  INFO 23260 --- [http-nio-8080-exec-8] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T12:54:26.040+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:26.041+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T12:54:26.044+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:26.411+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:54:26.445+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:54:26.446+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:26.446+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:54:26.446+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:26.457+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:54:26.463+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/companies
2025-12-24T12:54:26.463+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:54:26.469+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:54:26.469+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:26.470+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:54:26.475+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:54:26.476+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:54:26.473+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses
2025-12-24T12:54:26.477+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:54:26.477+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:54:26.478+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:54:26.473+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses
2025-12-24T12:54:26.483+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.475+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-24T12:54:26.476+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.479+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:26.483+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:54:26.485+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25fffc86] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.488+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/expenses/pending-approvals
2025-12-24T12:54:26.486+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:26.486+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ece5c7] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.486+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:54:26.489+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:26.489+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:54:26.491+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:54:26.493+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:54:26.493+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:54:26.495+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.504+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:54:26.505+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1015170511 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:26.507+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:54:26.504+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.508+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T12:54:26.505+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0ceb93] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.506+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.507+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@866354165 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.510+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:26.508+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6d85cd] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.509+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e0e9818] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:26.519+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@205910132 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.519+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T12:54:26.520+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:26.520+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1557515575 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:54:26.520+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@87654756 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:26.521+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:26.521+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33ece5c7]
2025-12-24T12:54:26.523+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:26.524+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:54:26.524+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:54:26.524+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25fffc86]
2025-12-24T12:54:26.524+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:26.525+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:54:26.527+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:54:26.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.530+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=3, companyCode=CR0QDH, companyNa (truncated)...]
2025-12-24T12:54:26.536+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a0e388] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.537+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:26.539+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:26.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516828301 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.542+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c0ceb93]
2025-12-24T12:54:26.542+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:26.542+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.543+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:26.543+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769ec1c1] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1608785117 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:54:26.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:54:26.551+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d6d85cd]
2025-12-24T12:54:26.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:26.546+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e0e9818]
2025-12-24T12:54:26.553+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:26.554+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:26.555+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:26.555+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:26.555+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a0e388]
2025-12-24T12:54:26.556+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:54:26.556+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:54:26.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:26.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:26.569+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313115c] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.572+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:26.574+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1699286549 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@769ec1c1]
2025-12-24T12:54:26.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:26.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e8a7cd9] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:54:26.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1578778112 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:26.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:54:26.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:26.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:26.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@313115c]
2025-12-24T12:54:26.582+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e8a7cd9]
2025-12-24T12:54:26.583+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.584+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.584+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@511e676a] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.584+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56499c46] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.585+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1560257828 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.586+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1296821794 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.586+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:26.587+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:26.587+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:26.587+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 3(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:26.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:26.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:26.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56499c46]
2025-12-24T12:54:26.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@511e676a]
2025-12-24T12:54:26.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5ddf02] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c7d0b8f] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@393005379 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1853489245 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:26.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:26.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:26.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:26.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:26.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:26.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d5ddf02]
2025-12-24T12:54:26.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4c7d0b8f]
2025-12-24T12:54:26.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e41a95a] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f43db05] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.596+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2106048607 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799786513 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:26.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:26.601+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:54:26.601+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 3(Long), 3(Long)
2025-12-24T12:54:26.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:26.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:26.605+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e41a95a]
2025-12-24T12:54:26.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f43db05]
2025-12-24T12:54:26.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:26.606+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ca990a] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7059ad89] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:26.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@986902032 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:26.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@554949492 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:26.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:26.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:26.609+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:26.609+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:26.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:26.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:26.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7059ad89]
2025-12-24T12:54:26.615+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29ca990a]
2025-12-24T12:54:26.617+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:26.617+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:26.619+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:54:26.619+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:54:26.621+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:26.622+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:30.791+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/switch-company
2025-12-24T12:54:30.794+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/switch-company
2025-12-24T12:54:30.795+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 3, uri: /api/users/switch-company
2025-12-24T12:54:30.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/switch-company
2025-12-24T12:54:30.800+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/switch-company", parameters={}
2025-12-24T12:54:30.801+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#switchCompany(CompanySwitchRequest)
2025-12-24T12:54:30.804+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.CompanySwitchRequest(companyId=1, currentToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwid (truncated)...]
2025-12-24T12:54:30.805+09:00  INFO 23260 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 시도 - userId: 3, companyId: 1
2025-12-24T12:54:30.805+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:30.806+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c66a738] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:30.808+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1587060861 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:30.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:30.812+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T12:54:30.819+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T12:54:30.820+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c66a738]
2025-12-24T12:54:30.822+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:30.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@634581391 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will be managed by Spring
2025-12-24T12:54:30.824+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T12:54:30.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T12:54:30.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T12:54:30.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7] from current transaction
2025-12-24T12:54:30.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-24T12:54:30.831+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 3(Long), 1(Long), 3(Long)
2025-12-24T12:54:30.836+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 3
2025-12-24T12:54:30.837+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.837+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7] from current transaction
2025-12-24T12:54:30.837+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-24T12:54:30.838+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 3(Long)
2025-12-24T12:54:30.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-24T12:54:30.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.852+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.852+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f13aa7]
2025-12-24T12:54:30.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:30.859+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6024fc60] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:30.860+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1332445996 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:30.860+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:30.860+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:30.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:30.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6024fc60]
2025-12-24T12:54:30.863+09:00  INFO 23260 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사 전환 완료 - userId: 3, companyId: 1
2025-12-24T12:54:30.866+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:30.866+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사 전환이 완료되었습니다., data={user=UserDto(userId=3, username=test_user,  (truncated)...]
2025-12-24T12:54:30.867+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:31.868+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:54:31.868+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:31.876+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:54:31.878+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T12:54:31.881+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:31.903+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:31.903+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:54:31.905+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:54:31.906+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T12:54:31.926+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:31.937+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T12:54:32.025+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:31.944+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T12:54:31.946+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T12:54:32.022+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T12:54:32.025+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T12:54:32.035+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T12:54:32.026+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:54:32.027+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:54:32.028+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:54:32.034+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T12:54:32.036+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T12:54:32.038+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:54:32.039+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:54:32.043+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:54:32.040+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:54:32.041+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T12:54:32.049+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T12:54:32.042+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T12:54:32.043+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.044+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.045+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:54:32.050+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.052+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.052+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1399fe9b] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.052+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22709faf] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.073+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.074+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59bfe0bc] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.075+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52bb2c69] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.079+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b318d2f] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.086+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1865028776 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.087+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2119229224 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T12:54:32.089+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:32.092+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:54:32.104+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:32.106+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T12:54:32.107+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1973268617 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.107+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@106602202 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T12:54:32.109+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@693037549 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:54:32.119+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:32.120+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:54:32.123+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:32.120+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:32.121+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T12:54:32.122+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:54:32.123+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1399fe9b]
2025-12-24T12:54:32.124+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22709faf]
2025-12-24T12:54:32.126+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T12:54:32.127+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T12:54:32.127+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:32.128+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.129+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:32.133+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:54:32.133+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ab80c] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.134+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59bfe0bc]
2025-12-24T12:54:32.136+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:32.137+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996990385 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.138+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.143+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:32.143+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T12:54:32.144+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f67d92] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T12:54:32.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:32.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52bb2c69]
2025-12-24T12:54:32.145+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@51971439 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.151+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b318d2f]
2025-12-24T12:54:32.153+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:32.155+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:32.156+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:32.157+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T12:54:32.158+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:32.159+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T12:54:32.159+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:32.161+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:32.167+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:32.169+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@110ab80c]
2025-12-24T12:54:32.173+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.174+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d61c1df] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.177+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2045756583 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.178+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:32.182+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:32.184+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26f67d92]
2025-12-24T12:54:32.184+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:54:32.185+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.186+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1d6be2] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.187+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1485997374 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.189+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:32.190+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:54:32.191+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:32.191+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d61c1df]
2025-12-24T12:54:32.192+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.193+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4002cfd9] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.198+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1943966015 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.199+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:32.200+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:32.201+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:32.203+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d1d6be2]
2025-12-24T12:54:32.205+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.206+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0c6422] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.206+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1768445018 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.207+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T12:54:32.207+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:32.207+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T12:54:32.208+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4002cfd9]
2025-12-24T12:54:32.209+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.209+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e7000c] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.210+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@516780750 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.210+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:32.211+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T12:54:32.212+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:32.212+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f0c6422]
2025-12-24T12:54:32.213+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.216+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:32.216+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b05090] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.217+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e7000c]
2025-12-24T12:54:32.218+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1152455888 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.218+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.219+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:32.220+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702f562c] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.222+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:32.222+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12111685 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.222+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:32.223+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:54:32.224+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:32.225+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68b05090]
2025-12-24T12:54:32.225+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:32.225+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.225+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702f562c]
2025-12-24T12:54:32.225+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36af8e39] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.226+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.227+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559329964 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.227+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682382a] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.228+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T12:54:32.228+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@211194080 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:32.228+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T12:54:32.229+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:32.229+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:32.235+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:32.235+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T12:54:32.237+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@682382a]
2025-12-24T12:54:32.237+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36af8e39]
2025-12-24T12:54:32.237+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:32.237+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:32.238+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:54:32.238+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d833079] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:32.239+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:32.239+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@932689846 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:32.241+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T12:54:32.244+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T12:54:32.246+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T12:54:32.251+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d833079]
2025-12-24T12:54:32.252+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:32.252+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T12:54:32.253+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:33.067+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T12:54:33.069+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T12:54:33.075+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T12:54:33.076+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T12:54:33.080+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T12:54:33.087+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T12:54:33.077+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T12:54:33.088+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T12:54:33.090+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T12:54:33.091+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T12:54:33.092+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T12:54:33.092+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:33.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T12:54:33.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56c7f842] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:33.094+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:33.095+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cb0ea6] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:33.097+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@982449944 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T12:54:33.097+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1364089625 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:33.098+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T12:54:33.100+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T12:54:33.100+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T12:54:33.101+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T12:54:33.103+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T12:54:33.103+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T12:54:33.104+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56c7f842]
2025-12-24T12:54:33.104+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cb0ea6]
2025-12-24T12:54:33.107+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:33.107+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:33.107+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T12:54:33.108+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T12:54:33.109+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:33.109+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:37.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T12:54:37.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T12:54:37.744+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/admins
2025-12-24T12:54:37.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T12:54:37.761+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/admins
2025-12-24T12:54:37.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T12:54:37.768+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T12:54:37.811+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T12:54:37.814+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T12:54:37.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/admins
2025-12-24T12:54:37.811+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T12:54:37.817+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T12:54:37.818+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/admins
2025-12-24T12:54:37.819+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T12:54:37.820+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T12:54:37.822+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/admins", parameters={}
2025-12-24T12:54:37.822+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T12:54:37.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:37.824+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf1697a] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:37.823+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getAdminUsers()
2025-12-24T12:54:37.824+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:37.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T12:54:37.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201fa844] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:37.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279a68cc] was not registered for synchronization because synchronization is not active
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1239327072 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@613204386 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@585415673 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==>  Preparing: SELECT user_id, username, korean_name, email, position, role FROM user_tb WHERE role IN ('ADMIN', 'CEO') AND company_id = ? ORDER BY user_id
2025-12-24T12:54:37.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T12:54:37.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T12:54:37.829+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : ==> Parameters: 1(Long)
2025-12-24T12:54:37.839+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T12:54:37.840+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findAdminUsers   : <==      Total: 0
2025-12-24T12:54:37.840+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@201fa844]
2025-12-24T12:54:37.840+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@279a68cc]
2025-12-24T12:54:37.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:37.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T12:54:37.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:37.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T12:54:37.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf1697a]
2025-12-24T12:54:37.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=결재자 목록 조회 성공, data=[])]
2025-12-24T12:54:37.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T12:54:37.844+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:37.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:54:37.844+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T12:54:37.848+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T12:59:05.033+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T12:59:05.036+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T13:02:04.461+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:04.461+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T13:02:04.462+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T13:02:04.463+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:04.467+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:04.467+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T13:02:04.468+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:04.472+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T13:02:04.475+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T13:02:04.495+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:04.478+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T13:02:04.481+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T13:02:04.483+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T13:02:04.498+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T13:02:04.496+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T13:02:04.500+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T13:02:04.497+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T13:02:04.498+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:04.507+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T13:02:04.508+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T13:02:04.499+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T13:02:04.505+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.507+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T13:02:04.511+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T13:02:04.514+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1532fe4] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.514+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T13:02:04.515+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9d3e13] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.518+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.516+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.518+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c80704] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.519+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ccac791] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037532645 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:04.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@553295974 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:04.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@358538317 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@621471763 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T13:02:04.527+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T13:02:04.527+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:04.527+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:04.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T13:02:04.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T13:02:04.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:04.529+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:04.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T13:02:04.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T13:02:04.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:04.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:04.534+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9d3e13]
2025-12-24T13:02:04.534+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1532fe4]
2025-12-24T13:02:04.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77c80704]
2025-12-24T13:02:04.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ccac791]
2025-12-24T13:02:04.536+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:04.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:04.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T13:02:04.539+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.542+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54bdef9f] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.540+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T13:02:04.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119fb5e4] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.542+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:04.543+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@831031702 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:04.548+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:04.545+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1990662475 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:04.550+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:04.551+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:04.557+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:04.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:04.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54bdef9f]
2025-12-24T13:02:04.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@119fb5e4]
2025-12-24T13:02:04.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3769a19e] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70f573c3] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@202596859 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@472504492 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:04.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:04.561+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:04.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:04.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:04.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:04.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3769a19e]
2025-12-24T13:02:04.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70f573c3]
2025-12-24T13:02:04.566+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ffa19b3] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd12b] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1164257923 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.568+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:04.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1550635384 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.568+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:04.572+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:04.573+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:04.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:04.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:04.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ffa19b3]
2025-12-24T13:02:04.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7dcd12b]
2025-12-24T13:02:04.575+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fcf7ccb] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.576+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be4d3f7] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1343741184 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.578+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1783631401 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.578+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:04.578+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:04.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:04.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:04.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:04.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:04.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fcf7ccb]
2025-12-24T13:02:04.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@be4d3f7]
2025-12-24T13:02:04.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.582+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.582+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab969b8] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.582+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a32dc7c] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.583+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1582593792 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.583+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1734661542 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.583+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:04.583+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:04.584+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:04.584+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:04.586+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:04.587+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:04.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a32dc7c]
2025-12-24T13:02:04.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ab969b8]
2025-12-24T13:02:04.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:04.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32352f3f] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.592+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ac06be0] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:04.593+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1857606713 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:04.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@191184297 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:04.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:04.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:04.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:04.594+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:04.598+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:04.598+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:04.598+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ac06be0]
2025-12-24T13:02:04.598+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32352f3f]
2025-12-24T13:02:04.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:04.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:04.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T13:02:04.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T13:02:04.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:04.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:05.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T13:02:05.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:02:05.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T13:02:05.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T13:02:05.653+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:02:05.653+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T13:02:05.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T13:02:05.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T13:02:05.658+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T13:02:05.658+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T13:02:05.658+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T13:02:05.655+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T13:02:05.657+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T13:02:05.659+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T13:02:05.659+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T13:02:05.660+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T13:02:05.661+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:02:05.662+09:00  INFO 23260 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T13:02:05.671+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:05.663+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T13:02:05.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T13:02:05.668+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:02:05.672+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e2f101] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:05.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T13:02:05.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T13:02:05.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:02:05.675+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:05.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:05.676+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T13:02:05.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9d2cca] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:05.680+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b2c4c6] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:05.681+09:00  INFO 23260 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T13:02:05.684+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:05.691+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1902622510 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:05.693+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb1c26] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:05.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:05.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@488362533 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:05.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934772898 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:05.697+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:05.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:05.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:05.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@42514854 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:05.701+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:05.699+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T13:02:05.699+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:05.700+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T13:02:05.701+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:05.701+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66e2f101]
2025-12-24T13:02:05.706+09:00  INFO 23260 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T13:02:05.708+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:05.708+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T13:02:05.708+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T13:02:05.708+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:05.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T13:02:05.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a9d2cca]
2025-12-24T13:02:05.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cb1c26]
2025-12-24T13:02:05.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:05.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16b2c4c6]
2025-12-24T13:02:05.710+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:05.711+09:00  INFO 23260 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T13:02:05.713+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:05.713+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:02:05.715+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T13:02:05.714+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:05.716+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:05.718+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T13:02:05.720+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:05.722+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:08.797+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T13:02:08.798+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:08.798+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:08.798+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T13:02:08.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T13:02:08.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:08.809+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T13:02:08.810+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:08.811+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T13:02:08.817+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T13:02:08.817+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T13:02:08.811+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T13:02:08.814+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T13:02:08.819+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T13:02:08.816+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T13:02:08.818+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T13:02:08.818+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:08.825+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T13:02:08.826+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T13:02:08.827+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.828+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T13:02:08.832+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T13:02:08.832+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T13:02:08.833+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a86ff2] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.833+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T13:02:08.834+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.841+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.835+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T13:02:08.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e68b4c] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.842+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50a04233] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.843+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.845+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1940726276 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.846+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a027984] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.847+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:08.850+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:08.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1934432119 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1271678707 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:08.851+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@275924339 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:08.855+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:08.856+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T13:02:08.856+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T13:02:08.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:08.857+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T13:02:08.858+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T13:02:08.858+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:08.859+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a86ff2]
2025-12-24T13:02:08.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.861+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419dd48e] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T13:02:08.862+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T13:02:08.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:08.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@743298743 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50a04233]
2025-12-24T13:02:08.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a027984]
2025-12-24T13:02:08.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e68b4c]
2025-12-24T13:02:08.863+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:08.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:08.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:08.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.864+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:08.865+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T13:02:08.865+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T13:02:08.865+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5edd9cb6] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.866+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:08.867+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:08.870+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428745257 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.877+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:08.878+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:08.878+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:08.878+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@419dd48e]
2025-12-24T13:02:08.880+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.881+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43709eb3] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.883+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818631159 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.883+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:08.883+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:08.883+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:08.884+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5edd9cb6]
2025-12-24T13:02:08.887+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.888+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec84081] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.888+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2084724162 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:08.889+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:08.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43709eb3]
2025-12-24T13:02:08.890+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:08.892+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.894+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b3222ed] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.895+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@217098302 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.895+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:08.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:08.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:08.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ec84081]
2025-12-24T13:02:08.896+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.897+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d89f827] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.898+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@21589343 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.899+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:08.899+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:08.900+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:08.900+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b3222ed]
2025-12-24T13:02:08.901+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a8670c4] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T13:02:08.902+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1081674803 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.905+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d89f827]
2025-12-24T13:02:08.906+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:08.906+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.907+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563fe3ee] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.907+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:08.907+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@347435470 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.908+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:08.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:08.909+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:08.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a8670c4]
2025-12-24T13:02:08.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.911+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3436ed95] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.912+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@497003399 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.912+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:08.912+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:08.913+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@563fe3ee]
2025-12-24T13:02:08.914+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:08.914+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.914+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8366f4] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.915+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1149945913 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.917+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:08.918+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T13:02:08.918+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:08.921+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3436ed95]
2025-12-24T13:02:08.922+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.922+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T13:02:08.922+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53e22055] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.923+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d8366f4]
2025-12-24T13:02:08.923+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1354446329 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:08.923+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:08.926+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:08.926+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4346c0c1] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:08.926+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:08.927+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889502363 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:08.927+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:08.930+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T13:02:08.931+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:08.932+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53e22055]
2025-12-24T13:02:08.933+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:08.934+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:08.941+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T13:02:08.942+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4346c0c1]
2025-12-24T13:02:08.942+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:08.943+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:08.945+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T13:02:08.947+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:09.743+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T13:02:09.748+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T13:02:09.754+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-24T13:02:09.760+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T13:02:09.762+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T13:02:09.767+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T13:02:09.775+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T13:02:09.794+09:00  INFO 23260 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=3
2025-12-24T13:02:09.807+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:09.812+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T13:02:09.813+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:12.695+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T13:02:12.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T13:02:12.698+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T13:02:12.699+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T13:02:12.699+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T13:02:12.699+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T13:02:12.700+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T13:02:12.700+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T13:02:12.700+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:12.701+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1e38f8] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:12.704+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1819845983 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:12.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T13:02:12.705+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T13:02:12.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T13:02:12.709+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f1e38f8]
2025-12-24T13:02:12.791+09:00  INFO 23260 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 14
2025-12-24T13:02:12.791+09:00  INFO 23260 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T13:02:12.792+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:12.792+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T13:02:12.793+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.132+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T13:02:13.137+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T13:02:13.143+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T13:02:13.147+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T13:02:13.148+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T13:02:13.150+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T13:02:13.151+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.154+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0a5add] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.165+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1390211995 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T13:02:13.165+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T13:02:13.167+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T13:02:13.169+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T13:02:13.174+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f0a5add]
2025-12-24T13:02:13.176+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T13:02:13.195+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.195+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T13:02:13.180+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T13:02:13.184+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T13:02:13.184+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:02:13.188+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T13:02:13.196+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T13:02:13.197+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.201+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T13:02:13.205+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T13:02:13.210+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T13:02:13.229+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T13:02:13.234+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T13:02:13.242+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T13:02:13.248+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T13:02:13.210+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T13:02:13.211+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T13:02:13.214+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:02:13.255+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T13:02:13.258+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:02:13.258+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:02:13.216+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T13:02:13.224+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T13:02:13.249+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.261+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a6ef11] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.261+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T13:02:13.251+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T13:02:13.251+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T13:02:13.259+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:02:13.260+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T13:02:13.262+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T13:02:13.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T13:02:13.263+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T13:02:13.264+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.267+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T13:02:13.273+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T13:02:13.275+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.271+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T13:02:13.272+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T13:02:13.272+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T13:02:13.273+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5bea8d] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.277+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5feec6] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.280+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@5978557 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:13.283+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T13:02:13.280+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T13:02:13.290+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.282+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T13:02:13.282+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T13:02:13.284+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T13:02:13.291+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6709bcd1] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.292+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.297+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:13.300+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@392193867 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.300+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@389540066 wrapping com.mysql.cj.jdbc.ConnectionImpl@6c3cb084] will not be managed by Spring
2025-12-24T13:02:13.308+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:13.302+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aba8179] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.307+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:13.307+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:13.309+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:13.311+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T13:02:13.311+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@883088678 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:13.312+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.312+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:13.318+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43a6ef11]
2025-12-24T13:02:13.318+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T13:02:13.322+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1254502792 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.323+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607d0c11] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.325+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.327+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:13.328+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T13:02:13.328+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T13:02:13.328+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:13.329+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@473050486 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T13:02:13.330+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T13:02:13.330+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c5bea8d]
2025-12-24T13:02:13.331+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c5feec6]
2025-12-24T13:02:13.333+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:13.333+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T13:02:13.334+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.334+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.335+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.346+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T13:02:13.346+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T13:02:13.357+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T13:02:13.404+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T13:02:13.407+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477ec664] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.408+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T13:02:13.460+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6709bcd1]
2025-12-24T13:02:13.465+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.469+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.466+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T13:02:13.467+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@891114006 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.477+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:13.478+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T13:02:13.468+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aba8179]
2025-12-24T13:02:13.481+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.482+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5deaee44] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.483+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1464501710 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.483+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:13.484+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T13:02:13.471+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T13:02:13.471+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T13:02:13.472+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T13:02:13.490+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T13:02:13.491+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.491+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@607d0c11]
2025-12-24T13:02:13.493+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T13:02:13.495+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.496+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:13.496+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:02:13.497+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:13.497+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:13.500+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@477ec664]
2025-12-24T13:02:13.498+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:13.499+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.499+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5deaee44]
2025-12-24T13:02:13.500+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.506+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640d8324] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.500+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.506+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.507+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1441866791 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.509+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:13.508+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14af16a5] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.509+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T13:02:13.510+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2117603917 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:13.509+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67855e03] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.511+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T13:02:13.511+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1830225017 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T13:02:13.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:13.512+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T13:02:13.514+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T13:02:13.515+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T13:02:13.515+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14af16a5]
2025-12-24T13:02:13.516+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T13:02:13.516+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@640d8324]
2025-12-24T13:02:13.517+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.518+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67855e03]
2025-12-24T13:02:13.518+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.520+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:02:13.520+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.521+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3246b4c1] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.523+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.525+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5c8cb4] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.526+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@978978062 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.527+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1382333466 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.528+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:13.529+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T13:02:13.529+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:13.530+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T13:02:13.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T13:02:13.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T13:02:13.534+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3246b4c1]
2025-12-24T13:02:13.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5c8cb4]
2025-12-24T13:02:13.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.535+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ee53f0] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.538+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd8716b] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.539+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1896419664 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.539+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370829640 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.541+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:13.540+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:13.542+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T13:02:13.544+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T13:02:13.547+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:13.547+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:13.547+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6dd8716b]
2025-12-24T13:02:13.548+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76ee53f0]
2025-12-24T13:02:13.548+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.552+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb62b75] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.552+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be49038] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.556+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1649105057 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.557+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1326525287 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:13.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T13:02:13.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T13:02:13.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T13:02:13.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T13:02:13.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T13:02:13.563+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb62b75]
2025-12-24T13:02:13.563+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4be49038]
2025-12-24T13:02:13.564+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:13.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a8524e4] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.566+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6569a7d3] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:13.568+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2006272834 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:13.572+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@182689302 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:13.574+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:13.577+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T13:02:13.578+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T13:02:13.579+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T13:02:13.590+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:13.591+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T13:02:13.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6569a7d3]
2025-12-24T13:02:13.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a8524e4]
2025-12-24T13:02:13.598+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.598+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:13.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T13:02:13.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T13:02:13.602+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:13.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:14.533+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:02:14.534+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:02:14.546+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:02:14.546+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:02:14.548+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T13:02:14.548+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T13:02:14.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:02:14.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:02:14.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:02:14.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:02:14.549+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:02:14.550+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:02:14.550+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.550+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.550+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0cec5c] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.550+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eb9ba86] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1316608010 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:14.558+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1025424353 wrapping com.mysql.cj.jdbc.ConnectionImpl@8936791] will not be managed by Spring
2025-12-24T13:02:14.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:14.559+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:14.560+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:14.562+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:14.564+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:14.564+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:14.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b0cec5c]
2025-12-24T13:02:14.565+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1eb9ba86]
2025-12-24T13:02:14.566+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:14.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:14.567+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T13:02:14.568+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T13:02:14.569+09:00 DEBUG 23260 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:14.569+09:00 DEBUG 23260 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:14.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T13:02:14.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T13:02:14.580+09:00 DEBUG 23260 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T13:02:14.581+09:00 DEBUG 23260 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T13:02:14.588+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T13:02:14.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T13:02:14.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T13:02:14.595+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T13:02:14.597+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T13:02:14.599+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T13:02:14.602+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T13:02:14.602+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T13:02:14.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T13:02:14.600+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T13:02:14.603+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T13:02:14.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T13:02:14.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T13:02:14.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T13:02:14.607+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T13:02:14.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T13:02:14.609+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T13:02:14.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:02:14.608+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T13:02:14.609+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T13:02:14.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:02:14.610+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:02:14.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T13:02:14.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:14.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:02:14.612+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:14.611+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.612+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:14.612+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19474549] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:02:14.613+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636966e7] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dec71ed] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.614+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1259737702 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:14.617+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:14.616+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7828b0bb] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.617+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1733587904 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:14.624+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:14.618+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:14.619+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809034190 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T13:02:14.625+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:14.625+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:14.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:14.629+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1521144608 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:14.630+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:14.631+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:02:14.631+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:14.632+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@636966e7]
2025-12-24T13:02:14.633+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:02:14.634+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19474549]
2025-12-24T13:02:14.635+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.635+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:14.639+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.641+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17b06333] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.639+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7fc596] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.640+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dec71ed]
2025-12-24T13:02:14.642+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444550060 wrapping com.mysql.cj.jdbc.ConnectionImpl@67ea1ca4] will not be managed by Spring
2025-12-24T13:02:14.643+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1200212160 wrapping com.mysql.cj.jdbc.ConnectionImpl@3363dc5b] will not be managed by Spring
2025-12-24T13:02:14.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ed619f] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.644+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T13:02:14.645+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T13:02:14.646+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:02:14.651+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T13:02:14.648+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016037911 wrapping com.mysql.cj.jdbc.ConnectionImpl@c1c0338] will not be managed by Spring
2025-12-24T13:02:14.651+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T13:02:14.649+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T13:02:14.651+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7828b0bb]
2025-12-24T13:02:14.652+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T13:02:14.658+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:02:14.659+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fa4d08] was not registered for synchronization because synchronization is not active
2025-12-24T13:02:14.661+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753553903 wrapping com.mysql.cj.jdbc.ConnectionImpl@47a6f10d] will not be managed by Spring
2025-12-24T13:02:14.662+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T13:02:14.662+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T13:02:14.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T13:02:14.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f7fc596]
2025-12-24T13:02:14.664+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17b06333]
2025-12-24T13:02:14.665+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T13:02:14.666+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:14.666+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:14.667+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:02:14.668+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:02:14.673+09:00 DEBUG 23260 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:14.674+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T13:02:14.675+09:00 DEBUG 23260 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:14.676+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75ed619f]
2025-12-24T13:02:14.679+09:00  INFO 23260 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T13:02:14.679+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:14.680+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T13:02:14.681+09:00 DEBUG 23260 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:02:14.684+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T13:02:14.690+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fa4d08]
2025-12-24T13:02:14.691+09:00  INFO 23260 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T13:02:14.691+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:02:14.692+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T13:02:14.694+09:00 DEBUG 23260 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:48.619+09:00  INFO 23216 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 23216 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T13:08:48.624+09:00 DEBUG 23216 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T13:08:48.625+09:00  INFO 23216 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T13:08:50.337+09:00 DEBUG 23216 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T13:08:50.339+09:00 DEBUG 23216 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T13:08:50.689+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T13:08:50.690+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T13:08:50.691+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T13:08:50.691+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T13:08:50.693+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T13:08:50.694+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T13:08:50.695+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T13:08:50.699+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T13:08:50.724+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T13:08:50.733+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T13:08:50.735+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T13:08:50.738+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T13:08:50.742+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T13:08:50.755+09:00 DEBUG 23216 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T13:08:51.813+09:00  INFO 23216 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T13:08:51.838+09:00  INFO 23216 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T13:08:51.854+09:00  INFO 23216 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T13:08:51.990+09:00  INFO 23216 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T13:08:51.991+09:00  INFO 23216 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3289 ms
2025-12-24T13:08:52.189+09:00 DEBUG 23216 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T13:08:52.197+09:00 DEBUG 23216 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T13:08:52.741+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T13:08:52.822+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T13:08:52.849+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T13:08:52.873+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T13:08:52.899+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T13:08:52.908+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T13:08:52.955+09:00 DEBUG 23216 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T13:08:53.691+09:00 DEBUG 23216 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T13:08:53.836+09:00 DEBUG 23216 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T13:08:53.869+09:00  WARN 23216 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 33d757e4-7583-45d7-807f-d94b92aa9e46

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T13:08:53.885+09:00  INFO 23216 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T13:08:54.047+09:00 DEBUG 23216 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T13:08:54.175+09:00 DEBUG 23216 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T13:08:54.252+09:00 DEBUG 23216 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T13:08:54.258+09:00 DEBUG 23216 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T13:08:54.513+09:00  INFO 23216 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T13:08:54.532+09:00  INFO 23216 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 6.851 seconds (process running for 7.544)
2025-12-24T13:08:58.200+09:00  INFO 23216 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T13:08:58.204+09:00  INFO 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T13:08:58.207+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T13:08:58.212+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T13:08:58.214+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T13:08:58.216+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@305e95a4
2025-12-24T13:08:58.232+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@222d9d4f
2025-12-24T13:08:58.247+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T13:08:58.252+09:00  INFO 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 45 ms
2025-12-24T13:08:58.296+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:08:58.296+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T13:08:58.297+09:00 DEBUG 23216 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:08:58.372+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:08:58.378+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:08:58.378+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T13:08:58.595+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T13:08:58.595+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T13:08:58.596+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T13:08:58.603+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:08:58.603+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T13:08:58.603+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:08:58.611+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:08:58.615+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T13:08:58.628+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:08:58.656+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:08:58.634+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:08:58.638+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T13:08:58.707+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:58.707+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:58.707+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:58.722+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4036d1a5] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:58.722+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd1036] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:58.722+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b895f3f] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:58.739+09:00  INFO 23216 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T13:08:59.066+09:00  INFO 23216 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@50dde6e
2025-12-24T13:08:59.068+09:00  INFO 23216 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T13:08:59.079+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1415696451 wrapping com.mysql.cj.jdbc.ConnectionImpl@50dde6e] will not be managed by Spring
2025-12-24T13:08:59.086+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355292955 wrapping com.mysql.cj.jdbc.ConnectionImpl@2014c09c] will not be managed by Spring
2025-12-24T13:08:59.090+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T13:08:59.090+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.157+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1786454835 wrapping com.mysql.cj.jdbc.ConnectionImpl@fdd77a0] will not be managed by Spring
2025-12-24T13:08:59.162+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.161+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.165+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.161+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T13:08:59.221+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T13:08:59.223+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.253+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b895f3f]
2025-12-24T13:08:59.253+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd1036]
2025-12-24T13:08:59.286+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.308+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4036d1a5]
2025-12-24T13:08:59.336+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.337+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.338+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.354+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T13:08:59.354+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T13:08:59.366+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T13:08:59.389+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.389+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.390+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.430+09:00 DEBUG 23216 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T13:08:59.431+09:00 DEBUG 23216 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T13:08:59.443+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T13:08:59.443+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T13:08:59.474+09:00 DEBUG 23216 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T13:08:59.491+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T13:08:59.492+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T13:08:59.497+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T13:08:59.499+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T13:08:59.508+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T13:08:59.519+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T13:08:59.514+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T13:08:59.519+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T13:08:59.521+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T13:08:59.520+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T13:08:59.520+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T13:08:59.521+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T13:08:59.521+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T13:08:59.522+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T13:08:59.522+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T13:08:59.523+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T13:08:59.530+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T13:08:59.531+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T13:08:59.533+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T13:08:59.534+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T13:08:59.538+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T13:08:59.547+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T13:08:59.551+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:08:59.551+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:08:59.552+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:08:59.554+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:08:59.555+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T13:08:59.563+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T13:08:59.566+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T13:08:59.569+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:08:59.569+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:08:59.569+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:08:59.569+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:08:59.570+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.572+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.572+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.574+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.574+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.577+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec959d7] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.635+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d8fddf] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.644+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@61062386 wrapping com.mysql.cj.jdbc.ConnectionImpl@fdd77a0] will not be managed by Spring
2025-12-24T13:08:59.638+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b0d437] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.641+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc81065] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.682+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203781084 wrapping com.mysql.cj.jdbc.ConnectionImpl@79e686fe] will not be managed by Spring
2025-12-24T13:08:59.642+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a921edd] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.645+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@215820724 wrapping com.mysql.cj.jdbc.ConnectionImpl@50dde6e] will not be managed by Spring
2025-12-24T13:08:59.685+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.690+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.645+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.681+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332664875 wrapping com.mysql.cj.jdbc.ConnectionImpl@2014c09c] will not be managed by Spring
2025-12-24T13:08:59.702+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.683+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.685+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@935855080 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d008ac0] will not be managed by Spring
2025-12-24T13:08:59.701+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.704+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.705+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.707+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.736+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.738+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.739+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.741+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.745+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@70d8fddf]
2025-12-24T13:08:59.745+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ec959d7]
2025-12-24T13:08:59.746+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64b0d437]
2025-12-24T13:08:59.747+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.748+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.749+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.749+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de128a0] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.751+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T13:08:59.753+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf3284f] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.753+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1870002357 wrapping com.mysql.cj.jdbc.ConnectionImpl@50dde6e] will not be managed by Spring
2025-12-24T13:08:59.756+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1274950092 wrapping com.mysql.cj.jdbc.ConnectionImpl@2014c09c] will not be managed by Spring
2025-12-24T13:08:59.754+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.755+09:00 DEBUG 23216 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.756+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T13:08:59.757+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T13:08:59.758+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bc81065]
2025-12-24T13:08:59.758+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.773+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.764+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T13:08:59.767+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T13:08:59.772+09:00 DEBUG 23216 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T13:08:59.773+09:00 DEBUG 23216 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T13:08:59.774+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a921edd]
2025-12-24T13:08:59.774+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e44b110] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.782+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.783+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@869796176 wrapping com.mysql.cj.jdbc.ConnectionImpl@79e686fe] will not be managed by Spring
2025-12-24T13:08:59.784+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27428e11] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.784+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T13:08:59.785+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2127386291 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d008ac0] will not be managed by Spring
2025-12-24T13:08:59.786+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T13:08:59.789+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T13:08:59.789+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T13:08:59.812+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T13:08:59.816+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T13:08:59.816+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T13:08:59.816+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T13:08:59.817+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T13:08:59.819+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T13:08:59.819+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T13:08:59.820+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cf3284f]
2025-12-24T13:08:59.820+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T13:08:59.819+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T13:08:59.820+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7de128a0]
2025-12-24T13:08:59.821+09:00  INFO 23216 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T13:08:59.828+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T13:08:59.831+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T13:08:59.832+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.832+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.839+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:08:59.833+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:08:59.833+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T13:08:59.834+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T13:08:59.835+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T13:08:59.841+09:00 DEBUG 23216 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.842+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T13:08:59.851+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T13:08:59.887+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.891+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d49473] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.895+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2048095385 wrapping com.mysql.cj.jdbc.ConnectionImpl@50dde6e] will not be managed by Spring
2025-12-24T13:08:59.898+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.854+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e44b110]
2025-12-24T13:08:59.854+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27428e11]
2025-12-24T13:08:59.855+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:08:59.885+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.902+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.904+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.921+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:08:59.925+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.905+09:00  INFO 23216 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T13:08:59.936+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:08:59.941+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T13:08:59.906+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T13:08:59.951+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:08:59.951+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.962+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27e3c49b] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.963+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@690236951 wrapping com.mysql.cj.jdbc.ConnectionImpl@2014c09c] will not be managed by Spring
2025-12-24T13:08:59.974+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T13:08:59.980+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T13:08:59.984+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:08:59.987+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74d49473]
2025-12-24T13:08:59.991+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:08:59.995+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb4b2d3] was not registered for synchronization because synchronization is not active
2025-12-24T13:08:59.996+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534642438 wrapping com.mysql.cj.jdbc.ConnectionImpl@50dde6e] will not be managed by Spring
2025-12-24T13:08:59.998+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T13:09:00.003+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T13:09:00.009+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T13:09:00.012+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27e3c49b]
2025-12-24T13:09:00.016+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T13:09:00.016+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6819242c] was not registered for synchronization because synchronization is not active
2025-12-24T13:09:00.018+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699376190 wrapping com.mysql.cj.jdbc.ConnectionImpl@2014c09c] will not be managed by Spring
2025-12-24T13:09:00.024+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T13:09:00.039+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T13:09:00.058+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cb4b2d3]
2025-12-24T13:09:00.058+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T13:09:00.064+09:00  INFO 23216 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T13:09:00.065+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:09:00.071+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T13:09:00.071+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T13:09:00.073+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6819242c]
2025-12-24T13:09:00.073+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:09:00.079+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T13:09:00.086+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T13:09:00.088+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T13:15:38.866+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T13:15:38.868+09:00 DEBUG 23216 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T14:01:22.590+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T14:01:22.592+09:00 DEBUG 23216 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T14:01:46.843+09:00 DEBUG 23216 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T14:01:46.847+09:00 DEBUG 23216 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T14:21:30.764+09:00 DEBUG 23216 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T14:21:30.765+09:00 DEBUG 23216 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:06:16.434+09:00  INFO 23216 --- [http-nio-8080-exec-1] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header
 Note: further occurrences of HTTP request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x00{0x010x000x00w0x030x03.0xaa0xba0xe6e0xa50x95MSZ%0xd50xbb0x8c0x1d0xba0xe50xd70xdd0xb30xbd0xb70xf40xef0xdc!uG0x970x000xa90x110x000x000x1a0xc0/0xc0+0xc00x110xc00x070xc00x130xc00x090xc00x140xc00x0a0x000x050x00/0x0050xc00x120x000x0a0x010x000x0040x000x050x000x050x010x000x000x000x000x000x0a0x000x080x000x060x000x170x000x180x000x190x000x0b0x000x020x010x000x000x0d0x000x100x000x0e0x040x010x040x030x020x010x020x030x040x010x050x010x060x010xff0x010x000x010x00...]. HTTP method names must be tokens
	at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:402) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:272) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:973) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:491) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.49.jar:10.1.49]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-12-24T15:06:16.947+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /
2025-12-24T15:06:16.947+09:00 DEBUG 23216 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:06:17.209+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /download/powershell/
2025-12-24T15:06:17.209+09:00 DEBUG 23216 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:06:17.496+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /get.php
2025-12-24T15:06:17.498+09:00 DEBUG 23216 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:52:10.410+09:00  INFO 6540 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 6540 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T15:52:10.439+09:00 DEBUG 6540 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T15:52:10.442+09:00  INFO 6540 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T15:52:12.674+09:00 DEBUG 6540 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T15:52:12.676+09:00 DEBUG 6540 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T15:52:13.080+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T15:52:13.087+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T15:52:13.089+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T15:52:13.089+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T15:52:13.091+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T15:52:13.105+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T15:52:13.135+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T15:52:13.141+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T15:52:13.148+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T15:52:13.158+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T15:52:13.166+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T15:52:13.169+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T15:52:13.171+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T15:52:13.173+09:00 DEBUG 6540 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T15:52:14.337+09:00  INFO 6540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T15:52:14.365+09:00  INFO 6540 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T15:52:14.368+09:00  INFO 6540 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T15:52:14.522+09:00  INFO 6540 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T15:52:14.523+09:00  INFO 6540 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3988 ms
2025-12-24T15:52:14.642+09:00 DEBUG 6540 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T15:52:14.643+09:00 DEBUG 6540 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T15:52:15.413+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T15:52:15.620+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T15:52:15.687+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T15:52:15.735+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T15:52:15.788+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T15:52:15.816+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T15:52:15.893+09:00 DEBUG 6540 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T15:52:17.739+09:00 DEBUG 6540 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T15:52:18.292+09:00 DEBUG 6540 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T15:52:18.351+09:00  WARN 6540 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fd177220-b7de-4f9b-92b0-fd6ce1891018

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T15:52:18.403+09:00  INFO 6540 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T15:52:18.639+09:00 DEBUG 6540 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T15:52:18.982+09:00 DEBUG 6540 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T15:52:19.130+09:00 DEBUG 6540 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T15:52:19.174+09:00 DEBUG 6540 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T15:52:19.601+09:00  INFO 6540 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T15:52:19.642+09:00  INFO 6540 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 10.405 seconds (process running for 11.033)
2025-12-24T15:52:20.243+09:00  INFO 6540 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T15:52:20.248+09:00  INFO 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T15:52:20.250+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T15:52:20.251+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T15:52:20.251+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T15:52:20.252+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@305e95a4
2025-12-24T15:52:20.254+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@222d9d4f
2025-12-24T15:52:20.256+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T15:52:20.258+09:00  INFO 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-12-24T15:52:20.318+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:52:20.318+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:52:20.371+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:52:20.373+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:52:32.506+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T15:52:32.511+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T15:52:32.512+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:52:32.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T15:52:32.517+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T15:52:32.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T15:52:32.682+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T15:52:32.690+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T15:52:32.701+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:32.707+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ba933] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:32.722+09:00  INFO 6540 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T15:52:33.000+09:00  INFO 6540 --- [http-nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4a624838
2025-12-24T15:52:33.003+09:00  INFO 6540 --- [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T15:52:33.009+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@294901921 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:33.020+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T15:52:33.062+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T15:52:33.106+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T15:52:33.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53ba933]
2025-12-24T15:52:33.417+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T15:52:33.418+09:00  INFO 6540 --- [http-nio-8080-exec-4] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T15:52:33.432+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:33.443+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T15:52:33.459+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:34.310+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:52:34.321+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:52:34.357+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:52:34.364+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:52:34.367+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:52:34.372+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:52:34.469+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T15:52:34.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:52:34.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:52:34.472+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:52:34.473+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:52:34.475+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:52:34.490+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:52:34.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:52:34.508+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:52:34.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:52:34.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:52:34.507+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:52:34.508+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:52:34.509+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:52:34.509+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:52:34.510+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:52:34.510+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:52:34.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:52:34.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.516+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:52:34.516+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:52:34.517+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:52:34.522+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:52:34.524+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f348e73] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.525+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:52:34.525+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:52:34.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c4aa3c9] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.540+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.551+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.553+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7f375] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.551+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727b4cfd] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.552+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fa7b5b2] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@134949770 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:34.575+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2005184554 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:52:34.575+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680511618 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:34.586+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:52:34.587+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:52:34.589+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:52:34.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:52:34.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:52:34.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T15:52:34.639+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1997398872 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T15:52:34.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:34.642+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f348e73]
2025-12-24T15:52:34.644+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:34.653+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:34.656+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753432514 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.657+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:34.659+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:34.668+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T15:52:34.677+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:52:34.685+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c4aa3c9]
2025-12-24T15:52:34.688+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:34.689+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:34.691+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:52:34.692+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:52:34.700+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@727b4cfd]
2025-12-24T15:52:34.702+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:34.703+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:52:34.707+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.712+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ca8695] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.704+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:52:34.708+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28d7f375]
2025-12-24T15:52:34.716+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767750172 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.717+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fa7b5b2]
2025-12-24T15:52:34.720+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.721+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:34.722+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:34.723+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275d30f5] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.724+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:52:34.724+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:52:34.726+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1903753400 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.732+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:34.732+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:34.738+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:52:34.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:34.745+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56ca8695]
2025-12-24T15:52:34.748+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:34.748+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@275d30f5]
2025-12-24T15:52:34.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45a13f8c] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.750+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbc36b5] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.751+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1383621060 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.751+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@375456297 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.752+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:34.753+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:34.754+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:52:34.754+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:52:34.757+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:52:34.757+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:52:34.758+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45a13f8c]
2025-12-24T15:52:34.758+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cbc36b5]
2025-12-24T15:52:34.760+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.760+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.760+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52e5e774] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.760+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b895f3f] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.762+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1703828997 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.764+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052470642 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.765+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:34.765+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:34.766+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:34.766+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:34.770+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:52:34.770+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:52:34.773+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b895f3f]
2025-12-24T15:52:34.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52e5e774]
2025-12-24T15:52:34.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.775+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.775+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527e4c1f] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.775+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e8d5d5] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.775+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1932497352 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@80434139 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:34.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:34.777+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:52:34.777+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:52:34.782+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:34.782+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:34.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79e8d5d5]
2025-12-24T15:52:34.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@527e4c1f]
2025-12-24T15:52:34.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542ee9e3] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49f154a6] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.787+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809307854 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.788+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147642213 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.790+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:34.790+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:34.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:52:34.792+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:52:34.802+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:52:34.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:52:34.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49f154a6]
2025-12-24T15:52:34.805+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.805+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542ee9e3]
2025-12-24T15:52:34.806+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa4368f] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.806+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:34.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1218198443 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:34.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e18049e] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:34.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:34.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2107838490 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:34.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:52:34.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:34.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:52:34.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:34.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:34.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa4368f]
2025-12-24T15:52:34.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e18049e]
2025-12-24T15:52:34.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:34.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:34.849+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:52:34.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:52:34.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:34.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:35.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T15:52:35.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T15:52:35.884+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-24T15:52:35.908+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T15:52:35.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T15:52:35.920+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T15:52:35.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T15:52:35.932+09:00  INFO 6540 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=3
2025-12-24T15:52:35.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:35.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T15:52:35.936+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:39.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T15:52:39.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T15:52:39.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:52:39.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T15:52:39.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T15:52:39.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T15:52:39.926+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T15:52:39.926+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T15:52:39.926+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:39.927+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ebf50a] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:39.929+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1528012410 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:39.930+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T15:52:39.933+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T15:52:39.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T15:52:39.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51ebf50a]
2025-12-24T15:52:40.028+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 14
2025-12-24T15:52:40.031+09:00  INFO 6540 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T15:52:40.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.034+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T15:52:40.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.340+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:52:40.347+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:52:40.372+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:52:40.376+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T15:52:40.382+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T15:52:40.382+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:52:40.383+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:52:40.389+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T15:52:40.393+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T15:52:40.400+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies
2025-12-24T15:52:40.407+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:52:40.408+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:52:40.412+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T15:52:40.413+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T15:52:40.414+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:52:40.415+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T15:52:40.416+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:52:40.419+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:52:40.425+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:52:40.428+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses
2025-12-24T15:52:40.422+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T15:52:40.422+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T15:52:40.423+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:52:40.425+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T15:52:40.428+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.430+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:52:40.431+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T15:52:40.433+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T15:52:40.435+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:52:40.436+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74835dd] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.436+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:52:40.438+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:52:40.439+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T15:52:40.440+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T15:52:40.441+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:52:40.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:52:40.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:52:40.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T15:52:40.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:52:40.533+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.452+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.454+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:52:40.492+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@820098392 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:40.531+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.534+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686a5f0e] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.534+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dcfe11] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.534+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:40.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:52:40.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e13a25] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.538+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3c40fc] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.540+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T15:52:40.562+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:40.588+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@398009689 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:52:40.589+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1751308472 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:40.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386755091 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:40.601+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.601+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:52:40.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:40.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1645826389 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 2
2025-12-24T15:52:40.603+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:40.604+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d20cabb] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.605+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T15:52:40.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:40.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:40.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74835dd]
2025-12-24T15:52:40.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:40.612+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:40.614+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.614+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1882702277 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:40.617+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=14, companyCode=R722OO, companyN (truncated)...]
2025-12-24T15:52:40.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:52:40.620+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T15:52:40.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686a5f0e]
2025-12-24T15:52:40.622+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.622+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T15:52:40.623+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T15:52:40.624+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T15:52:40.624+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.628+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68e13a25]
2025-12-24T15:52:40.655+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.663+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464af5a6] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.664+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@385220775 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.665+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:40.665+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:40.630+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10dcfe11]
2025-12-24T15:52:40.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T15:52:40.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:52:40.672+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.645+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:40.654+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T15:52:40.669+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.673+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/pending
2025-12-24T15:52:40.683+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a3c40fc]
2025-12-24T15:52:40.684+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d20cabb]
2025-12-24T15:52:40.684+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@965a193] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.693+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T15:52:40.704+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T15:52:40.705+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.707+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.708+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:40.714+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@230665624 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:40.724+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:40.719+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/expenses/pending-approvals
2025-12-24T15:52:40.720+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T15:52:40.722+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:52:40.723+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@464af5a6]
2025-12-24T15:52:40.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.725+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:40.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T15:52:40.747+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T15:52:40.747+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T15:52:40.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.756+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:40.755+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.757+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:40.758+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.758+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d58904] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.759+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1992206417 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:40.756+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T15:52:40.756+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47343c3d] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.765+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T15:52:40.766+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:52:40.783+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1447171768 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.790+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:40.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T15:52:40.787+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 14(Long)
2025-12-24T15:52:40.789+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8d0a2e] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:40.805+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T15:52:40.807+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@541778319 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:40.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@965a193]
2025-12-24T15:52:40.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@53d58904]
2025-12-24T15:52:40.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T15:52:40.811+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47343c3d]
2025-12-24T15:52:40.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@254902f8] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:52:40.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.812+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1132070840 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 14(Long)
2025-12-24T15:52:40.819+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a707eac] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:52:40.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:40.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1589453128 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:40.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:40.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:40.836+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T15:52:40.838+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:52:40.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e8d0a2e]
2025-12-24T15:52:40.851+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:52:40.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T15:52:40.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:40.859+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@254902f8]
2025-12-24T15:52:40.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.870+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cab8a3] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1764288085 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:40.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:40.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T15:52:40.882+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a707eac]
2025-12-24T15:52:40.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d27105d] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:40.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@341542475 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:40.892+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35cab8a3]
2025-12-24T15:52:40.892+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:52:40.898+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.899+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18c0162f] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.900+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 14(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:52:40.900+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2016393780 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.906+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:40.908+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T15:52:40.915+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 2
2025-12-24T15:52:40.920+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d27105d]
2025-12-24T15:52:40.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.930+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646ddfa2] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.931+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@500700620 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:40.931+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T15:52:40.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:40.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18c0162f]
2025-12-24T15:52:40.933+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:40.934+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.936+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545c431d] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.938+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1278564055 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:40.940+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:40.943+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:40.949+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@646ddfa2]
2025-12-24T15:52:40.948+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:40.951+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:40.951+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a6ba087] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:40.959+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1089595047 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:40.960+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:40.963+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? , ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:52:40.964+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@545c431d]
2025-12-24T15:52:40.968+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 14(Long), 5(Long), 4(Long)
2025-12-24T15:52:40.968+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:40.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:52:40.974+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:41.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 2
2025-12-24T15:52:41.137+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a6ba087]
2025-12-24T15:52:41.145+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:41.147+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3092b783] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:41.148+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@661280398 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:41.148+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:41.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:41.154+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:41.165+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3092b783]
2025-12-24T15:52:41.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:41.168+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:52:41.171+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:42.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:52:42.942+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:52:42.947+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:52:42.947+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:52:42.952+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T15:52:42.952+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/companies
2025-12-24T15:52:42.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:52:42.957+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:52:42.958+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:52:42.958+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:52:42.958+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:52:42.958+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:52:42.959+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:42.959+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:42.959+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b71af8d] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:42.960+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73125581] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:42.965+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1176518732 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:52:42.966+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1583357254 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:42.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:42.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:42.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:42.973+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:42.981+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:42.982+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:42.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73125581]
2025-12-24T15:52:42.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b71af8d]
2025-12-24T15:52:42.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:42.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:42.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T15:52:42.988+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=21, userId=1, companyId= (truncated)...]
2025-12-24T15:52:42.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:42.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:43.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T15:52:43.013+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/14/applications
2025-12-24T15:52:43.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T15:52:43.017+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/14
2025-12-24T15:52:43.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T15:52:43.048+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T15:52:43.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T15:52:43.051+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T15:52:43.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T15:52:43.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T15:52:43.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T15:52:43.059+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.059+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6b51b8] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.075+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T15:52:43.102+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T15:52:43.148+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/14/applications
2025-12-24T15:52:43.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/14
2025-12-24T15:52:43.156+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T15:52:43.195+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company/14
2025-12-24T15:52:43.159+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@226821253 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:43.187+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/companies/14/applications
2025-12-24T15:52:43.195+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T15:52:43.199+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T15:52:43.197+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/14
2025-12-24T15:52:43.197+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:43.199+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/14/applications
2025-12-24T15:52:43.217+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:43.201+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/14", parameters={}
2025-12-24T15:52:43.201+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:43.217+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/14/applications", parameters={}
2025-12-24T15:52:43.218+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T15:52:43.219+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:43.220+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T15:52:43.224+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:43.225+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.230+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T15:52:43.232+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:43.233+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:43.234+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@509d8d20] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.236+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T15:52:43.236+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.238+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c6b51b8]
2025-12-24T15:52:43.240+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.240+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a5f04fc] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.244+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.252+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2904c8] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.254+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@328345171 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:43.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9471c8] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1170107061 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:52:43.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:43.257+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1502667763 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:52:43.259+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:43.265+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:43.265+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T15:52:43.268+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:43.270+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@436399855 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:43.271+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T15:52:43.272+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:43.276+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:43.282+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:43.282+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:43.284+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T15:52:43.284+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a5f04fc]
2025-12-24T15:52:43.284+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f2904c8]
2025-12-24T15:52:43.284+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c9471c8]
2025-12-24T15:52:43.285+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:43.286+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.287+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.288+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:43.291+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@509d8d20]
2025-12-24T15:52:43.291+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a34c7e8] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.291+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7b2333] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.292+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:52:43.292+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:43.293+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@144099395 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:43.294+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1305699824 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:52:43.297+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@539e50cd] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:43.298+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:43.299+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T15:52:43.299+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T15:52:43.300+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1789900667 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:52:43.307+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T15:52:43.310+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 14(Long)
2025-12-24T15:52:43.318+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T15:52:43.323+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T15:52:43.327+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T15:52:43.331+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T15:52:43.332+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a34c7e8]
2025-12-24T15:52:43.332+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a7b2333]
2025-12-24T15:52:43.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T15:52:43.336+09:00  INFO 6540 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T15:52:43.336+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@539e50cd]
2025-12-24T15:52:43.336+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:43.338+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T15:52:43.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:43.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:52:43.340+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:43.341+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T15:52:43.342+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:43.346+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T15:52:43.348+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:43.351+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:48.286+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/10/role
2025-12-24T15:52:48.302+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/10/role
2025-12-24T15:52:48.316+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/10/role
2025-12-24T15:52:48.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/10/role
2025-12-24T15:52:48.318+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/10/role", parameters={}
2025-12-24T15:52:48.319+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateUserRole(Long, UpdateRoleRequest)
2025-12-24T15:52:48.323+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.UpdateRoleRequest(role=ADMIN)]
2025-12-24T15:52:48.323+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:48.326+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:48.334+09:00  INFO 6540 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 role 변경 시도 - userId: 10, newRole: ADMIN, operatorId: 1
2025-12-24T15:52:48.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:48.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22977dd6] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:48.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@11566719 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:48.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:48.339+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 10(Long)
2025-12-24T15:52:48.342+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:48.342+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22977dd6]
2025-12-24T15:52:48.343+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:48.350+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd60d42] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:48.350+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1435848883 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:48.351+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:48.351+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:48.354+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:48.354+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bd60d42]
2025-12-24T15:52:48.356+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:48.356+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@656f6176] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:48.356+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@925884352 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:48.357+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:48.358+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:48.370+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:48.370+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@656f6176]
2025-12-24T15:52:48.372+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:48.372+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e146acd] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:48.373+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1273125823 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:48.373+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:48.374+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 10(Long)
2025-12-24T15:52:48.378+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T15:52:48.383+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e146acd]
2025-12-24T15:52:48.384+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:48.385+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ee3251d] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:48.385+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1581090580 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:48.385+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.updateUserCompanyRole          : ==>  Preparing: UPDATE user_company_tb SET role = ?, position = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T15:52:48.386+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.updateUserCompanyRole          : ==> Parameters: ADMIN(String), 사원(String), 10(Long), 14(Long)
2025-12-24T15:52:48.393+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.updateUserCompanyRole          : <==    Updates: 1
2025-12-24T15:52:48.393+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ee3251d]
2025-12-24T15:52:48.398+09:00  INFO 6540 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 role 변경 완료 - userId: 10, newRole: ADMIN
2025-12-24T15:52:48.399+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:48.399+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=role이 변경되었습니다., data=null)]
2025-12-24T15:52:48.400+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:49.315+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-24T15:52:49.322+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-24T15:52:49.329+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company
2025-12-24T15:52:49.334+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-24T15:52:49.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-24T15:52:49.336+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-24T15:52:49.337+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:49.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:49.339+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:49.339+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745b2725] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:49.343+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@147247125 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:52:49.343+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T15:52:49.348+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T15:52:49.352+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T15:52:49.352+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@745b2725]
2025-12-24T15:52:49.353+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T15:52:49.354+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:49.354+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T15:52:49.355+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:53.252+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/12/role
2025-12-24T15:52:53.264+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/12/role
2025-12-24T15:52:53.267+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/12/role
2025-12-24T15:52:53.269+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/12/role
2025-12-24T15:52:53.269+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/12/role", parameters={}
2025-12-24T15:52:53.270+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateUserRole(Long, UpdateRoleRequest)
2025-12-24T15:52:53.273+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.UpdateRoleRequest(role=TAX_ACCOUNTANT)]
2025-12-24T15:52:53.274+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:53.275+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.updateUserRole(java.lang.Long,com.innersignature.backend.controller.UserController$UpdateRoleRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:53.276+09:00  INFO 6540 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 사용자 role 변경 시도 - userId: 12, newRole: TAX_ACCOUNTANT, operatorId: 1
2025-12-24T15:52:53.277+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:53.280+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dbb86f4] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:53.286+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@624615445 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:53.287+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:53.288+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 12(Long)
2025-12-24T15:52:53.291+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:53.291+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3dbb86f4]
2025-12-24T15:52:53.292+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:53.293+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aaf77e8] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:53.298+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2079950059 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:53.299+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:52:53.300+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T15:52:53.302+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:52:53.302+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6aaf77e8]
2025-12-24T15:52:53.304+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:53.305+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@148c04f1] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:53.306+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@93135295 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:53.307+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:53.308+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T15:52:53.311+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 2
2025-12-24T15:52:53.316+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@148c04f1]
2025-12-24T15:52:53.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:53.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349dfb1d] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:53.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1078119155 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:53.318+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:52:53.320+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 12(Long)
2025-12-24T15:52:53.323+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T15:52:53.323+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@349dfb1d]
2025-12-24T15:52:53.323+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:53.324+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fc008da] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:53.325+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1692289324 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:52:53.325+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.updateUserCompanyRole          : ==>  Preparing: UPDATE user_company_tb SET role = ?, position = ?, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T15:52:53.325+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.updateUserCompanyRole          : ==> Parameters: TAX_ACCOUNTANT(String), 사원(String), 12(Long), 14(Long)
2025-12-24T15:52:53.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.updateUserCompanyRole          : <==    Updates: 1
2025-12-24T15:52:53.336+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fc008da]
2025-12-24T15:52:53.336+09:00  INFO 6540 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 사용자 role 변경 완료 - userId: 12, newRole: TAX_ACCOUNTANT
2025-12-24T15:52:53.337+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:53.337+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=role이 변경되었습니다., data=null)]
2025-12-24T15:52:53.339+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:52:54.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company
2025-12-24T15:52:54.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company
2025-12-24T15:52:54.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/users/company
2025-12-24T15:52:54.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company
2025-12-24T15:52:54.170+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company", parameters={}
2025-12-24T15:52:54.170+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsers()
2025-12-24T15:52:54.171+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:54.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T15:52:54.176+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:52:54.176+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0a4d9b] was not registered for synchronization because synchronization is not active
2025-12-24T15:52:54.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2054265724 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:52:54.185+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T15:52:54.186+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 14(Long)
2025-12-24T15:52:54.189+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 4
2025-12-24T15:52:54.190+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0a4d9b]
2025-12-24T15:52:54.191+09:00  INFO 6540 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 14, count: 4
2025-12-24T15:52:54.191+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:52:54.192+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T15:52:54.196+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:00.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T15:53:00.581+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T15:53:00.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 14, uri: /api/logout
2025-12-24T15:53:00.594+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T15:53:00.595+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T15:53:00.595+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T15:53:00.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T15:53:00.604+09:00  INFO 6540 --- [http-nio-8080-exec-7] SECURITY                                 : LOGOUT userId=1
2025-12-24T15:53:00.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:00.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T15:53:00.612+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:03.542+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T15:53:03.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T15:53:03.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:53:03.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T15:53:03.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T15:53:03.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T15:53:03.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T15:53:03.550+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T15:53:03.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:03.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fb4343] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:03.635+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@264309909 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:03.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T15:53:03.642+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T15:53:03.645+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T15:53:03.645+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fb4343]
2025-12-24T15:53:03.729+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T15:53:03.729+09:00  INFO 6540 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T15:53:03.730+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:03.730+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T15:53:03.731+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:03.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:53:03.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:53:03.897+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T15:53:03.899+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:53:03.900+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:53:03.901+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:53:03.902+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:03.903+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6177ebb4] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:03.915+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1348241973 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:03.916+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:53:03.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:03.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:03.925+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:03.927+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T15:53:03.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:03.940+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T15:53:03.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6177ebb4]
2025-12-24T15:53:03.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:03.942+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T15:53:03.942+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:03.944+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:03.945+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:03.950+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:03.950+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:03.953+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:03.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:03.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:03.966+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:03.957+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:03.958+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:03.973+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:03.962+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:03.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:03.975+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:03.976+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:03.978+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:03.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:03.984+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:03.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:03.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:03.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f02e4a0] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:03.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761d78c3] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:03.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:03.990+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:03.988+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667859740 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:03.991+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:03.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:03.991+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:03.991+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31834193] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:03.991+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390f6489] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:03.992+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:03.993+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@980327702 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:03.994+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1077115198 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.000+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:04.000+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:04.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:04.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:04.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@203063227 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:04.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:04.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f02e4a0]
2025-12-24T15:53:04.004+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:04.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:04.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:04.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:04.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31834193]
2025-12-24T15:53:04.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:04.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761d78c3]
2025-12-24T15:53:04.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:04.008+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:04.008+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:04.009+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.014+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:04.014+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@390f6489]
2025-12-24T15:53:04.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c7338d5] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.017+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:04.017+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.017+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2125891686 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.019+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7404a7e2] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.020+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:04.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1609947038 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:04.022+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:04.022+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:04.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:04.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:04.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c7338d5]
2025-12-24T15:53:04.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7404a7e2]
2025-12-24T15:53:04.025+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.025+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.025+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3895fa70] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.026+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4fa319] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.028+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@227919911 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@178598949 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:04.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:04.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:04.033+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:04.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:04.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:04.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3895fa70]
2025-12-24T15:53:04.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4fa319]
2025-12-24T15:53:04.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d07e775] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17df96ab] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1247199455 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@825145378 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:04.038+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:04.038+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:04.038+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:04.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:04.041+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d07e775]
2025-12-24T15:53:04.042+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:04.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17df96ab]
2025-12-24T15:53:04.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3a24f1] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.048+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.049+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417618060 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.049+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@202af364] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.049+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:04.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593802613 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:04.051+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:04.051+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:04.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:04.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:04.054+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@202af364]
2025-12-24T15:53:04.054+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a3a24f1]
2025-12-24T15:53:04.055+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.055+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2834011b] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2651941] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1601337002 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@701741136 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:04.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:04.059+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:04.061+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:04.067+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:04.068+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2651941]
2025-12-24T15:53:04.068+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:04.069+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.069+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2834011b]
2025-12-24T15:53:04.070+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363fff5b] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.070+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:04.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@473581516 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:04.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d8bfa0] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:04.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:04.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16322064 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:04.072+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:04.072+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:04.073+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:04.075+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:04.076+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@363fff5b]
2025-12-24T15:53:04.077+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:04.082+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:04.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9d8bfa0]
2025-12-24T15:53:04.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:04.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:04.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:04.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:04.088+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:05.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:53:05.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T15:53:05.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:05.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:05.851+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:53:05.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T15:53:05.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T15:53:05.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T15:53:05.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:53:05.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T15:53:05.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:53:05.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T15:53:05.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:53:05.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T15:53:05.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:05.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:05.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:05.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc51b9c] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:05.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:05.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15814fb] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:05.892+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:05.896+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:05.902+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:05.903+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:05.905+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:05.906+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@768724741 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:05.908+09:00  INFO 6540 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:05.909+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:05.909+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:05.911+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2026860710 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:05.915+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:05.912+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:05.912+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:05.914+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T15:53:05.917+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b78c906] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:05.918+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T15:53:05.918+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:05.919+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:05.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:05.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T15:53:05.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@565400084 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:05.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T15:53:05.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609eaaa1] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:05.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15814fb]
2025-12-24T15:53:05.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:05.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cc51b9c]
2025-12-24T15:53:05.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:05.926+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:05.928+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:53:05.927+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:05.927+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@99766948 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:05.930+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:05.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T15:53:05.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:05.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:05.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:05.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:05.943+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b78c906]
2025-12-24T15:53:05.944+09:00  INFO 6540 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:05.945+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:05.946+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:05.946+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@609eaaa1]
2025-12-24T15:53:05.947+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:05.947+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:05.950+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:05.951+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:05.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:05.955+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:08.704+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:08.710+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/me
2025-12-24T15:53:08.712+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:08.713+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/me
2025-12-24T15:53:08.714+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/me", parameters={}
2025-12-24T15:53:08.714+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateCurrentUser(MyProfileUpdateRequest)
2025-12-24T15:53:08.716+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.MyProfileUpdateRequest(koreanName=test_user1, email=mhm1404@naver.com, position=사원)]
2025-12-24T15:53:08.814+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 요청 - userId: 3
2025-12-24T15:53:08.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:08.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693be95] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:08.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@136586597 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:08.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:08.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:08.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:08.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@693be95]
2025-12-24T15:53:08.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:08.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43de40c8] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:08.825+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@683975649 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:08.825+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:08.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:08.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:08.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43de40c8]
2025-12-24T15:53:08.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:08.833+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@485b9630] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:08.833+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2041726963 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:08.833+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2025-12-24T15:53:08.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: mhm1404@naver.com(String)
2025-12-24T15:53:08.837+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2025-12-24T15:53:08.838+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@485b9630]
2025-12-24T15:53:08.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:08.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b65cbe] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:08.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1959312526 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:08.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T15:53:08.842+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user1(String), mhm1404@naver.com(String), 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 3(Long)
2025-12-24T15:53:08.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T15:53:08.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60b65cbe]
2025-12-24T15:53:08.851+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 완료 - userId: 3
2025-12-24T15:53:08.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:08.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자 정보 수정 완료, data=null)]
2025-12-24T15:53:08.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:10.510+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:10.512+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:53:10.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T15:53:10.522+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:53:10.528+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:10.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:10.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:53:10.554+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:10.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T15:53:10.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:53:10.561+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T15:53:10.562+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:10.564+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T15:53:10.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:53:10.572+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:53:10.564+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T15:53:10.565+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:10.569+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:53:10.569+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:10.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:53:10.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:10.582+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T15:53:10.582+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:53:10.582+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:10.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:10.584+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:10.585+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T15:53:10.589+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:53:10.590+09:00  INFO 6540 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:10.592+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:10.590+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76264abb] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:10.590+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:10.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T15:53:10.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:10.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:10.594+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4183941b] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:10.595+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:10.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35358227] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:10.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423377a5] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:10.604+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:10.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:10.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1902154253 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:10.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4100843a] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:10.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@273950354 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:10.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1159220707 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:10.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@606038125 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:10.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:53:10.609+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:10.611+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:10.613+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:10.615+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T15:53:10.615+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:10.616+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T15:53:10.616+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@477010711 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:10.616+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T15:53:10.617+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:10.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:10.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:10.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T15:53:10.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T15:53:10.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T15:53:10.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4183941b]
2025-12-24T15:53:10.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@423377a5]
2025-12-24T15:53:10.622+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76264abb]
2025-12-24T15:53:10.622+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35358227]
2025-12-24T15:53:10.622+09:00  INFO 6540 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:10.623+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:10.623+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:10.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:53:10.623+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:10.624+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:10.624+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:10.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4100843a]
2025-12-24T15:53:10.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T15:53:10.626+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:10.631+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T15:53:10.634+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:10.635+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:10.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:10.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:10.642+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:10.647+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:10.671+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:10.691+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:16.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:16.534+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:16.534+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:16.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:16.540+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:16.545+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:16.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:16.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:16.540+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:16.541+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:16.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:16.556+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:16.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:16.551+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:16.565+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:16.557+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:16.563+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:16.565+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:16.567+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.567+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516e91a] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.566+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:16.566+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:16.567+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:16.569+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:16.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:16.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a1b673] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.579+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.576+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:16.577+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028377386 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.581+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@258b02f7] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:16.584+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1270201959 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:16.586+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79074912] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.589+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:16.589+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:16.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1121875329 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:16.592+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:16.593+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:16.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@39860696 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:16.597+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:16.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:16.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@516e91a]
2025-12-24T15:53:16.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:16.603+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.601+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:16.604+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36a1b673]
2025-12-24T15:53:16.604+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4835dde4] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.605+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:16.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:16.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:16.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1326986771 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@258b02f7]
2025-12-24T15:53:16.612+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:16.612+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79074912]
2025-12-24T15:53:16.613+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:16.614+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:16.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:16.620+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:16.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:16.622+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe3d75d] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:16.628+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@317115164 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.633+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:16.635+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:16.635+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:16.635+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4835dde4]
2025-12-24T15:53:16.636+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.637+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345915b5] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.637+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:16.637+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1382364199 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fe3d75d]
2025-12-24T15:53:16.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:16.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.639+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:16.639+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77d27959] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@919212481 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:16.641+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:16.642+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:16.642+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@345915b5]
2025-12-24T15:53:16.644+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.645+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:16.645+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59943ae] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.646+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77d27959]
2025-12-24T15:53:16.647+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1087987283 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.649+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.651+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:16.651+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa5ae92] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.652+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:16.652+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@995691662 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.653+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:16.654+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:16.654+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:16.656+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59943ae]
2025-12-24T15:53:16.657+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.658+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e25b329] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.658+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:16.660+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@829295472 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.662+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5fa5ae92]
2025-12-24T15:53:16.664+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:16.665+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.672+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:16.672+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bace647] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.675+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@957284510 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.677+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:16.679+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:16.679+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7e25b329]
2025-12-24T15:53:16.682+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:16.683+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.684+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a2962d] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.686+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@21879723 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.686+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:16.686+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:16.687+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4bace647]
2025-12-24T15:53:16.687+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:16.687+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.688+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0cab96] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.690+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639899822 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.691+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:16.693+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:16.696+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:16.696+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52a2962d]
2025-12-24T15:53:16.698+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.699+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b40416] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.700+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1122101587 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:16.700+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:16.702+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:16.704+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:16.705+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d0cab96]
2025-12-24T15:53:16.707+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:16.717+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c74c8a] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:16.718+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1220479775 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:16.720+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:16.722+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:16.723+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4b40416]
2025-12-24T15:53:16.723+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:16.724+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:16.732+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:16.737+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:16.738+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:16.740+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@60c74c8a]
2025-12-24T15:53:16.741+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:16.742+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:16.746+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:18.422+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:18.422+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T15:53:18.422+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:53:18.423+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:18.430+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:18.430+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T15:53:18.432+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:18.432+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:53:18.437+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T15:53:18.442+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T15:53:18.437+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:18.441+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:18.446+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T15:53:18.447+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T15:53:18.448+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:18.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:18.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:53:18.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T15:53:18.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:18.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:18.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:53:18.452+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:18.452+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:18.452+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:18.452+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:53:18.453+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3785ab] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:18.453+09:00  INFO 6540 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:18.453+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:18.453+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:18.455+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:18.455+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:18.456+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e262a35] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:18.457+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33846f94] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:18.458+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1133474379 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:18.458+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781db19] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:18.464+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:18.465+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T15:53:18.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@940168273 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:18.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1445941652 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:18.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@544378862 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:18.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:18.467+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:18.467+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:18.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T15:53:18.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T15:53:18.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:18.469+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:18.469+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3785ab]
2025-12-24T15:53:18.470+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:18.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:18.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:18.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T15:53:18.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:53:18.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33846f94]
2025-12-24T15:53:18.472+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@781db19]
2025-12-24T15:53:18.472+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e262a35]
2025-12-24T15:53:18.472+09:00  INFO 6540 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:18.472+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:18.472+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:18.473+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:18.474+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:18.475+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:18.478+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T15:53:18.479+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:18.480+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:18.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:18.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:18.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:27.498+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T15:53:27.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T15:53:27.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-24T15:53:27.517+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T15:53:27.522+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T15:53:27.523+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T15:53:27.531+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T15:53:27.568+09:00  INFO 6540 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=3
2025-12-24T15:53:27.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:27.572+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T15:53:27.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:30.064+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T15:53:30.067+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T15:53:30.068+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:53:30.068+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T15:53:30.068+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T15:53:30.069+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T15:53:30.069+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=123)]
2025-12-24T15:53:30.070+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T15:53:30.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:30.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@210427ae] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:30.074+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@419122660 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:30.074+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T15:53:30.075+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T15:53:30.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T15:53:30.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@210427ae]
2025-12-24T15:53:30.255+09:00  WARN 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 실패 - username: test_user
2025-12-24T15:53:30.255+09:00  WARN 6540 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_FAILURE username=test_user
2025-12-24T15:53:30.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:30.256+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=아이디 또는 비밀번호가 틀렸습니다., data=null)]
2025-12-24T15:53:30.257+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:31.301+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T15:53:31.304+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T15:53:31.305+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:53:31.305+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T15:53:31.305+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T15:53:31.306+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T15:53:31.310+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T15:53:31.316+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T15:53:31.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:31.320+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3652013c] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:31.330+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1356744302 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:31.331+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T15:53:31.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T15:53:31.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T15:53:31.339+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3652013c]
2025-12-24T15:53:31.424+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T15:53:31.424+09:00  INFO 6540 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T15:53:31.425+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:31.425+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T15:53:31.426+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:31.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:53:31.978+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:53:31.981+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T15:53:31.983+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:53:32.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:32.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:32.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:32.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:32.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:53:32.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:53:32.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.019+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180cd4c2] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:32.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:32.027+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:32.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:32.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:32.030+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:32.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:32.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:32.039+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:32.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:32.039+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:32.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:32.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:32.041+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@323333284 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:32.041+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:32.042+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:32.042+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:32.042+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:32.042+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:53:32.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.049+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T15:53:32.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:32.047+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:32.047+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:32.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49fa6fff] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b74b1c7] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.057+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1958748029 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:32.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ec05da] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb24de4] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.057+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T15:53:32.057+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:32.063+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@180cd4c2]
2025-12-24T15:53:32.064+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:32.065+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:32.067+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T15:53:32.068+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@172713923 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.074+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:32.075+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:32.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:32.092+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2040180367 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.093+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1150693509 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:32.096+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:32.100+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:32.100+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:32.101+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49fa6fff]
2025-12-24T15:53:32.102+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:32.104+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:32.104+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:32.104+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:32.106+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b74b1c7]
2025-12-24T15:53:32.108+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:32.108+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:32.108+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.113+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48ec05da]
2025-12-24T15:53:32.114+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:32.114+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2447100b] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.115+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.119+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:32.122+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1241984145 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbe6905] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eb24de4]
2025-12-24T15:53:32.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:32.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@788939712 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.131+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:32.133+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:32.133+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:32.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:32.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:32.137+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:32.141+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:32.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2447100b]
2025-12-24T15:53:32.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.150+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:32.150+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a419b34] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.151+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fbe6905]
2025-12-24T15:53:32.151+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1721375551 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:32.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17c31509] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:32.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2077864117 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:32.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:32.156+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:32.157+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a419b34]
2025-12-24T15:53:32.157+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:32.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17c31509]
2025-12-24T15:53:32.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17504d42] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.159+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.164+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46cbe959] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.160+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639902375 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.166+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1227868116 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.166+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:32.166+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:32.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:32.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:32.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:32.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:32.170+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17504d42]
2025-12-24T15:53:32.171+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46cbe959]
2025-12-24T15:53:32.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1404ce64] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebae765] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@28027899 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1738688714 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:32.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:32.174+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:32.174+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:32.178+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:32.179+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:32.180+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebae765]
2025-12-24T15:53:32.182+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1404ce64]
2025-12-24T15:53:32.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c0c5ab] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a22df2d] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@719883129 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677860835 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:32.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:32.190+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:32.192+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:32.199+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:32.200+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c0c5ab]
2025-12-24T15:53:32.202+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.203+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:32.203+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e98b3ce] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.203+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a22df2d]
2025-12-24T15:53:32.204+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@728815147 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:32.204+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:32.206+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:32.207+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562ed60f] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:32.207+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:32.208+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1517924432 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:32.209+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:32.214+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:32.215+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:32.216+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e98b3ce]
2025-12-24T15:53:32.220+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:32.221+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:32.221+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:32.222+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562ed60f]
2025-12-24T15:53:32.222+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:32.223+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:32.229+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:32.231+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:40.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:53:40.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T15:53:40.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:40.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:40.059+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:53:40.059+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T15:53:40.061+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:40.063+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T15:53:40.063+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T15:53:40.065+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:40.066+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:40.077+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:40.078+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:40.066+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:53:40.081+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:53:40.067+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T15:53:40.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:40.079+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:40.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:53:40.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:40.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e59d6be] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:40.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T15:53:40.089+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T15:53:40.091+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:40.091+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424efd16] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:40.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:40.084+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:40.096+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:40.098+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:40.097+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:40.099+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:40.099+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f0c7de9] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:40.099+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:40.100+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5301ff44] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:40.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@888632987 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:40.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@339437106 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:40.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1247110823 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:40.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@850843352 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:40.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:40.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:40.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:40.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:40.136+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T15:53:40.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T15:53:40.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:40.141+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:40.161+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T15:53:40.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e59d6be]
2025-12-24T15:53:40.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:40.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T15:53:40.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:40.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:40.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f0c7de9]
2025-12-24T15:53:40.174+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@424efd16]
2025-12-24T15:53:40.174+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5301ff44]
2025-12-24T15:53:40.174+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T15:53:40.175+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:40.182+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:40.182+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:40.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:40.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:53:40.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:40.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:40.185+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:40.186+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:40.186+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:40.187+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:40.189+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:43.493+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:43.496+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing PUT /api/users/me
2025-12-24T15:53:43.498+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:43.498+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured PUT /api/users/me
2025-12-24T15:53:43.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : PUT "/api/users/me", parameters={}
2025-12-24T15:53:43.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#updateCurrentUser(MyProfileUpdateRequest)
2025-12-24T15:53:43.500+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.MyProfileUpdateRequest(koreanName=test_user, email=mhm1404@naver.com, position=사원)]
2025-12-24T15:53:43.501+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 요청 - userId: 3
2025-12-24T15:53:43.501+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:43.501+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54af08ff] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:43.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2099997535 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:43.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:43.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:43.507+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:43.508+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54af08ff]
2025-12-24T15:53:43.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:43.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@767d4b71] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:43.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@724640802 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:43.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:43.516+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:43.518+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:43.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@767d4b71]
2025-12-24T15:53:43.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:43.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d8eaa1d] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:43.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@20204574 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:43.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByEmail      : ==>  Preparing: SELECT * FROM user_tb WHERE email = ? LIMIT 1
2025-12-24T15:53:43.521+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByEmail      : ==> Parameters: mhm1404@naver.com(String)
2025-12-24T15:53:43.523+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByEmail      : <==      Total: 1
2025-12-24T15:53:43.523+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d8eaa1d]
2025-12-24T15:53:43.524+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:43.524+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18470555] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:43.526+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1894881794 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:43.529+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T15:53:43.530+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user(String), mhm1404@naver.com(String), 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 3(Long)
2025-12-24T15:53:43.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T15:53:43.536+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18470555]
2025-12-24T15:53:43.536+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 수정 완료 - userId: 3
2025-12-24T15:53:43.537+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:43.537+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자 정보 수정 완료, data=null)]
2025-12-24T15:53:43.538+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:45.726+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:45.731+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T15:53:45.731+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T15:53:45.732+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:53:45.732+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T15:53:45.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:45.788+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T15:53:45.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T15:53:45.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:53:45.802+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T15:53:45.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:45.817+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T15:53:45.830+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T15:53:45.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T15:53:45.838+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T15:53:45.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T15:53:45.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:45.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T15:53:45.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T15:53:45.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:53:45.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T15:53:45.857+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:45.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:45.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T15:53:45.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T15:53:45.862+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T15:53:45.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:45.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515707fe] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:45.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:53:45.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:53:45.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T15:53:45.872+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:45.884+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:45.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:45.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T15:53:45.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:45.893+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@289e9ef5] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:45.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34879cb8] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:45.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425dac2d] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:45.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@399933499 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:45.891+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 3, companyId: 1
2025-12-24T15:53:45.903+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:45.903+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:45.904+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long), PENDING(String)
2025-12-24T15:53:45.905+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d1b9e8] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:45.908+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1963938811 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:45.908+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1371701609 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:45.913+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:53:45.913+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T15:53:45.915+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T15:53:45.917+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@570529116 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:45.918+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T15:53:45.918+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@524408465 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:45.920+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 3(Long)
2025-12-24T15:53:45.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:45.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@515707fe]
2025-12-24T15:53:45.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:45.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:45.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:45.929+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:45.931+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T15:53:45.933+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:45.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 3
2025-12-24T15:53:45.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T15:53:45.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@34879cb8]
2025-12-24T15:53:45.939+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:45.939+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:45.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425dac2d]
2025-12-24T15:53:45.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:45.945+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43d1b9e8]
2025-12-24T15:53:45.946+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@289e9ef5]
2025-12-24T15:53:45.946+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:45.947+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=3, userId=3, companyId=1 (truncated)...]
2025-12-24T15:53:45.947+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:45.947+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 3, companyId: 1
2025-12-24T15:53:45.948+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T15:53:45.949+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:45.949+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:45.950+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:45.953+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:45.955+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:45.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=3, username=test_user, passwo (truncated)...]
2025-12-24T15:53:45.962+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:45.963+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:47.380+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:47.380+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:47.380+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:47.381+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:47.395+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:47.399+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:47.405+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:47.400+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:47.403+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:47.406+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:47.407+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:47.411+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:47.413+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:47.417+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:47.418+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:47.421+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:47.423+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:47.424+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:47.424+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:47.427+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:47.429+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:47.432+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.434+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:47.433+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:47.434+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:47.435+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497e227c] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.435+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.437+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5905f037] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.435+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.436+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.440+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524d6715] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.440+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@48283218 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.440+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e4665e] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.441+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:47.441+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1777413914 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:47.444+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@489228589 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:47.446+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:47.446+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:47.447+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:47.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@135809951 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:47.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:47.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:47.452+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:47.453+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:47.453+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@497e227c]
2025-12-24T15:53:47.454+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:47.454+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.454+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:47.455+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@524d6715]
2025-12-24T15:53:47.455+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@287f5d09] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.456+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5905f037]
2025-12-24T15:53:47.457+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:47.457+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331986431 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.459+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:47.457+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:47.458+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:47.458+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:47.463+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:47.464+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e4665e]
2025-12-24T15:53:47.464+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:47.465+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:47.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:47.469+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:47.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a133b4] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@287f5d09]
2025-12-24T15:53:47.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1045332919 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:47.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f991ca3] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:47.484+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1566347084 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.484+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:47.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:47.486+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:47.489+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@51a133b4]
2025-12-24T15:53:47.490+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.490+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:47.490+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f1e3e1] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.491+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f991ca3]
2025-12-24T15:53:47.492+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@538268632 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.496+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.496+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:47.497+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734b8ef7] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.497+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:47.497+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@879818809 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.498+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:47.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:47.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:47.500+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78f1e3e1]
2025-12-24T15:53:47.501+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.501+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da10ba6] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1782058264 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:47.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:47.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:47.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@734b8ef7]
2025-12-24T15:53:47.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.506+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606da956] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.509+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:47.511+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1333706650 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1da10ba6]
2025-12-24T15:53:47.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:47.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:47.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc47dca] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2116921135 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:47.516+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:47.516+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:47.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@606da956]
2025-12-24T15:53:47.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.521+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8df6870] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.522+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:47.524+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@91576100 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.529+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:47.529+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6bc47dca]
2025-12-24T15:53:47.530+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:47.530+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c066e09] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.545+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887383662 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.545+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:47.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:47.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8df6870]
2025-12-24T15:53:47.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:47.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22173d3d] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.552+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1366838759 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:47.553+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:47.554+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:47.555+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7c066e09]
2025-12-24T15:53:47.556+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:47.556+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:47.565+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a709c0c] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:47.566+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@88724845 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:47.567+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:47.567+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:47.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:47.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:47.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22173d3d]
2025-12-24T15:53:47.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a709c0c]
2025-12-24T15:53:47.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:47.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:47.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:47.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:47.575+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:47.579+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:48.586+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T15:53:48.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T15:53:48.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-24T15:53:48.599+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T15:53:48.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T15:53:48.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T15:53:48.603+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T15:53:48.610+09:00  INFO 6540 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=3
2025-12-24T15:53:48.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:48.620+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T15:53:48.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:51.474+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T15:53:51.486+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T15:53:51.491+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T15:53:51.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T15:53:51.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T15:53:51.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T15:53:51.504+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T15:53:51.505+09:00  INFO 6540 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T15:53:51.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.506+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2687c850] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.509+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1330718294 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:51.512+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T15:53:51.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T15:53:51.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T15:53:51.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2687c850]
2025-12-24T15:53:51.599+09:00  INFO 6540 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 3, role: USER, companyId: 1
2025-12-24T15:53:51.599+09:00  INFO 6540 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=3 username=test_user role=USER
2025-12-24T15:53:51.601+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:51.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=3, username=test_user, password= (truncated)...]
2025-12-24T15:53:51.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:51.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T15:53:51.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T15:53:51.807+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/companies
2025-12-24T15:53:51.811+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T15:53:51.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T15:53:51.814+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T15:53:51.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736c7603] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.831+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:51.835+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:51.837+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:51.837+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T15:53:51.842+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@29450822 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T15:53:51.849+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T15:53:51.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 3(Long)
2025-12-24T15:53:51.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:51.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:51.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:51.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:51.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:51.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 3
2025-12-24T15:53:51.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T15:53:51.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:51.862+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:51.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:51.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736c7603]
2025-12-24T15:53:51.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T15:53:51.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T15:53:51.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:51.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:51.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:51.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T15:53:51.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=3
2025-12-24T15:53:51.870+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.870+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:51.870+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=A7BW5H, companyNa (truncated)...]
2025-12-24T15:53:51.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T15:53:51.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=3", parameters={masked}
2025-12-24T15:53:51.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3112d2b2] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.877+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:51.880+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T15:53:51.880+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T15:53:51.882+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@deff51] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a0b029] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.895+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd9f5e9] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.899+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@808640140 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T15:53:51.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1518126868 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:51.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1753431277 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T15:53:51.932+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@543285044 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:51.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:51.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:51.940+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:51.941+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T15:53:51.946+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:51.947+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:51.949+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:51.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 3(Long), 1(Long)
2025-12-24T15:53:51.964+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:51.965+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:51.967+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T15:53:51.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:51.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@deff51]
2025-12-24T15:53:51.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64a0b029]
2025-12-24T15:53:51.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd9f5e9]
2025-12-24T15:53:51.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3112d2b2]
2025-12-24T15:53:51.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:51.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:51.973+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:51.974+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:51.979+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4f116e] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.981+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T15:53:51.983+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69bfe532] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:51.983+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:51.984+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448719143 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:51.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:51.988+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1941357028 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:51.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:51.998+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:51.999+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:51.999+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:52.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:52.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:52.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@69bfe532]
2025-12-24T15:53:52.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a4f116e]
2025-12-24T15:53:52.004+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6055c9] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f955bb8] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2095102914 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:52.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@224655685 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:52.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:52.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:52.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:52.008+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:52.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:52.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:52.018+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6055c9]
2025-12-24T15:53:52.020+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f955bb8]
2025-12-24T15:53:52.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.022+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6506dd51] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.022+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702bb67f] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@228594213 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:52.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:52.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1710652249 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:52.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:52.025+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T15:53:52.031+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T15:53:52.033+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:52.034+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6506dd51]
2025-12-24T15:53:52.034+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 1
2025-12-24T15:53:52.034+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@702bb67f]
2025-12-24T15:53:52.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a47c20b] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037939783 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:52.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bcb844] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:52.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@160004834 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:52.038+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:52.038+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:52.039+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:52.041+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:52.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a47c20b]
2025-12-24T15:53:52.048+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.049+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5c6241] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.051+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@673167451 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:52.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:52.100+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:52.101+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24bcb844]
2025-12-24T15:53:52.102+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.102+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405a5e33] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.101+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:52.103+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@23437540 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:52.103+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==>  Preparing: SELECT * FROM expense_detail_tb WHERE company_id = ? AND expense_report_id IN ( ? ) ORDER BY expense_report_id, expense_detail_id
2025-12-24T15:53:52.104+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : ==> Parameters: 1(Long), 1(Long)
2025-12-24T15:53:52.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:52.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@405a5e33]
2025-12-24T15:53:52.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseDetailsBatch      : <==      Total: 1
2025-12-24T15:53:52.150+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.151+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c5c6241]
2025-12-24T15:53:52.151+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36be23a] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.151+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T15:53:52.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@299016098 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T15:53:52.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@456f36a9] was not registered for synchronization because synchronization is not active
2025-12-24T15:53:52.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:52.154+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444467759 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T15:53:52.156+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T15:53:52.155+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:52.156+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T15:53:52.181+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:52.181+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T15:53:52.181+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36be23a]
2025-12-24T15:53:52.182+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@456f36a9]
2025-12-24T15:53:52.183+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:52.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T15:53:52.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:52.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[ExpenseReportDto(expenseRepo (truncated)...]
2025-12-24T15:53:52.185+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T15:53:52.189+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:15.187+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T16:02:15.194+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T16:02:15.198+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 3, role: USER, companyId: 1, uri: /api/logout
2025-12-24T16:02:15.201+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T16:02:15.207+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T16:02:15.208+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T16:02:15.211+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T16:02:15.222+09:00  INFO 6540 --- [http-nio-8080-exec-3] SECURITY                                 : LOGOUT userId=3
2025-12-24T16:02:15.225+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:15.226+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T16:02:15.228+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:20.018+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:02:20.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:02:20.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:02:20.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:02:20.022+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:02:20.022+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:02:20.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user, password=1234)]
2025-12-24T16:02:20.023+09:00  INFO 6540 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user
2025-12-24T16:02:20.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:20.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3248b79b] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:20.026+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1808024618 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:02:20.027+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:02:20.064+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user(String)
2025-12-24T16:02:20.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 0
2025-12-24T16:02:20.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3248b79b]
2025-12-24T16:02:20.125+09:00  WARN 6540 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 로그인 실패 - username: test_user
2025-12-24T16:02:20.125+09:00  WARN 6540 --- [http-nio-8080-exec-7] SECURITY                                 : LOGIN_FAILURE username=test_user
2025-12-24T16:02:20.126+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:20.126+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=아이디 또는 비밀번호가 틀렸습니다., data=null)]
2025-12-24T16:02:20.127+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:27.331+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_ceo
2025-12-24T16:02:27.333+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:02:27.333+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_ceo
2025-12-24T16:02:27.334+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_ceo", parameters={masked}
2025-12-24T16:02:27.334+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:02:27.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:27.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a366299] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:27.337+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@216904696 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:02:27.338+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:02:27.339+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo(String)
2025-12-24T16:02:27.348+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:02:27.367+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a366299]
2025-12-24T16:02:27.369+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:27.372+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:02:27.375+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:39.470+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=testceo%40naver.com
2025-12-24T16:02:39.473+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:02:39.473+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=testceo%40naver.com
2025-12-24T16:02:39.474+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=testceo%40naver.com", parameters={masked}
2025-12-24T16:02:39.474+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2025-12-24T16:02:39.475+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:39.475+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780ed858] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:39.477+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2142813176 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:02:39.478+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2025-12-24T16:02:39.479+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: testceo@naver.com(String)
2025-12-24T16:02:39.484+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2025-12-24T16:02:39.484+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@780ed858]
2025-12-24T16:02:39.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:39.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 이메일입니다., data={available=true, exists=false})]
2025-12-24T16:02:39.486+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:44.411+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:02:44.415+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:02:44.417+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:02:44.418+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:02:44.418+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:02:44.419+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:02:44.427+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_ceo, password=1234, koreanName=test_ceo, email=testceo@ (truncated)...]
2025-12-24T16:02:44.439+09:00  INFO 6540 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_ceo, koreanName: test_ceo, role: CEO
2025-12-24T16:02:44.439+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:44.439+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e8657] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:44.442+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1471687431 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:02:44.442+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:02:44.443+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_ceo(String)
2025-12-24T16:02:44.447+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:02:44.448+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39e8657]
2025-12-24T16:02:44.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:44.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77dc3ee9] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:44.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@712974078 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:02:44.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2025-12-24T16:02:44.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: testceo@naver.com(String)
2025-12-24T16:02:44.455+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2025-12-24T16:02:44.456+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@77dc3ee9]
2025-12-24T16:02:44.542+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:44.543+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d73098] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:44.543+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@401243453 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:02:44.545+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:02:44.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_ceo(String), $2a$10$Lvw2gQ2GPIVSaCDFiYfGg.LbhCavSL0C3Z6gZ0jiRncZn2Aa95zfy(String), test_ceo(String), testceo@naver.com(String), 대표(String), CEO(String), null, true(Boolean), APPROVED(String)
2025-12-24T16:02:44.570+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:02:44.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1d73098]
2025-12-24T16:02:44.571+09:00  INFO 6540 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_ceo, role: CEO
2025-12-24T16:02:44.572+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:44.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입이 완료되었습니다., data=null)]
2025-12-24T16:02:44.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:50.143+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user
2025-12-24T16:02:50.147+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:02:50.148+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user
2025-12-24T16:02:50.148+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user", parameters={masked}
2025-12-24T16:02:50.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:02:50.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:50.150+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28881654] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:50.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@763309231 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:02:50.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:02:50.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user(String)
2025-12-24T16:02:50.155+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:02:50.155+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28881654]
2025-12-24T16:02:50.156+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:50.157+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:02:50.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:02:59.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-email?email=testuser%40naver.com
2025-12-24T16:02:59.057+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:02:59.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-email?email=testuser%40naver.com
2025-12-24T16:02:59.059+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-email?email=testuser%40naver.com", parameters={masked}
2025-12-24T16:02:59.060+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkEmail(String)
2025-12-24T16:02:59.065+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:02:59.066+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd73f65] was not registered for synchronization because synchronization is not active
2025-12-24T16:02:59.074+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@615933299 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:02:59.075+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.isEmailExists    : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE email = ?
2025-12-24T16:02:59.076+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.isEmailExists    : ==> Parameters: testuser@naver.com(String)
2025-12-24T16:02:59.082+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.isEmailExists    : <==      Total: 1
2025-12-24T16:02:59.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cd73f65]
2025-12-24T16:02:59.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:02:59.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 이메일입니다., data={available=true, exists=false})]
2025-12-24T16:02:59.086+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:07.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T16:03:07.817+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:03:07.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T16:03:07.819+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T16:03:07.819+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T16:03:07.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:07.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ab3590] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:07.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1685416964 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:03:07.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T16:03:07.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String), test(String), test(String), test(String)
2025-12-24T16:03:07.827+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 0
2025-12-24T16:03:07.829+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ab3590]
2025-12-24T16:03:07.835+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:07.836+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[])]
2025-12-24T16:03:07.837+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.240+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:03:13.243+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:03:13.243+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:03:13.243+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:03:13.244+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:03:13.245+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:03:13.246+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T16:03:13.248+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T16:03:13.249+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.250+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e502de2] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.254+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1931398231 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:13.256+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:03:13.257+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T16:03:13.261+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:03:13.261+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e502de2]
2025-12-24T16:03:13.352+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: null
2025-12-24T16:03:13.352+09:00  INFO 6540 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T16:03:13.353+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.353+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T16:03:13.355+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.618+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:03:13.626+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:03:13.631+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-24T16:03:13.636+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:03:13.637+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:03:13.638+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:03:13.641+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.652+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126fc380] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.664+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2037248155 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:13.664+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:03:13.677+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:03:13.680+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:13.690+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:13.682+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:03:13.683+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:03:13.685+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:03:13.687+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T16:03:13.697+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:03:13.714+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:03:13.714+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:13.715+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:03:13.717+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:03:13.718+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:03:13.724+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-24T16:03:13.724+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-24T16:03:13.725+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-24T16:03:13.725+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/companies
2025-12-24T16:03:13.726+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:03:13.727+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-24T16:03:13.734+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:03:13.734+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:03:13.735+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:03:13.727+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:13.727+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:03:13.731+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:03:13.733+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:03:13.738+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.740+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:03:13.741+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:03:13.752+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:03:13.742+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:03:13.757+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:03:13.758+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:03:13.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7516a7c3] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 0
2025-12-24T16:03:13.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:03:13.757+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:13.759+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233f48e0] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.763+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.768+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126fc380]
2025-12-24T16:03:13.768+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.769+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@378639536 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:03:13.769+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:13.770+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2932ac81] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.772+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.773+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f7072b] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.773+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1582774631 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:03:13.773+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:13.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.775+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:03:13.775+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@37995617 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:13.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:03:13.777+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:13.777+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c68d73c] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.782+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.782+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:03:13.784+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:03:13.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-24T16:03:13.794+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:13.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@909071663 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:13.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@198496010 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:03:13.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:13.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:03:13.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:13.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:03:13.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40f7072b]
2025-12-24T16:03:13.817+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:03:13.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 0
2025-12-24T16:03:13.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:13.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-24T16:03:13.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7516a7c3]
2025-12-24T16:03:13.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@233f48e0]
2025-12-24T16:03:13.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:13.825+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:13.827+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.836+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2ae991] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:03:13.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:03:13.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-24T16:03:13.835+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:03:13.837+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1238418267 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:03:13.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.842+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:13.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:03:13.842+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:03:13.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:13.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:03:13.844+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.844+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:03:13.851+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:13.846+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d316c84] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:13.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:13.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1961767992 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:13.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c68d73c]
2025-12-24T16:03:13.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:03:13.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:03:13.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5b635b] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-24T16:03:13.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.859+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1243942098 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:03:13.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:13.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:03:13.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:13.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f5b635b]
2025-12-24T16:03:13.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:13.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:03:13.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e2ae991]
2025-12-24T16:03:13.877+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.881+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.882+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:03:13.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:03:13.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:13.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d316c84]
2025-12-24T16:03:13.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2932ac81]
2025-12-24T16:03:13.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:13.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf6127e] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:13.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:03:13.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@372141724 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:13.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:13.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:13.893+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:13.903+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:13.904+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7bf6127e]
2025-12-24T16:03:13.905+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:13.905+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:03:13.907+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:22.945+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/check-business-reg-no?businessRegNo=1234567890
2025-12-24T16:03:22.951+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/check-business-reg-no?businessRegNo=1234567890
2025-12-24T16:03:22.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies/check-business-reg-no
2025-12-24T16:03:22.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/check-business-reg-no?businessRegNo=1234567890
2025-12-24T16:03:22.955+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/check-business-reg-no?businessRegNo=1234567890", parameters={masked}
2025-12-24T16:03:22.955+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#checkBusinessRegNoDuplicate(String)
2025-12-24T16:03:22.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:22.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eeacaac] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:22.959+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1292480217 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:03:22.959+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.C.existsByBusinessRegNo          : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE business_reg_no = ?
2025-12-24T16:03:22.961+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.C.existsByBusinessRegNo          : ==> Parameters: 1234567890(String)
2025-12-24T16:03:22.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.C.existsByBusinessRegNo          : <==      Total: 1
2025-12-24T16:03:22.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eeacaac]
2025-12-24T16:03:22.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:22.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=중복 확인 완료, data={isDuplicate=false})]
2025-12-24T16:03:22.974+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:26.739+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:03:26.742+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/companies
2025-12-24T16:03:26.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-24T16:03:26.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/companies
2025-12-24T16:03:26.745+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/companies", parameters={}
2025-12-24T16:03:26.746+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#createCompany(CompanyCreateRequest)
2025-12-24T16:03:26.750+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CompanyController.CompanyCreateRequest(companyName=test_company, businessRegNo=1234567890, represent (truncated)...]
2025-12-24T16:03:26.750+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:03:26.752+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.createCompany(com.innersignature.backend.controller.CompanyController$CompanyCreateRequest); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:03:26.753+09:00  INFO 6540 --- [http-nio-8080-exec-5] c.i.b.controller.CompanyController       : 회사 생성 시도 - companyName: test_company, businessRegNo: 1234567890, userId: 1
2025-12-24T16:03:26.766+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:26.768+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.769+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@124284586 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will be managed by Spring
2025-12-24T16:03:26.769+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.C.existsByBusinessRegNo          : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE business_reg_no = ?
2025-12-24T16:03:26.770+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.C.existsByBusinessRegNo          : ==> Parameters: 1234567890(String)
2025-12-24T16:03:26.771+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.C.existsByBusinessRegNo          : <==      Total: 1
2025-12-24T16:03:26.773+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065] from current transaction
2025-12-24T16:03:26.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.existsByCode  : ==>  Preparing: SELECT COUNT(*) > 0 FROM company_tb WHERE company_code = ?
2025-12-24T16:03:26.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.existsByCode  : ==> Parameters: 2C4PSB(String)
2025-12-24T16:03:26.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.CompanyMapper.existsByCode  : <==      Total: 1
2025-12-24T16:03:26.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065] from current transaction
2025-12-24T16:03:26.776+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.backend.mapper.CompanyMapper.insert  : ==>  Preparing: INSERT INTO company_tb (company_code, company_name, business_reg_no, representative_name, created_by, is_active, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2025-12-24T16:03:26.781+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.backend.mapper.CompanyMapper.insert  : ==> Parameters: 2C4PSB(String), test_company(String), 1234567890(String), test_ceo(String), 1(Long), true(Boolean), 2025-12-24T16:03:26.776785300(LocalDateTime), 2025-12-24T16:03:26.776785300(LocalDateTime)
2025-12-24T16:03:26.790+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.backend.mapper.CompanyMapper.insert  : <==    Updates: 1
2025-12-24T16:03:26.793+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.793+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065] from current transaction
2025-12-24T16:03:26.794+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.S.findByCode                     : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_code = ? AND is_active = 1 LIMIT 1
2025-12-24T16:03:26.795+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.S.findByCode                     : ==> Parameters: FREE(String)
2025-12-24T16:03:26.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.S.findByCode                     : <==      Total: 0
2025-12-24T16:03:26.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.800+09:00  WARN 6540 --- [http-nio-8080-exec-5] c.i.backend.service.CompanyService       : 기본 FREE 플랜 할당 실패 - companyId: 1, error: 플랜을 찾을 수 없습니다.
2025-12-24T16:03:26.800+09:00  INFO 6540 --- [http-nio-8080-exec-5] c.i.backend.service.CompanyService       : 회사 생성 완료 - companyId: 1, companyName: test_company, createdBy: 1
2025-12-24T16:03:26.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.802+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.802+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e835065]
2025-12-24T16:03:26.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:26.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369b330c] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:26.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1285016639 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:26.809+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:26.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:03:26.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:26.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@369b330c]
2025-12-24T16:03:26.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:26.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.819+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136303774 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will be managed by Spring
2025-12-24T16:03:26.819+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:26.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:03:26.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:26.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137] from current transaction
2025-12-24T16:03:26.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.countUsersByCompanyId          : ==>  Preparing: SELECT COUNT(DISTINCT uc.user_id) FROM user_company_tb uc WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' AND (uc.is_active IS NULL OR uc.is_active = 1)
2025-12-24T16:03:26.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.countUsersByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:03:26.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.countUsersByCompanyId          : <==      Total: 1
2025-12-24T16:03:26.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.827+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137] from current transaction
2025-12-24T16:03:26.827+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:03:26.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:03:26.837+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:03:26.838+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137] from current transaction
2025-12-24T16:03:26.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.addUserToCompany      : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'APPROVED', NOW(), NOW()) ON DUPLICATE KEY UPDATE role = VALUES(role), position = VALUES(position), is_active = VALUES(is_active), approval_status = 'APPROVED', updated_at = NOW()
2025-12-24T16:03:26.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.addUserToCompany      : ==> Parameters: 1(Long), 1(Long), CEO(String), 대표(String), true(Boolean), false(Boolean)
2025-12-24T16:03:26.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.addUserToCompany      : <==    Updates: 1
2025-12-24T16:03:26.844+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.847+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.849+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e521137]
2025-12-24T16:03:26.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:26.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8f3dc6] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:26.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2123237851 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:26.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:03:26.857+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:03:26.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:03:26.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@c8f3dc6]
2025-12-24T16:03:26.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:26.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1788416083 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will be managed by Spring
2025-12-24T16:03:26.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:03:26.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:03:26.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:03:26.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec] from current transaction
2025-12-24T16:03:26.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==>  Preparing: UPDATE user_company_tb SET is_primary = CASE WHEN user_id = ? AND company_id = ? THEN 1 ELSE 0 END, updated_at = NOW() WHERE user_id = ?
2025-12-24T16:03:26.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : ==> Parameters: 1(Long), 1(Long), 1(Long)
2025-12-24T16:03:26.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.setPrimaryCompany     : <==    Updates: 1
2025-12-24T16:03:26.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.877+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec] from current transaction
2025-12-24T16:03:26.877+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==>  Preparing: UPDATE user_tb SET company_id = ? WHERE user_id = ?
2025-12-24T16:03:26.880+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:03:26.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.updateUserCompanyId   : <==    Updates: 1
2025-12-24T16:03:26.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c236bec]
2025-12-24T16:03:26.892+09:00  INFO 6540 --- [http-nio-8080-exec-5] c.i.b.controller.CompanyController       : 회사 생성 완료 - companyId: 1, companyName: test_company, userId: 1
2025-12-24T16:03:26.894+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:26.898+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=회사가 등록되었습니다., data=CompanyDto(companyId=1, companyCode=2C4PSB, com (truncated)...]
2025-12-24T16:03:26.900+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:28.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:03:28.803+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:28.807+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:03:28.807+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:03:28.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:03:28.808+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:03:28.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:03:28.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:28.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:03:28.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:03:28.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:28.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:03:28.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-24T16:03:28.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:03:28.831+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:28.835+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-24T16:03:28.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses/pending-approvals
2025-12-24T16:03:28.838+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/companies
2025-12-24T16:03:28.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/expenses
2025-12-24T16:03:28.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:28.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-24T16:03:28.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:03:28.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:03:28.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:03:28.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:03:28.857+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:03:28.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:03:28.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:03:28.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:03:28.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:03:28.859+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:03:28.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:03:28.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:03:28.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:03:28.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:03:28.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:03:28.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:03:28.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:03:28.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bdccce] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:28.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d460ff] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2650fac9] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4602450f] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26435d90] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.878+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:28.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@380638966 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:28.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@336436771 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:03:28.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@7657447 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:03:28.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@496409822 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:03:28.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@444249810 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:28.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:28.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed88cc8] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:03:28.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:03:28.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:03:28.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:28.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:28.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:03:28.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-24T16:03:28.892+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), null
2025-12-24T16:03:28.893+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:28.917+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:03:28.917+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:28.918+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:03:28.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2650fac9]
2025-12-24T16:03:28.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57bdccce]
2025-12-24T16:03:28.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4602450f]
2025-12-24T16:03:28.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:03:28.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:28.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22d460ff]
2025-12-24T16:03:28.920+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@413288775 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:03:28.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:28.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:28.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@26435d90]
2025-12-24T16:03:28.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:28.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:28.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:03:28.925+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7073ad4] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.926+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:03:28.927+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.930+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:03:28.931+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:03:28.933+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:28.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2039245007 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:28.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f082f35] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.938+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:28.953+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1141186367 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:28.940+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:28.950+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:03:28.953+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:28.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:03:28.956+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:03:28.963+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/companies
2025-12-24T16:03:28.968+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:28.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: null, 2147483647(Integer), 0(Integer)
2025-12-24T16:03:28.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:03:28.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:03:28.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/users/pending
2025-12-24T16:03:28.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:03:28.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:03:28.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:03:28.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.974+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:28.976+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:03:28.976+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16313146] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.977+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ed88cc8]
2025-12-24T16:03:28.979+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:28.980+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:03:28.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f082f35]
2025-12-24T16:03:28.981+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:28.982+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@371681891 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:03:28.984+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7073ad4]
2025-12-24T16:03:28.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:28.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:28.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:03:28.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:03:28.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361a55d5] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:03:28.986+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:03:28.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:28.987+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T16:03:28.988+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1572960639 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:03:28.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:28.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:28.991+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d32cd24] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:28.992+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:03:28.997+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@458346826 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:29.000+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:03:29.000+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:29.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:03:29.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T16:03:29.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:03:29.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@16313146]
2025-12-24T16:03:29.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361a55d5]
2025-12-24T16:03:29.009+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:29.010+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:29.010+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-24T16:03:29.014+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:29.011+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:29.013+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:03:29.018+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2d32cd24]
2025-12-24T16:03:29.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:29.024+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:29.041+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167108be] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:29.055+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@764521657 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:03:29.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:03:29.057+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:03:29.060+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:03:29.061+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167108be]
2025-12-24T16:03:29.066+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:29.074+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:03:29.076+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:31.726+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T16:03:31.732+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T16:03:31.734+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: null, uri: /api/logout
2025-12-24T16:03:31.735+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T16:03:31.736+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T16:03:31.736+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T16:03:31.737+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T16:03:31.739+09:00  INFO 6540 --- [http-nio-8080-exec-1] SECURITY                                 : LOGOUT userId=1
2025-12-24T16:03:31.742+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:31.743+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T16:03:31.746+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:38.133+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user1
2025-12-24T16:03:38.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:03:38.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user1
2025-12-24T16:03:38.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user1", parameters={masked}
2025-12-24T16:03:38.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:03:38.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:38.136+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65a7f85c] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:38.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@166865900 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:03:38.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:03:38.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user1(String)
2025-12-24T16:03:38.142+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:03:38.144+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65a7f85c]
2025-12-24T16:03:38.147+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:38.149+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:03:38.150+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:52.581+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T16:03:52.582+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:03:52.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T16:03:52.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T16:03:52.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T16:03:52.584+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:52.584+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e676ae] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:52.586+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2134793870 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:03:52.587+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T16:03:52.590+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String), test(String), test(String), test(String)
2025-12-24T16:03:52.594+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T16:03:52.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@44e676ae]
2025-12-24T16:03:52.597+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:52.599+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T16:03:52.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:03:54.999+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:03:55.003+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:03:55.004+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:03:55.004+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:03:55.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:03:55.006+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:03:55.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user1, password=1234, koreanName=test_user1, email=, po (truncated)...]
2025-12-24T16:03:55.008+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user1, koreanName: test_user1, role: USER
2025-12-24T16:03:55.008+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:55.008+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422c9837] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:55.011+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1084455070 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:55.012+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:03:55.014+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user1(String)
2025-12-24T16:03:55.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:03:55.017+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@422c9837]
2025-12-24T16:03:55.099+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:55.099+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab87bed] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:55.099+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1829405452 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:55.100+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:03:55.101+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user1(String), $2a$10$Io7wGzZB6S39j6mrbr/KMeDbg8ql9wsQBeH8sAAQCG5GuSD9ihTFS(String), test_user1(String), null, 사원(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-24T16:03:55.107+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:03:55.108+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ab87bed]
2025-12-24T16:03:55.108+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:55.109+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576f4680] was not registered for synchronization because synchronization is not active
2025-12-24T16:03:55.110+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318135955 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:03:55.110+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:03:55.110+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-24T16:03:55.113+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:03:55.113+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@576f4680]
2025-12-24T16:03:55.117+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:03:55.117+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.118+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@417378560 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will be managed by Spring
2025-12-24T16:03:55.118+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:03:55.118+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-24T16:03:55.120+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:03:55.121+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.122+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b] from current transaction
2025-12-24T16:03:55.122+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:03:55.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 2(Long)
2025-12-24T16:03:55.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:03:55.125+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.126+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b] from current transaction
2025-12-24T16:03:55.126+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.applyToCompany   : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'PENDING', NOW(), NOW())
2025-12-24T16:03:55.127+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.applyToCompany   : ==> Parameters: 2(Long), 1(Long), USER(String), 사원(String), true(Boolean), false(Boolean)
2025-12-24T16:03:55.132+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.applyToCompany   : <==    Updates: 1
2025-12-24T16:03:55.133+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.134+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7204dc5b]
2025-12-24T16:03:55.139+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user1, role: USER
2025-12-24T16:03:55.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:03:55.141+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-24T16:03:55.142+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:00.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user2
2025-12-24T16:04:00.922+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:00.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user2
2025-12-24T16:04:00.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user2", parameters={masked}
2025-12-24T16:04:00.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:04:00.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:00.925+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b3ff7ad] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:00.928+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1593864689 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:04:00.930+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:00.931+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user2(String)
2025-12-24T16:04:00.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:00.937+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b3ff7ad]
2025-12-24T16:04:00.938+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:00.939+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:04:00.940+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:06.005+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:04:06.010+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:04:06.014+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:06.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:04:06.019+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:04:06.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:04:06.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user2, password=1234, koreanName=test_user2, email=, po (truncated)...]
2025-12-24T16:04:06.024+09:00  INFO 6540 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user2, koreanName: test_user2, role: USER
2025-12-24T16:04:06.025+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:06.025+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac2dd41] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:06.038+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684593933 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:06.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:06.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user2(String)
2025-12-24T16:04:06.042+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:06.043+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ac2dd41]
2025-12-24T16:04:06.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:06.159+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cde781d] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:06.163+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111133096 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:06.171+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:04:06.174+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user2(String), $2a$10$BAH64JYkuvbr1P3AXdqHL.raQj4p9/i5b.8W2y0k.2jtwBkyFuM..(String), test_user2(String), null, 사원(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-24T16:04:06.187+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:04:06.188+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cde781d]
2025-12-24T16:04:06.188+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:06.188+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a137860] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:06.189+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1972562863 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:06.189+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:04:06.190+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user2(String)
2025-12-24T16:04:06.192+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:04:06.192+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a137860]
2025-12-24T16:04:06.198+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:06.198+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.199+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1339320338 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will be managed by Spring
2025-12-24T16:04:06.199+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:06.200+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T16:04:06.202+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:06.204+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.205+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202] from current transaction
2025-12-24T16:04:06.205+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:04:06.206+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 3(Long)
2025-12-24T16:04:06.209+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:04:06.209+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.214+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202] from current transaction
2025-12-24T16:04:06.215+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.applyToCompany   : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'PENDING', NOW(), NOW())
2025-12-24T16:04:06.216+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.applyToCompany   : ==> Parameters: 3(Long), 1(Long), USER(String), 사원(String), true(Boolean), false(Boolean)
2025-12-24T16:04:06.220+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.applyToCompany   : <==    Updates: 1
2025-12-24T16:04:06.221+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.222+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.222+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.223+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c589202]
2025-12-24T16:04:06.249+09:00  INFO 6540 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user2, role: USER
2025-12-24T16:04:06.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:06.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-24T16:04:06.256+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:11.417+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user3
2025-12-24T16:04:11.420+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:11.420+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user3
2025-12-24T16:04:11.420+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user3", parameters={masked}
2025-12-24T16:04:11.421+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:04:11.421+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:11.421+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4e393e] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:11.430+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1127245408 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:04:11.431+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:11.432+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user3(String)
2025-12-24T16:04:11.434+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:11.435+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d4e393e]
2025-12-24T16:04:11.435+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:11.436+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:04:11.437+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:19.438+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:04:19.443+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:04:19.444+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:19.444+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:04:19.444+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:04:19.445+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:04:19.445+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user3, password=1234, koreanName=test_user3, email=, po (truncated)...]
2025-12-24T16:04:19.446+09:00  INFO 6540 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user3, koreanName: test_user3, role: USER
2025-12-24T16:04:19.446+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:19.447+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebdb4fb] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:19.448+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1319271642 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:19.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:19.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user3(String)
2025-12-24T16:04:19.454+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:19.455+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ebdb4fb]
2025-12-24T16:04:19.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:19.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361613f4] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:19.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772621982 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:19.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:04:19.551+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user3(String), $2a$10$9XGwi.FMsrmaxKI.K6mTmOD1tEnyHyzEeueOtqA3oHj/BCGHsQ6AS(String), test_user3(String), null, 팀장(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-24T16:04:19.557+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:04:19.557+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@361613f4]
2025-12-24T16:04:19.559+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:19.559+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa96054] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:19.563+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@959628155 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:19.564+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:04:19.566+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user3(String)
2025-12-24T16:04:19.569+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:04:19.570+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa96054]
2025-12-24T16:04:19.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:19.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1295302605 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will be managed by Spring
2025-12-24T16:04:19.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:19.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-24T16:04:19.580+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:19.581+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.581+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8] from current transaction
2025-12-24T16:04:19.581+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:04:19.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 4(Long)
2025-12-24T16:04:19.585+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:04:19.585+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.586+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8] from current transaction
2025-12-24T16:04:19.587+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.applyToCompany   : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'PENDING', NOW(), NOW())
2025-12-24T16:04:19.587+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.applyToCompany   : ==> Parameters: 4(Long), 1(Long), USER(String), 팀장(String), true(Boolean), false(Boolean)
2025-12-24T16:04:19.596+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.applyToCompany   : <==    Updates: 1
2025-12-24T16:04:19.597+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.598+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.599+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.599+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46bdf2b8]
2025-12-24T16:04:19.613+09:00  INFO 6540 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user3, role: USER
2025-12-24T16:04:19.616+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:19.616+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-24T16:04:19.617+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:24.569+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user4
2025-12-24T16:04:24.570+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:24.570+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user4
2025-12-24T16:04:24.570+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user4", parameters={masked}
2025-12-24T16:04:24.570+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:04:24.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:24.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112a07af] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:24.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1577518814 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:24.573+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:24.574+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user4(String)
2025-12-24T16:04:24.575+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:24.576+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@112a07af]
2025-12-24T16:04:24.579+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:24.580+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:04:24.582+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:31.227+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:04:31.233+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:04:31.235+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:31.236+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:04:31.238+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:04:31.238+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:04:31.242+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user4, password=1234, koreanName=test_user4, email=, po (truncated)...]
2025-12-24T16:04:31.312+09:00  INFO 6540 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user4, koreanName: test_user4, role: USER
2025-12-24T16:04:31.366+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:31.380+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83d9244] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:31.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@201899887 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:04:31.456+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:31.457+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user4(String)
2025-12-24T16:04:31.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:31.488+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@83d9244]
2025-12-24T16:04:31.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:31.583+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa61794] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:31.584+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1222646627 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:04:31.584+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:04:31.585+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user4(String), $2a$10$FiMnE6fyjKEKkou5qaW4KORKHX3ftoztBOrqOOyrnlhsElWC3e9yS(String), test_user4(String), null, 이사(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-24T16:04:31.590+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:04:31.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aa61794]
2025-12-24T16:04:31.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:31.592+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758fdb3b] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:31.592+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@624146371 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:04:31.593+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:04:31.594+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user4(String)
2025-12-24T16:04:31.597+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:04:31.597+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@758fdb3b]
2025-12-24T16:04:31.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:31.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.602+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2038050493 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will be managed by Spring
2025-12-24T16:04:31.603+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:31.604+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-24T16:04:31.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:31.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.609+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892] from current transaction
2025-12-24T16:04:31.609+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:04:31.615+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 5(Long)
2025-12-24T16:04:31.618+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:04:31.618+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892] from current transaction
2025-12-24T16:04:31.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.applyToCompany   : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'PENDING', NOW(), NOW())
2025-12-24T16:04:31.620+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.applyToCompany   : ==> Parameters: 5(Long), 1(Long), USER(String), 이사(String), true(Boolean), false(Boolean)
2025-12-24T16:04:31.624+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.applyToCompany   : <==    Updates: 1
2025-12-24T16:04:31.624+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.627+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a124892]
2025-12-24T16:04:31.655+09:00  INFO 6540 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user4, role: USER
2025-12-24T16:04:31.657+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:31.659+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-24T16:04:31.662+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:35.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user5
2025-12-24T16:04:35.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:35.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user5
2025-12-24T16:04:35.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user5", parameters={masked}
2025-12-24T16:04:35.874+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:04:35.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:35.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d19195] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:35.880+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@541484614 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:35.881+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:35.881+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user5(String)
2025-12-24T16:04:35.883+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:35.884+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d19195]
2025-12-24T16:04:35.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:35.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:04:35.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:44.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:04:44.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:04:44.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:44.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:04:44.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:04:44.036+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:04:44.037+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user5, password=1234, koreanName=test_user5, email=, po (truncated)...]
2025-12-24T16:04:44.038+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user5, koreanName: test_user5, role: USER
2025-12-24T16:04:44.039+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:44.040+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f38c031] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:44.043+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221196306 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:44.044+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:04:44.045+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user5(String)
2025-12-24T16:04:44.049+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:04:44.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f38c031]
2025-12-24T16:04:44.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:44.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a155a63] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:44.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1695802424 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:44.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:04:44.141+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user5(String), $2a$10$.AAoaLb69reQwHQMY0uRhe6h9FVF59xb/GJRab0AXsNCM.glrJbWm(String), test_user5(String), null, 사원(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-24T16:04:44.152+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:04:44.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a155a63]
2025-12-24T16:04:44.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:44.153+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e93230] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:44.154+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1488957196 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:44.154+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:04:44.154+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user5(String)
2025-12-24T16:04:44.156+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:04:44.157+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48e93230]
2025-12-24T16:04:44.159+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:44.160+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.163+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@137375070 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will be managed by Spring
2025-12-24T16:04:44.164+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:44.165+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-24T16:04:44.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:44.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20] from current transaction
2025-12-24T16:04:44.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:04:44.170+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 6(Long)
2025-12-24T16:04:44.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:04:44.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.172+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20] from current transaction
2025-12-24T16:04:44.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.applyToCompany   : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'PENDING', NOW(), NOW())
2025-12-24T16:04:44.173+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.applyToCompany   : ==> Parameters: 6(Long), 1(Long), USER(String), 사원(String), true(Boolean), false(Boolean)
2025-12-24T16:04:44.180+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.applyToCompany   : <==    Updates: 1
2025-12-24T16:04:44.181+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.181+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.182+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.184+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2cabff20]
2025-12-24T16:04:44.189+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user5, role: USER
2025-12-24T16:04:44.189+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:44.191+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-24T16:04:44.193+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:46.905+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:04:46.910+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:04:46.912+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:46.914+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:04:46.915+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:04:46.915+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:04:46.916+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user1, password=1234)]
2025-12-24T16:04:46.917+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user1
2025-12-24T16:04:46.917+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:46.917+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71221f91] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:46.919+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@355587852 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:04:46.920+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:04:46.921+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user1(String)
2025-12-24T16:04:46.923+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:04:46.924+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71221f91]
2025-12-24T16:04:47.008+09:00  WARN 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 로그인 실패 - 승인 대기 중 - username: test_user1
2025-12-24T16:04:47.008+09:00  WARN 6540 --- [http-nio-8080-exec-9] SECURITY                                 : LOGIN_FAILURE username=test_user1
2025-12-24T16:04:47.009+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:47.010+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=false, message=관리자 승인 대기 중입니다., data=null)]
2025-12-24T16:04:47.012+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.352+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:04:52.355+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:04:52.356+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:04:52.356+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:04:52.357+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:04:52.357+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:04:52.358+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T16:04:52.360+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T16:04:52.360+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.360+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6988e528] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.363+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1534413466 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:52.363+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:04:52.366+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T16:04:52.405+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:04:52.406+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6988e528]
2025-12-24T16:04:52.493+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-24T16:04:52.493+09:00  INFO 6540 --- [http-nio-8080-exec-3] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T16:04:52.494+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.494+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T16:04:52.495+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.612+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:04:52.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:04:52.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-24T16:04:52.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:04:52.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:04:52.625+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:04:52.627+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.628+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15ee98f0] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.632+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@259331075 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:52.633+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:04:52.634+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T16:04:52.640+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T16:04:52.641+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15ee98f0]
2025-12-24T16:04:52.642+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.648+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-24T16:04:52.652+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:04:52.658+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:04:52.663+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:04:52.663+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:04:52.674+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:04:52.665+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:04:52.668+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.673+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:04:52.686+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:04:52.686+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:04:52.689+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:04:52.691+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:04:52.693+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:04:52.695+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:04:52.707+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:04:52.735+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:04:52.745+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:04:52.711+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:04:52.717+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:04:52.718+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:04:52.720+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:04:52.735+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:04:52.747+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:04:52.748+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:04:52.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:04:52.751+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:04:52.751+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:04:52.774+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:04:52.782+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:04:52.783+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:04:52.783+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:04:52.784+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:04:52.789+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:04:52.784+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:04:52.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:04:52.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.793+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b64dc86] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:04:52.788+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:04:52.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2836dab7] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.789+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:52.790+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:04:52.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:52.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aaf72ee] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.797+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@802051862 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:52.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.803+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:04:52.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb2a8b9] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cfd05c6] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.806+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2138981814 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:04:52.806+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3800271f] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.807+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:04:52.811+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@521027818 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:52.812+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1181799408 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:04:52.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:04:52.814+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:04:52.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:04:52.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1144714976 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:52.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1021602344 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:04:52.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:04:52.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:04:52.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:04:52.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:04:52.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:04:52.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:04:52.823+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b64dc86]
2025-12-24T16:04:52.828+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:04:52.828+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:04:52.830+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.831+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:04:52.831+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:04:52.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:04:52.832+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:04:52.835+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2836dab7]
2025-12-24T16:04:52.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:04:52.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:04:52.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.834+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5aaf72ee]
2025-12-24T16:04:52.835+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3eb2a8b9]
2025-12-24T16:04:52.836+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.839+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cfd05c6]
2025-12-24T16:04:52.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3800271f]
2025-12-24T16:04:52.845+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:04:52.845+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64db8342] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.848+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:04:52.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa54384] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:04:52.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:04:52.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1670129854 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:04:52.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:04:52.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@83481001 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:52.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:04:52.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:04:52.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.862+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:04:52.859+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:04:52.860+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:04:52.864+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:04:52.864+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:04:52.864+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:52.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:52.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:52.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f737859] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:52.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1179784391 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:52.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:04:52.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:04:52.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:04:52.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:04:52.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:04:52.886+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fa54384]
2025-12-24T16:04:52.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f737859]
2025-12-24T16:04:52.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64db8342]
2025-12-24T16:04:52.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.889+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:52.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:04:52.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:04:52.890+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:04:52.892+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.893+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:52.891+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:54.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/6/approval
2025-12-24T16:04:54.789+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/users/6/approval
2025-12-24T16:04:54.790+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/6/approval
2025-12-24T16:04:54.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/users/6/approval
2025-12-24T16:04:54.791+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/users/6/approval", parameters={}
2025-12-24T16:04:54.793+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:04:54.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:04:54.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:54.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:54.801+09:00  INFO 6540 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 6, action: APPROVE, operatorId: 1
2025-12-24T16:04:54.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:54.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37674f99] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:54.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1913158679 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:54.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:54.805+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-24T16:04:54.813+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:54.814+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37674f99]
2025-12-24T16:04:54.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:54.815+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da5996e] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:54.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@17811680 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:54.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:54.817+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:04:54.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:54.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3da5996e]
2025-12-24T16:04:54.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:54.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d6795d] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:54.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162135488 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:04:54.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:04:54.825+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user5(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 6(Long)
2025-12-24T16:04:54.840+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:04:54.841+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@18d6795d]
2025-12-24T16:04:54.841+09:00  INFO 6540 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 6
2025-12-24T16:04:54.842+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:54.846+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:04:54.847+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:54.851+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:04:54.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:04:54.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:04:54.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:04:54.856+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:04:54.857+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:04:54.858+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:54.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:54.864+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:54.864+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156b36e0] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:54.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1432213720 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:54.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:04:54.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:04:54.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:04:54.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@156b36e0]
2025-12-24T16:04:54.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:54.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:04:54.873+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:57.250+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/6/approval
2025-12-24T16:04:57.253+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/6/approval
2025-12-24T16:04:57.254+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/6/approval
2025-12-24T16:04:57.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/6/approval
2025-12-24T16:04:57.255+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/6/approval", parameters={}
2025-12-24T16:04:57.256+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:04:57.257+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:04:57.257+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:57.263+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:57.264+09:00  INFO 6540 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 6, action: APPROVE, operatorId: 1
2025-12-24T16:04:57.264+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:57.264+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736045f2] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:57.268+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146029868 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:57.270+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:57.272+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-24T16:04:57.275+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:57.279+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@736045f2]
2025-12-24T16:04:57.279+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:57.279+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634833e1] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:57.280+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@704741994 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:57.280+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:04:57.281+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:04:57.283+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:04:57.284+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@634833e1]
2025-12-24T16:04:57.285+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:57.286+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24785646] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:57.286+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@109952531 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:04:57.286+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:04:57.287+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user5(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 6(Long)
2025-12-24T16:04:57.291+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:04:57.292+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24785646]
2025-12-24T16:04:57.296+09:00  INFO 6540 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 6
2025-12-24T16:04:57.297+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:57.298+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:04:57.299+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:04:57.303+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:04:57.311+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:04:57.314+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:04:57.315+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:04:57.315+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:04:57.316+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:04:57.316+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:57.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:04:57.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:04:57.317+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea1b544] was not registered for synchronization because synchronization is not active
2025-12-24T16:04:57.321+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1812363974 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:04:57.322+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:04:57.322+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:04:57.324+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:04:57.325+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ea1b544]
2025-12-24T16:04:57.326+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:04:57.329+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:04:57.401+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:03.075+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/6/approval
2025-12-24T16:05:03.081+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/users/6/approval
2025-12-24T16:05:03.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/6/approval
2025-12-24T16:05:03.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/users/6/approval
2025-12-24T16:05:03.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/users/6/approval", parameters={}
2025-12-24T16:05:03.086+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:05:03.088+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:05:03.090+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:03.092+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:03.096+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 6, action: APPROVE, operatorId: 1
2025-12-24T16:05:03.096+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:03.097+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24d0d280] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:03.102+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@509773368 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:05:03.102+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:03.104+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-24T16:05:03.106+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:03.106+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24d0d280]
2025-12-24T16:05:03.107+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:03.108+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b8bb43] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:03.112+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@384295043 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:05:03.113+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:03.115+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:05:03.117+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:03.118+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b8bb43]
2025-12-24T16:05:03.118+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:03.119+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f9d7dd] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:03.119+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169350914 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:05:03.119+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:05:03.120+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user5(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 6(Long)
2025-12-24T16:05:03.123+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:05:03.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9f9d7dd]
2025-12-24T16:05:03.124+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 6
2025-12-24T16:05:03.124+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:03.125+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:05:03.130+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:03.135+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:05:03.137+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:05:03.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:05:03.139+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:05:03.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:05:03.140+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:05:03.141+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:03.142+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:03.146+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:03.147+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@716f7068] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:03.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@484004591 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:05:03.158+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:05:03.160+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:05:03.167+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:05:03.168+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@716f7068]
2025-12-24T16:05:03.168+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:03.169+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:05:03.170+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:29.746+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/5/approval
2025-12-24T16:05:29.749+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/5/approval
2025-12-24T16:05:29.751+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/5/approval
2025-12-24T16:05:29.751+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/5/approval
2025-12-24T16:05:29.752+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/5/approval", parameters={}
2025-12-24T16:05:29.752+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:05:29.754+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:05:29.755+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:29.756+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:29.842+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 5, action: APPROVE, operatorId: 1
2025-12-24T16:05:29.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:29.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b5f75f] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:29.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@832087177 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:05:29.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:29.901+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-24T16:05:29.973+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:30.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30b5f75f]
2025-12-24T16:05:30.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:30.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a69e122] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:30.033+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@833232935 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:05:30.033+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:30.035+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:05:30.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:30.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a69e122]
2025-12-24T16:05:30.050+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:30.051+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdf6c03] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:30.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1519050795 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:05:30.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:05:30.053+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user4(String), null, 이사(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 5(Long)
2025-12-24T16:05:30.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:05:30.061+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fdf6c03]
2025-12-24T16:05:30.064+09:00  INFO 6540 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 5
2025-12-24T16:05:30.065+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:30.066+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:05:30.067+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:30.072+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:05:30.079+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:05:30.081+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:05:30.081+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:05:30.082+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:05:30.082+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:05:30.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:30.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:30.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:30.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f59ea69] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:30.087+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@40042937 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:05:30.088+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:05:30.088+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:05:30.091+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:05:30.092+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f59ea69]
2025-12-24T16:05:30.096+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:30.096+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:05:30.099+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:39.322+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approval
2025-12-24T16:05:39.326+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/4/approval
2025-12-24T16:05:39.329+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/4/approval
2025-12-24T16:05:39.329+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/4/approval
2025-12-24T16:05:39.330+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/4/approval", parameters={}
2025-12-24T16:05:39.331+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:05:39.332+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:05:39.332+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:39.333+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:39.334+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 4, action: APPROVE, operatorId: 1
2025-12-24T16:05:39.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:39.335+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5c82e1] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:39.340+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457439627 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:05:39.340+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:39.346+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-24T16:05:39.353+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:39.354+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b5c82e1]
2025-12-24T16:05:39.355+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:39.355+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ca20d9f] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:39.356+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2065014046 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:05:39.357+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:39.357+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:05:39.366+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:39.366+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ca20d9f]
2025-12-24T16:05:39.367+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:39.367+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a19c18b] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:39.368+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1721495458 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:05:39.368+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:05:39.369+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user3(String), null, 팀장(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 4(Long)
2025-12-24T16:05:39.380+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:05:39.381+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a19c18b]
2025-12-24T16:05:39.382+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 4
2025-12-24T16:05:39.383+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:39.384+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:05:39.384+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:39.388+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:05:39.399+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:05:39.401+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:05:39.411+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:05:39.413+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:05:39.413+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:05:39.415+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:39.420+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:39.429+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:39.429+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bef19e] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:39.433+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1171535497 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:05:39.436+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:05:39.438+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:05:39.444+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:05:39.445+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48bef19e]
2025-12-24T16:05:39.449+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:39.450+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:05:39.451+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:57.985+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/3/approval
2025-12-24T16:05:57.988+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/3/approval
2025-12-24T16:05:57.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/3/approval
2025-12-24T16:05:57.989+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/3/approval
2025-12-24T16:05:57.993+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/3/approval", parameters={}
2025-12-24T16:05:57.995+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:05:57.998+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:05:57.999+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:58.000+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:58.001+09:00  INFO 6540 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 3, action: APPROVE, operatorId: 1
2025-12-24T16:05:58.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:58.002+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6d3c2a] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:58.007+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1123950709 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:05:58.015+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:58.016+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T16:05:58.018+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:58.019+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a6d3c2a]
2025-12-24T16:05:58.019+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:58.019+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686ed94e] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:58.020+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@283437634 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:05:58.021+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:05:58.023+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:05:58.029+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:05:58.029+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@686ed94e]
2025-12-24T16:05:58.030+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:58.030+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@410acfb6] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:58.031+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1605421680 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:05:58.031+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:05:58.032+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user2(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 3(Long)
2025-12-24T16:05:58.039+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:05:58.039+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@410acfb6]
2025-12-24T16:05:58.040+09:00  INFO 6540 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 3
2025-12-24T16:05:58.041+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:58.046+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:05:58.047+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:05:58.052+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:05:58.056+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:05:58.058+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:05:58.061+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:05:58.062+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:05:58.062+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:05:58.063+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:58.063+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:05:58.064+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:05:58.064+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52cabecd] was not registered for synchronization because synchronization is not active
2025-12-24T16:05:58.069+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@491293101 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:05:58.070+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:05:58.071+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:05:58.080+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:05:58.082+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@52cabecd]
2025-12-24T16:05:58.083+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:05:58.084+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:05:58.085+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:08.387+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/approval
2025-12-24T16:06:08.392+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/2/approval
2025-12-24T16:06:08.396+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/2/approval
2025-12-24T16:06:08.397+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/2/approval
2025-12-24T16:06:08.398+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/2/approval", parameters={}
2025-12-24T16:06:08.398+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:06:08.401+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:06:08.402+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:08.403+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:08.404+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 2, action: APPROVE, operatorId: 1
2025-12-24T16:06:08.404+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:08.405+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4d8ed8] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:08.408+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@12626105 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:08.410+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:06:08.411+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-24T16:06:08.413+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:06:08.414+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4d8ed8]
2025-12-24T16:06:08.416+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:08.416+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553079bb] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:08.417+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1651350561 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:08.417+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:06:08.417+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:06:08.421+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:06:08.424+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@553079bb]
2025-12-24T16:06:08.427+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:08.429+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65501672] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:08.429+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@863721154 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:08.430+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:06:08.431+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user1(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 2(Long)
2025-12-24T16:06:08.465+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:06:08.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65501672]
2025-12-24T16:06:08.466+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 2
2025-12-24T16:06:08.467+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:08.467+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:06:08.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:08.473+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:06:08.479+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:06:08.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:06:08.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:06:08.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:06:08.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:06:08.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:08.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:08.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:08.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cc640b4] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:08.486+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969994437 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:06:08.488+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:06:08.489+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:06:08.492+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:06:08.495+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cc640b4]
2025-12-24T16:06:08.498+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:08.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:06:08.500+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:24.456+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:06:24.462+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:06:24.461+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:06:24.461+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:06:24.466+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:06:24.467+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:06:24.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:06:24.468+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:06:24.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:06:24.472+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:06:24.469+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:06:24.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:06:24.471+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:06:24.472+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:06:24.476+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:06:24.481+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:06:24.478+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:06:24.479+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:06:24.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:06:24.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:24.482+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:06:24.483+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:06:24.484+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:06:24.484+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bc7156e] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:24.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:06:24.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:06:24.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:06:24.488+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:24.495+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:24.488+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:06:24.495+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1daf8029] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:24.497+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b5d2cf] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:24.502+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1718193327 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:06:24.502+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:06:24.498+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:24.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:06:24.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d16580] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:24.509+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@546442092 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:06:24.510+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1024929807 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:24.512+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:24.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1444090300 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:06:24.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:06:24.517+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:24.518+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:06:24.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:06:24.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bc7156e]
2025-12-24T16:06:24.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:24.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:06:24.522+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:06:24.525+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:24.525+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:06:24.528+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:06:24.528+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1daf8029]
2025-12-24T16:06:24.529+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:24.533+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:24.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:06:24.534+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:24.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:06:24.537+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:24.538+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@31b5d2cf]
2025-12-24T16:06:24.538+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49d16580]
2025-12-24T16:06:24.543+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:24.544+09:00  INFO 6540 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:06:24.545+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:06:24.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:24.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:24.552+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:06:24.555+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.474+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:06:25.474+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:06:25.476+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:06:25.478+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:06:25.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:06:25.485+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:06:25.481+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:06:25.492+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:06:25.493+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:06:25.493+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:06:25.493+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:06:25.495+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:06:25.499+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:06:25.513+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:06:25.501+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:06:25.502+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:06:25.503+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:06:25.505+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:06:25.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:06:25.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:06:25.514+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:06:25.515+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:06:25.518+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:06:25.518+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:06:25.518+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:06:25.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:06:25.519+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:06:25.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:06:25.525+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:06:25.520+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:06:25.521+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:06:25.521+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:06:25.521+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:06:25.525+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:06:25.528+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.528+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc5eca2] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.526+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.530+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e59613] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.527+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:06:25.527+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:06:25.528+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:06:25.529+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.531+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:25.531+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@656097385 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:06:25.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:25.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78bb4c38] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.532+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@402928302 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:25.533+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:25.533+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:06:25.533+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1342e241] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.533+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:25.535+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:06:25.536+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.537+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:06:25.537+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1174538582 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:06:25.537+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.538+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:06:25.538+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227964] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.539+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1485044237 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:06:25.540+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:06:25.542+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4707d16] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.543+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:25.545+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:06:25.546+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:06:25.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1151801787 wrapping com.mysql.cj.jdbc.ConnectionImpl@4fc1ad1d] will not be managed by Spring
2025-12-24T16:06:25.549+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:06:25.550+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:06:25.547+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815151073 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:06:25.552+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:06:25.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:25.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1bc5eca2]
2025-12-24T16:06:25.548+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:06:25.552+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:06:25.553+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:06:25.553+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.555+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10eec1a9] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.553+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:06:25.553+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@55e59613]
2025-12-24T16:06:25.554+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78bb4c38]
2025-12-24T16:06:25.556+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1818930557 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:06:25.557+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@227964]
2025-12-24T16:06:25.559+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.560+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.560+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:06:25.561+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.562+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:06:25.562+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:25.563+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1342e241]
2025-12-24T16:06:25.562+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:06:25.562+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c796284] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.563+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:06:25.563+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:06:25.564+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.564+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.565+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4707d16]
2025-12-24T16:06:25.567+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1996876608 wrapping com.mysql.cj.jdbc.ConnectionImpl@5d97975f] will not be managed by Spring
2025-12-24T16:06:25.568+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.569+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:06:25.571+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:06:25.572+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.578+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:06:25.582+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.586+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:06:25.587+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:06:25.588+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:06:25.591+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.595+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:06:25.600+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:06:25.601+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:06:25.604+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:06:25.605+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10eec1a9]
2025-12-24T16:06:25.606+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:25.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.607+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:06:25.608+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f81421e] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:25.609+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:06:25.609+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c796284]
2025-12-24T16:06:25.610+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@148986151 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:06:25.611+09:00 DEBUG 6540 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.612+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.615+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:06:25.616+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:06:25.618+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:06:25.619+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:25.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:06:25.621+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f81421e]
2025-12-24T16:06:25.626+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:25.627+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:06:25.628+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:27.767+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:06:27.768+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:06:27.772+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:06:27.777+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:06:27.778+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:06:27.779+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:06:27.779+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:06:27.780+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:06:27.780+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.780+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72754e0a] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.778+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:06:27.782+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:06:27.783+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:06:27.784+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:06:27.785+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@894116513 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:06:27.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:27.786+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c26f3d] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.788+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:27.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2033023732 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:27.798+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:27.799+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:27.800+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72754e0a]
2025-12-24T16:06:27.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:27.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:27.801+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:06:27.802+09:00 DEBUG 6540 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:27.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:27.804+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63c26f3d]
2025-12-24T16:06:27.806+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:27.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:06:27.810+09:00 DEBUG 6540 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:06:27.812+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:06:27.816+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:27.817+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:06:27.818+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:06:27.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:06:27.820+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:06:27.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:06:27.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:06:27.821+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:06:27.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:06:27.822+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:06:27.826+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:27.824+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:06:27.827+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:27.828+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:06:27.828+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.829+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:06:27.829+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6258411b] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.829+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.829+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@263762345 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:27.830+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2309ea71] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.831+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:27.843+09:00 DEBUG 6540 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:06:27.844+09:00 DEBUG 6540 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:06:27.845+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:27.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1120764976 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:06:27.850+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:27.852+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:06:27.853+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:27.855+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:06:27.854+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:06:27.861+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:06:27.862+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:06:27.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:06:27.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:27.863+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:06:27.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:06:27.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6258411b]
2025-12-24T16:06:27.865+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:06:27.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:06:27.866+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:27.867+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:06:27.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:27.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2309ea71]
2025-12-24T16:06:27.868+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@143508de] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:06:27.869+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:06:27.870+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.870+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@885380058 wrapping com.mysql.cj.jdbc.ConnectionImpl@3bfbfffb] will not be managed by Spring
2025-12-24T16:06:27.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:06:27.871+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.872+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa51a4b] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:06:27.875+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290850d2] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.876+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f15d897] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.878+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1350248119 wrapping com.mysql.cj.jdbc.ConnectionImpl@2f9303a1] will not be managed by Spring
2025-12-24T16:06:27.887+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:06:27.885+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@884485071 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:06:27.888+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:06:27.892+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1895292982 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:06:27.893+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 1
2025-12-24T16:06:27.895+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:27.896+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:06:27.896+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@143508de]
2025-12-24T16:06:27.897+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:27.898+09:00  INFO 6540 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 1
2025-12-24T16:06:27.898+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:06:27.899+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:27.900+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:06:27.902+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 5
2025-12-24T16:06:27.905+09:00 DEBUG 6540 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:27.906+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa51a4b]
2025-12-24T16:06:27.913+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:27.914+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=6, userId=6, companyId=1 (truncated)...]
2025-12-24T16:06:27.918+09:00 DEBUG 6540 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:27.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:27.935+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:06:27.948+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f15d897]
2025-12-24T16:06:27.949+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@290850d2]
2025-12-24T16:06:27.949+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.950+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:06:27.951+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14be3e81] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.951+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6587373a] was not registered for synchronization because synchronization is not active
2025-12-24T16:06:27.952+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1704889825 wrapping com.mysql.cj.jdbc.ConnectionImpl@335c38e] will not be managed by Spring
2025-12-24T16:06:27.952+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@363107046 wrapping com.mysql.cj.jdbc.ConnectionImpl@4a624838] will not be managed by Spring
2025-12-24T16:06:27.952+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:06:27.953+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:06:27.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:06:27.954+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:06:27.963+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 1
2025-12-24T16:06:27.963+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 5
2025-12-24T16:06:27.966+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14be3e81]
2025-12-24T16:06:27.967+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6587373a]
2025-12-24T16:06:27.968+09:00  INFO 6540 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 1
2025-12-24T16:06:27.969+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:27.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:06:27.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=6, userId=6, companyId=1 (truncated)...]
2025-12-24T16:06:27.970+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:06:27.971+09:00 DEBUG 6540 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:06:27.972+09:00 DEBUG 6540 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:37.668+09:00  INFO 25100 --- [main] c.i.backend.BackendApplication           : Starting BackendApplication using Java 17.0.17 with PID 25100 (C:\InnerSignature\backend\target\classes started by owner in C:\InnerSignature\backend)
2025-12-24T16:11:37.671+09:00 DEBUG 25100 --- [main] c.i.backend.BackendApplication           : Running with Spring Boot v3.5.8, Spring v6.2.14
2025-12-24T16:11:37.673+09:00  INFO 25100 --- [main] c.i.backend.BackendApplication           : The following 1 profile is active: "dev"
2025-12-24T16:11:39.596+09:00 DEBUG 25100 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Searching for mappers annotated with @Mapper
2025-12-24T16:11:39.606+09:00 DEBUG 25100 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Using auto-configuration base package 'com.innersignature.backend'
2025-12-24T16:11:40.062+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\CompanyMapper.class]
2025-12-24T16:11:40.065+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\ExpenseMapper.class]
2025-12-24T16:11:40.067+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PasswordResetTokenMapper.class]
2025-12-24T16:11:40.069+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\PaymentMapper.class]
2025-12-24T16:11:40.070+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionMapper.class]
2025-12-24T16:11:40.072+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\SubscriptionPlanMapper.class]
2025-12-24T16:11:40.074+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [C:\InnerSignature\backend\target\classes\com\innersignature\backend\mapper\UserMapper.class]
2025-12-24T16:11:40.107+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'companyMapper' and 'com.innersignature.backend.mapper.CompanyMapper' mapperInterface
2025-12-24T16:11:40.119+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'expenseMapper' and 'com.innersignature.backend.mapper.ExpenseMapper' mapperInterface
2025-12-24T16:11:40.126+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'passwordResetTokenMapper' and 'com.innersignature.backend.mapper.PasswordResetTokenMapper' mapperInterface
2025-12-24T16:11:40.240+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'paymentMapper' and 'com.innersignature.backend.mapper.PaymentMapper' mapperInterface
2025-12-24T16:11:40.344+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionMapper' and 'com.innersignature.backend.mapper.SubscriptionMapper' mapperInterface
2025-12-24T16:11:40.422+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'subscriptionPlanMapper' and 'com.innersignature.backend.mapper.SubscriptionPlanMapper' mapperInterface
2025-12-24T16:11:40.439+09:00 DEBUG 25100 --- [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'com.innersignature.backend.mapper.UserMapper' mapperInterface
2025-12-24T16:11:41.836+09:00  INFO 25100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-12-24T16:11:41.869+09:00  INFO 25100 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-12-24T16:11:41.870+09:00  INFO 25100 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.49]
2025-12-24T16:11:42.019+09:00  INFO 25100 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-12-24T16:11:42.031+09:00  INFO 25100 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4279 ms
2025-12-24T16:11:42.189+09:00 DEBUG 25100 --- [main] c.i.b.security.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-12-24T16:11:42.190+09:00 DEBUG 25100 --- [main] c.i.backend.security.RateLimitFilter     : Filter 'rateLimitFilter' configured for use
2025-12-24T16:11:42.711+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\CompanyMapper.xml]'
2025-12-24T16:11:42.804+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\ExpenseMapper.xml]'
2025-12-24T16:11:42.856+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PasswordResetTokenMapper.xml]'
2025-12-24T16:11:42.890+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\PaymentMapper.xml]'
2025-12-24T16:11:42.929+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionMapper.xml]'
2025-12-24T16:11:42.946+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\SubscriptionPlanMapper.xml]'
2025-12-24T16:11:43.023+09:00 DEBUG 25100 --- [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [C:\InnerSignature\backend\target\classes\mapper\UserMappeer.xml]'
2025-12-24T16:11:44.306+09:00 DEBUG 25100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 86 mappings in 'requestMappingHandlerMapping'
2025-12-24T16:11:44.618+09:00 DEBUG 25100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /api/uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-12-24T16:11:44.659+09:00  WARN 25100 --- [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: b703699e-1e19-4408-a2df-e10a9405d348

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-24T16:11:44.675+09:00  INFO 25100 --- [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-24T16:11:44.914+09:00 DEBUG 25100 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, RateLimitFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-12-24T16:11:45.062+09:00 DEBUG 25100 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-12-24T16:11:45.159+09:00 DEBUG 25100 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-12-24T16:11:45.168+09:00 DEBUG 25100 --- [main] o.m.s.b.a.MybatisAutoConfiguration       : Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-24T16:11:45.442+09:00  INFO 25100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-12-24T16:11:45.463+09:00  INFO 25100 --- [main] c.i.backend.BackendApplication           : Started BackendApplication in 8.676 seconds (process running for 9.269)
2025-12-24T16:11:48.211+09:00  INFO 25100 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-24T16:11:48.240+09:00  INFO 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-12-24T16:11:48.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-12-24T16:11:48.245+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-12-24T16:11:48.256+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-12-24T16:11:48.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4269aad7
2025-12-24T16:11:48.372+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7d3c22a5
2025-12-24T16:11:48.379+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-12-24T16:11:48.389+09:00  INFO 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 144 ms
2025-12-24T16:11:48.452+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:11:48.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:11:48.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:11:48.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:11:48.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:11:48.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:11:48.553+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:11:48.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:11:48.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:11:48.576+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:11:48.592+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:11:48.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:11:48.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:11:48.960+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:11:48.960+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:11:48.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:11:48.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:11:48.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:11:48.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:11:48.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:11:48.988+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:11:49.015+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:11:48.990+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:11:48.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:11:49.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:11:49.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:11:49.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:11:49.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:11:49.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:11:49.028+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:11:49.028+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:11:49.029+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:11:49.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:11:49.034+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:11:49.037+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:11:49.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:49.111+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:11:49.113+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:49.118+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:11:49.134+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:49.135+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:49.140+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:49.148+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:49.150+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14b68685] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:49.150+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:49.151+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a172f61] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:49.151+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:49.152+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@625e277a] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:49.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:49.175+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d5fe6d] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:49.190+09:00  INFO 25100 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-12-24T16:11:49.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:49.207+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189fe2f1] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:49.214+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2003c8cf] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:49.669+09:00  INFO 25100 --- [http-nio-8080-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c223934
2025-12-24T16:11:49.673+09:00  INFO 25100 --- [http-nio-8080-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-12-24T16:11:49.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@201300565 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:49.695+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:11:49.760+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:11:49.806+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1882717601 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:11:49.810+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:11:49.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:11:49.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:11:49.836+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14b68685]
2025-12-24T16:11:49.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1899573363 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:49.855+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:11:49.862+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:11:49.876+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:11:49.876+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d5fe6d]
2025-12-24T16:11:49.878+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878276628 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:11:49.879+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:11:49.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:49.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:49.920+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:11:49.923+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:11:49.936+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2003c8cf]
2025-12-24T16:11:49.930+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:11:49.938+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813540227 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:49.938+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:49.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:11:49.947+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:11:49.955+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:11:49.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:49.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:49.998+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:11:50.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:11:50.020+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:50.023+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:11:50.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:11:50.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:11:50.074+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:11:50.088+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:11:50.089+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:11:50.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:50.091+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db9309e] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:50.080+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a172f61]
2025-12-24T16:11:50.088+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@625e277a]
2025-12-24T16:11:50.103+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:50.104+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1878601190 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:11:50.104+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:50.105+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1381223188 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:50.105+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490b5794] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:50.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:11:50.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35faa791] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:50.111+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:11:50.117+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:11:50.121+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:11:50.122+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@872228385 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:11:50.123+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:11:50.126+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:11:50.129+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 5
2025-12-24T16:11:50.134+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@189fe2f1]
2025-12-24T16:11:50.139+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:11:50.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@343684920 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:11:50.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7db9309e]
2025-12-24T16:11:50.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:50.142+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:11:50.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:50.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:11:50.144+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:11:50.145+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:11:50.146+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@490b5794]
2025-12-24T16:11:50.147+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:50.145+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:11:50.148+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:50.150+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:50.156+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:11:50.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:50.183+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:11:50.188+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@35faa791]
2025-12-24T16:11:50.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:50.192+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:11:50.194+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:54.427+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/2/approval
2025-12-24T16:11:54.431+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/2/approval
2025-12-24T16:11:54.439+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/2/approval
2025-12-24T16:11:54.442+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/2/approval
2025-12-24T16:11:54.443+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/2/approval", parameters={}
2025-12-24T16:11:54.445+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:11:54.486+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:11:54.489+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:54.491+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:54.494+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 2, action: APPROVE, operatorId: 1
2025-12-24T16:11:54.517+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:54.524+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.528+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1809422785 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will be managed by Spring
2025-12-24T16:11:54.529+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:11:54.532+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 2(Long)
2025-12-24T16:11:54.541+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:11:54.543+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.544+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb] from current transaction
2025-12-24T16:11:54.545+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:11:54.545+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:11:54.548+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:11:54.554+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.556+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb] from current transaction
2025-12-24T16:11:54.557+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:11:54.559+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user1(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 2(Long)
2025-12-24T16:11:54.566+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:11:54.569+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.571+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb] from current transaction
2025-12-24T16:11:54.572+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.approveUserCompany    : ==>  Preparing: UPDATE user_company_tb SET approval_status = 'APPROVED', is_active = 1, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T16:11:54.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.approveUserCompany    : ==> Parameters: 2(Long), 1(Long)
2025-12-24T16:11:54.579+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.approveUserCompany    : <==    Updates: 1
2025-12-24T16:11:54.580+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.582+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.584+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1aae40fb]
2025-12-24T16:11:54.617+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 2
2025-12-24T16:11:54.618+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:54.619+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:11:54.621+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:54.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:11:54.646+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:11:54.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:11:54.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:11:54.666+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:11:54.668+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:11:54.669+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:54.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:54.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:54.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b703f29] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:54.674+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@250937454 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:54.675+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:11:54.676+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:11:54.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 4
2025-12-24T16:11:54.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b703f29]
2025-12-24T16:11:54.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:54.696+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:11:54.698+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:56.707+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/3/approval
2025-12-24T16:11:56.710+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/3/approval
2025-12-24T16:11:56.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/3/approval
2025-12-24T16:11:56.714+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/3/approval
2025-12-24T16:11:56.719+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/3/approval", parameters={}
2025-12-24T16:11:56.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:11:56.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:11:56.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:56.729+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:56.731+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 3, action: APPROVE, operatorId: 1
2025-12-24T16:11:56.739+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:56.739+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2043036750 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will be managed by Spring
2025-12-24T16:11:56.741+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:11:56.742+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 3(Long)
2025-12-24T16:11:56.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:11:56.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342] from current transaction
2025-12-24T16:11:56.746+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:11:56.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:11:56.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:11:56.755+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.756+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342] from current transaction
2025-12-24T16:11:56.758+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:11:56.760+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user2(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 3(Long)
2025-12-24T16:11:56.764+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:11:56.765+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.769+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342] from current transaction
2025-12-24T16:11:56.771+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.approveUserCompany    : ==>  Preparing: UPDATE user_company_tb SET approval_status = 'APPROVED', is_active = 1, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T16:11:56.771+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.approveUserCompany    : ==> Parameters: 3(Long), 1(Long)
2025-12-24T16:11:56.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.approveUserCompany    : <==    Updates: 1
2025-12-24T16:11:56.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.781+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.784+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.786+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e93c342]
2025-12-24T16:11:56.795+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 3
2025-12-24T16:11:56.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:56.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:11:56.799+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:56.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:11:56.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:11:56.822+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:11:56.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:11:56.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:11:56.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:11:56.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:56.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:56.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:56.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f21619] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:56.832+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@872151993 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:56.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:11:56.848+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:11:56.875+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 3
2025-12-24T16:11:56.878+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f21619]
2025-12-24T16:11:56.879+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:56.881+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:11:56.883+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:58.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/4/approval
2025-12-24T16:11:58.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/4/approval
2025-12-24T16:11:58.697+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/4/approval
2025-12-24T16:11:58.698+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/4/approval
2025-12-24T16:11:58.702+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/4/approval", parameters={}
2025-12-24T16:11:58.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:11:58.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:11:58.709+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:58.710+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:58.710+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 4, action: APPROVE, operatorId: 1
2025-12-24T16:11:58.714+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:58.719+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@725133773 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will be managed by Spring
2025-12-24T16:11:58.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:11:58.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 4(Long)
2025-12-24T16:11:58.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:11:58.727+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9] from current transaction
2025-12-24T16:11:58.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:11:58.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:11:58.733+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:11:58.739+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9] from current transaction
2025-12-24T16:11:58.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:11:58.755+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user3(String), null, 팀장(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 4(Long)
2025-12-24T16:11:58.762+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:11:58.762+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.764+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9] from current transaction
2025-12-24T16:11:58.764+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.approveUserCompany    : ==>  Preparing: UPDATE user_company_tb SET approval_status = 'APPROVED', is_active = 1, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T16:11:58.767+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.approveUserCompany    : ==> Parameters: 4(Long), 1(Long)
2025-12-24T16:11:58.772+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.approveUserCompany    : <==    Updates: 1
2025-12-24T16:11:58.772+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.775+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c8fbcd9]
2025-12-24T16:11:58.780+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 4
2025-12-24T16:11:58.782+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:58.785+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:11:58.787+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:11:58.792+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:11:58.803+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:11:58.808+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:11:58.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:11:58.810+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:11:58.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:11:58.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:58.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:11:58.813+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:11:58.813+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d39cb2a] was not registered for synchronization because synchronization is not active
2025-12-24T16:11:58.817+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1463514775 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:11:58.819+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:11:58.820+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:11:58.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 2
2025-12-24T16:11:58.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7d39cb2a]
2025-12-24T16:11:58.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:11:58.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:11:58.829+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:01.004+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/5/approval
2025-12-24T16:12:01.008+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/users/5/approval
2025-12-24T16:12:01.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/5/approval
2025-12-24T16:12:01.012+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/users/5/approval
2025-12-24T16:12:01.013+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/users/5/approval", parameters={}
2025-12-24T16:12:01.014+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:12:01.018+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:12:01.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:01.025+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:01.027+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 5, action: APPROVE, operatorId: 1
2025-12-24T16:12:01.041+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:01.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@949796551 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will be managed by Spring
2025-12-24T16:12:01.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:01.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 5(Long)
2025-12-24T16:12:01.047+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:01.048+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.052+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363] from current transaction
2025-12-24T16:12:01.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:01.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:01.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:01.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.060+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363] from current transaction
2025-12-24T16:12:01.060+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:12:01.061+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user4(String), null, 이사(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 5(Long)
2025-12-24T16:12:01.067+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:12:01.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363] from current transaction
2025-12-24T16:12:01.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.approveUserCompany    : ==>  Preparing: UPDATE user_company_tb SET approval_status = 'APPROVED', is_active = 1, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T16:12:01.071+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.approveUserCompany    : ==> Parameters: 5(Long), 1(Long)
2025-12-24T16:12:01.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.approveUserCompany    : <==    Updates: 1
2025-12-24T16:12:01.074+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.074+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e814363]
2025-12-24T16:12:01.079+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 5
2025-12-24T16:12:01.080+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:01.081+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:12:01.082+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:01.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:12:01.093+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:12:01.096+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:12:01.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:12:01.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:12:01.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:12:01.102+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:01.103+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:01.105+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:01.105+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9de2776] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:01.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1439699505 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:01.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:12:01.107+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:12:01.110+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-24T16:12:01.112+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9de2776]
2025-12-24T16:12:01.114+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:01.115+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=6, username=test_user5, password=null, (truncated)...]
2025-12-24T16:12:01.121+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:02.795+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/6/approval
2025-12-24T16:12:02.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/6/approval
2025-12-24T16:12:02.803+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/6/approval
2025-12-24T16:12:02.804+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/6/approval
2025-12-24T16:12:02.806+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/6/approval", parameters={}
2025-12-24T16:12:02.808+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:12:02.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:12:02.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:02.813+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:02.814+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 6, action: APPROVE, operatorId: 1
2025-12-24T16:12:02.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:02.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1898293674 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will be managed by Spring
2025-12-24T16:12:02.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:02.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 6(Long)
2025-12-24T16:12:02.829+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:02.829+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40] from current transaction
2025-12-24T16:12:02.832+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:02.833+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:02.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:02.838+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.839+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40] from current transaction
2025-12-24T16:12:02.839+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:12:02.839+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user5(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 6(Long)
2025-12-24T16:12:02.843+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:12:02.844+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40] from current transaction
2025-12-24T16:12:02.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.approveUserCompany    : ==>  Preparing: UPDATE user_company_tb SET approval_status = 'APPROVED', is_active = 1, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T16:12:02.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.approveUserCompany    : ==> Parameters: 6(Long), 1(Long)
2025-12-24T16:12:02.850+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.approveUserCompany    : <==    Updates: 1
2025-12-24T16:12:02.851+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.852+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.853+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.853+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d5c2d40]
2025-12-24T16:12:02.857+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 6
2025-12-24T16:12:02.858+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:02.859+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:12:02.860+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:02.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:12:02.871+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:12:02.873+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:12:02.874+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:12:02.874+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:12:02.875+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:12:02.875+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:02.876+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:02.879+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:02.879+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214e9a99] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:02.881+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@141900005 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:02.886+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:12:02.887+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:12:02.890+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:12:02.890+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@214e9a99]
2025-12-24T16:12:02.892+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:02.893+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:02.894+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:05.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:12:05.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:05.737+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:12:05.737+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:12:05.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:05.744+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:12:05.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:12:05.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:05.748+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:05.744+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:12:05.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:12:05.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:12:05.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:05.756+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:12:05.758+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:12:05.759+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:12:05.760+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:05.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:05.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa9b0c9] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:05.760+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:12:05.761+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:12:05.771+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:12:05.776+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:12:05.776+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:12:05.776+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:12:05.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:05.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:12:05.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1117783680 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:05.779+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:12:05.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5159b0c6] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:05.779+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:12:05.780+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:05.781+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:05.784+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:05.786+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:05.786+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b16cb09] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:05.787+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ffa8137] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:05.787+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1562517996 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:05.789+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:05.790+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@924681836 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:05.790+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@327214208 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:05.790+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:12:05.790+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:05.791+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:05.791+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:05.792+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fa9b0c9]
2025-12-24T16:12:05.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:05.794+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:05.795+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:12:05.794+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:05.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5159b0c6]
2025-12-24T16:12:05.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:05.799+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:05.801+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:05.801+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:05.805+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:05.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:05.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:05.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b16cb09]
2025-12-24T16:12:05.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ffa8137]
2025-12-24T16:12:05.814+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:12:05.816+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:12:05.817+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:05.819+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:05.820+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:12:05.821+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:12:05.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:05.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:09.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:12:09.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:12:09.316+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:12:09.317+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:12:09.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:12:09.324+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:12:09.324+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:12:09.327+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:12:09.329+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:12:09.337+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:12:09.339+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:12:09.339+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:12:09.337+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:12:09.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:12:09.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:12:09.338+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:12:09.343+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:09.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1421cc6b] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:09.340+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:12:09.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:12:09.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:12:09.345+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:12:09.347+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:09.346+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:12:09.346+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:12:09.351+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:09.353+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:12:09.353+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:09.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:09.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:12:09.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@517580571 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:09.360+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:12:09.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:09.359+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b6f99bf] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:09.359+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:09.360+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:12:09.361+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:09.361+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414afa28] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:09.361+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271a4035] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:09.364+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:12:09.364+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1480745196 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:09.364+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1194593302 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:09.369+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:12:09.364+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1421cc6b]
2025-12-24T16:12:09.367+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:12:09.369+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@457860523 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:09.371+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:12:09.370+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:12:09.371+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:12:09.374+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:09.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:12:09.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:12:09.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:09.376+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:12:09.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2b6f99bf]
2025-12-24T16:12:09.378+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414afa28]
2025-12-24T16:12:09.378+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:09.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:09.379+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:09.381+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:12:09.383+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:09.383+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:12:09.386+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:09.384+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@271a4035]
2025-12-24T16:12:09.387+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:09.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:09.391+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:12:09.392+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:11.139+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:12:11.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:12:11.142+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:12:11.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:12:11.192+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:12:11.195+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:12:11.196+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:12:11.196+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:12:11.209+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:12:11.218+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:12:11.218+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:12:11.222+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:12:11.224+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:12:11.224+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:12:11.224+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:12:11.226+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:12:11.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:12:11.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:12:11.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:12:11.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:12:11.226+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:12:11.226+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:12:11.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:11.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:12:11.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:11.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:12:11.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a155a6b] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:11.229+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:11.231+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9c09927] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:11.230+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:11.230+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:11.234+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:11.235+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@603436707 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:11.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:12:11.235+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@992693118 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:11.240+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:12:11.236+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:11.236+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdd9967] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:11.239+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:12:11.241+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:12:11.241+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:11.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fad930a] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:11.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:12:11.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:12:11.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@665258323 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:11.245+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a155a6b]
2025-12-24T16:12:11.246+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9c09927]
2025-12-24T16:12:11.247+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:12:11.248+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:11.251+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:11.253+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:12:11.254+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@409713996 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:11.255+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:11.256+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:11.256+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:12:11.257+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:11.259+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:11.259+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:12:11.260+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:12:11.263+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7cdd9967]
2025-12-24T16:12:11.264+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:11.267+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:12:11.270+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:11.273+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:12:11.275+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fad930a]
2025-12-24T16:12:11.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:11.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:12:11.277+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:13.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:12:13.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:12:13.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:12:13.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:13.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:12:13.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:12:13.696+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:12:13.696+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:12:13.697+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:12:13.699+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:12:13.701+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:12:13.701+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:13.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:12:13.710+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:12:13.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:12:13.709+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:13.710+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:12:13.710+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:12:13.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:13.711+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:12:13.712+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:13.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:12:13.714+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47517b7a] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:13.719+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:12:13.720+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:13.719+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:13.720+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:12:13.721+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac97246] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:13.721+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:13.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:12:13.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1821679961 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:13.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:13.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:13.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:13.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33952cb8] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:13.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1474094166 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:13.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4458d9] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:13.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:13.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:13.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:13.730+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1329243971 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:13.730+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@222646488 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:13.731+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:13.731+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:13.732+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:13.735+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:13.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47517b7a]
2025-12-24T16:12:13.737+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:12:13.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:13.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ac97246]
2025-12-24T16:12:13.737+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:12:13.738+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:13.739+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:12:13.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:12:13.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:13.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:13.742+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:13.742+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33952cb8]
2025-12-24T16:12:13.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:12:13.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:13.748+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:13.753+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:13.754+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:12:13.757+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:13.758+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f4458d9]
2025-12-24T16:12:13.761+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:13.762+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:13.763+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:18.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:12:18.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:12:18.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:12:18.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:12:18.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:12:18.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:12:18.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:12:18.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:12:18.647+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:12:18.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:12:18.651+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:12:18.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:12:18.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:12:18.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:12:18.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:12:18.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:12:18.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:12:18.675+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:12:18.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:12:18.674+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:12:18.674+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:12:18.675+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:12:18.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:12:18.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:12:18.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:18.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:18.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:18.679+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:18.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5948df4f] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:18.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3746af18] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:18.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:18.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:12:18.690+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:18.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:18.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a4aca5] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:18.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb50949] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:18.695+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@478801094 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:18.695+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2147407263 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:18.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:12:18.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:12:18.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:12:18.707+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:12:18.709+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2068965575 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:18.709+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1511749122 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:18.711+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:12:18.712+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:12:18.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:12:18.714+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:12:18.720+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:12:18.721+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3746af18]
2025-12-24T16:12:18.721+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:12:18.721+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:12:18.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:12:18.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:18.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5948df4f]
2025-12-24T16:12:18.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47a4aca5]
2025-12-24T16:12:18.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4cb50949]
2025-12-24T16:12:18.724+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:18.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:18.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:18.727+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:18.727+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:18.727+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:18.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:12:18.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:12:18.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:18.730+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:18.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:19.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:19.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:12:19.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:12:19.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:12:19.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:19.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:12:19.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:12:19.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:12:19.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:12:19.975+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:19.984+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:12:19.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:12:19.980+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:12:19.985+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:19.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:19.987+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:12:19.990+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:12:19.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:12:19.993+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:19.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:12:19.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:12:19.995+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:12:19.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:19.999+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11480d43] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:19.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:12:19.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:12:19.997+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:12:20.002+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:12:20.004+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:20.006+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3cb517] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:20.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1427606855 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:20.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:20.004+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:20.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:20.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1212906043 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:20.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:20.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a76360] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:20.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da0b4c6] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:20.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:20.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:12:20.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2008032360 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:20.125+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1331581938 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:20.127+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:20.139+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:20.140+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:12:20.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11480d43]
2025-12-24T16:12:20.142+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:20.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:20.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:12:20.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:20.145+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:20.186+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:20.187+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:12:20.187+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:12:20.188+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@27a76360]
2025-12-24T16:12:20.189+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7da0b4c6]
2025-12-24T16:12:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3cb517]
2025-12-24T16:12:20.190+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:12:20.191+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:12:20.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:20.194+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:20.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:20.194+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:20.195+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:20.196+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:12:20.197+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:12:20.204+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:20.205+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.563+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:12:23.563+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:23.565+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:12:23.566+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:23.566+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:12:23.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:12:23.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:23.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:12:23.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:23.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:12:23.577+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:12:23.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:12:23.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:23.580+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:12:23.588+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:23.590+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:23.594+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:12:23.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:12:23.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:12:23.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:12:23.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:12:23.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:23.604+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:12:23.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:12:23.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:12:23.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:12:23.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:12:23.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:23.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:12:23.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:12:23.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:12:23.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:23.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:23.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c4ec6] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:23.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d09324] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:23.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.618+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:12:23.620+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbc47d8] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1644405304 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:23.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db7ae6c] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:23.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1585951985 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:23.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:23.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9e1094] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:12:23.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075484036 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:23.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:12:23.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@677375570 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:23.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:23.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:12:23.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:23.629+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:12:23.629+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:23.629+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@646469432 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:12:23.631+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.631+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:23.632+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:23.633+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:23.633+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:12:23.633+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fbe9fc3] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.634+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@20c4ec6]
2025-12-24T16:12:23.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:12:23.638+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.639+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@815527359 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:23.639+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:23.639+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:23.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5862516e] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.642+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:12:23.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:12:23.641+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bbc47d8]
2025-12-24T16:12:23.641+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5db7ae6c]
2025-12-24T16:12:23.642+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:12:23.643+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a9e1094]
2025-12-24T16:12:23.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.643+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:12:23.643+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.643+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@887270461 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:23.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39d09324]
2025-12-24T16:12:23.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:23.646+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4582f88a] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.646+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:23.647+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:23.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:12:23.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6fbe9fc3]
2025-12-24T16:12:23.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.654+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1544342257 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:23.655+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:23.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:12:23.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:12:23.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:23.663+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:12:23.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.666+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:23.668+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:12:23.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:12:23.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:23.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:23.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4582f88a]
2025-12-24T16:12:23.679+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:12:23.679+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5862516e]
2025-12-24T16:12:23.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.684+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:12:23.684+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:12:23.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:12:23.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:23.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:23.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:23.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:23.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5974fa] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:23.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@636197305 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:23.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:12:23.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:12:23.696+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:12:23.697+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5974fa]
2025-12-24T16:12:23.700+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:23.702+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:23.702+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:24.999+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:25.000+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:25.004+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:25.006+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:25.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:25.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:25.010+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:25.010+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:25.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:25.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:25.017+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:25.019+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:25.020+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.021+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed40678] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6efe0d1] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.028+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2056490069 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:12:25.028+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1883590025 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:25.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:25.035+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:25.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:25.041+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:25.046+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:25.046+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:25.046+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6efe0d1]
2025-12-24T16:12:25.047+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed40678]
2025-12-24T16:12:25.050+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:25.051+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:25.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:25.056+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:25.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:25.060+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:25.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:12:25.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:12:25.088+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:12:25.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:12:25.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:12:25.096+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:12:25.105+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:12:25.110+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:12:25.111+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:12:25.112+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:12:25.112+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:12:25.112+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:12:25.113+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:12:25.113+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:12:25.113+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:12:25.116+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:25.119+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:25.117+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:12:25.120+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:12:25.120+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.122+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.123+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@319ba7c9] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.138+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2067298741 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:25.139+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:25.122+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ff4f74] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:25.124+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:12:25.142+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:12:25.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:12:25.144+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:12:25.144+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:12:25.145+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:12:25.146+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:12:25.146+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.147+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1433603f] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.148+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:12:25.150+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:12:25.152+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:12:25.153+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:12:25.154+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:25.156+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:25.156+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.157+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676cc05f] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.158+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@778990795 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:25.158+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1646108286 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:25.159+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:25.160+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:25.161+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:25.161+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:25.162+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:25.162+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@319ba7c9]
2025-12-24T16:12:25.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@149053747 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:25.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:25.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:25.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.169+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1433603f]
2025-12-24T16:12:25.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:25.167+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:25.169+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33eb7d9] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.169+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.169+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67ff4f74]
2025-12-24T16:12:25.170+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1005814746 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:25.171+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4cc3fe] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.171+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:12:25.171+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.172+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d694a8] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.171+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@748517609 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:25.172+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:12:25.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:12:25.172+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1304654421 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:25.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:12:25.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:12:25.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:12:25.175+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:25.175+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T16:12:25.176+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@676cc05f]
2025-12-24T16:12:25.176+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@33eb7d9]
2025-12-24T16:12:25.177+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:25.178+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:25.178+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425dae1e] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:25.178+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:25.179+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@370533897 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:25.179+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:12:25.180+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:25.180+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:12:25.180+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 6
2025-12-24T16:12:25.182+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10d694a8]
2025-12-24T16:12:25.184+09:00  INFO 25100 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 6
2025-12-24T16:12:25.189+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:25.191+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:12:25.195+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:25.211+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T16:12:25.212+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b4cc3fe]
2025-12-24T16:12:25.213+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:25.213+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:25.216+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:25.220+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 6
2025-12-24T16:12:25.221+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@425dae1e]
2025-12-24T16:12:25.222+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 6
2025-12-24T16:12:25.224+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:25.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:12:25.226+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:12:32.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:32.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:12:32.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:12:32.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:12:32.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:32.676+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:12:32.679+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:12:32.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:32.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:12:32.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:32.690+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:12:32.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:12:32.690+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:12:32.690+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:12:32.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:12:32.692+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:12:32.692+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:12:32.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:12:32.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:32.711+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:12:32.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:12:32.707+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:12:32.708+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:12:32.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:12:32.717+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:12:32.709+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:12:32.720+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.712+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:12:32.712+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:12:32.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:12:32.713+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:12:32.720+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:12:32.720+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f571bc0] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.721+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:12:32.724+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:12:32.727+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:12:32.729+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:12:32.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:12:32.730+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ccf392] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.734+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:32.734+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd515a4] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.739+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:32.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.738+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59035dba] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8532a98] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.740+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b060143] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@652246366 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:12:32.744+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:12:32.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1650863196 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:32.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@722260265 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:32.746+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969769333 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:12:32.746+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904969315 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:32.746+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1335734445 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:12:32.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:12:32.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:32.751+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:32.751+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:12:32.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:12:32.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:12:32.753+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:32.754+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:32.758+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:12:32.759+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:12:32.759+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:12:32.762+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:12:32.762+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f571bc0]
2025-12-24T16:12:32.763+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.763+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:12:32.764+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.768+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:32.769+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8532a98]
2025-12-24T16:12:32.769+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.770+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff7cada] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.770+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:12:32.771+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@256697713 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:12:32.772+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:32.772+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:32.773+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:12:32.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b060143]
2025-12-24T16:12:32.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:12:32.774+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.775+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:12:32.775+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:12:32.775+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:12:32.776+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.777+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:12:32.777+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@59035dba]
2025-12-24T16:12:32.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:12:32.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:12:32.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:32.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@64ccf392]
2025-12-24T16:12:32.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:32.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fd515a4]
2025-12-24T16:12:32.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:32.780+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.781+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:12:32.780+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:12:32.780+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.784+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e263a1] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.781+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.782+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.784+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:12:32.785+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325623341 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:12:32.787+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:12:32.788+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:12:32.787+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@166eb1ba] was not registered for synchronization because synchronization is not active
2025-12-24T16:12:32.789+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@981894500 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:12:32.789+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:12:32.791+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:12:32.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:32.808+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:12:32.808+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:12:32.808+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32e263a1]
2025-12-24T16:12:32.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ff7cada]
2025-12-24T16:12:32.810+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@166eb1ba]
2025-12-24T16:12:32.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:12:32.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:12:32.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:12:32.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:12:32.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:12:32.813+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:44.619+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:13:44.620+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:13:44.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:13:44.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:13:44.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:13:44.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:13:44.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:13:44.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:13:44.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:13:44.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:13:44.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:13:44.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.629+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2054d331] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:13:44.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.638+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ede0687] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.642+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1299662155 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:44.642+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:44.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999736395 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:44.647+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:44.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:44.652+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:44.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:44.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:44.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ede0687]
2025-12-24T16:13:44.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2054d331]
2025-12-24T16:13:44.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:44.659+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:44.659+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:13:44.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:13:44.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:44.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:44.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:13:44.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:13:44.742+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:13:44.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:13:44.857+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:13:44.858+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:13:44.893+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:13:44.901+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:13:44.903+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:13:44.904+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:13:44.882+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:13:44.909+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:44.910+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:13:44.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:13:44.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:13:44.924+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:44.925+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:13:44.927+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:13:44.931+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:13:44.933+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.933+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:13:44.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:13:44.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:13:44.935+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:13:44.936+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73238357] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:13:44.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:13:44.938+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:13:44.938+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:13:44.939+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:13:44.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:13:44.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:44.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1697357382 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:44.942+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:13:44.942+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732d699b] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.944+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:44.944+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:44.944+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.945+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.948+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:44.949+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d746444] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4e6369] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.951+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@529119295 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:44.954+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:44.954+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2051982272 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:44.955+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:44.955+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:44.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1541147031 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:44.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:44.957+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:44.957+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:44.958+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@73238357]
2025-12-24T16:13:44.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:44.962+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:44.962+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d746444]
2025-12-24T16:13:44.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@577c3835] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@289863001 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:44.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:13:44.970+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd67121] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:44.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:44.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:13:44.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717043263 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:44.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732d699b]
2025-12-24T16:13:44.974+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b4e6369]
2025-12-24T16:13:44.974+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:13:44.975+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.975+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:44.976+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:13:44.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 6
2025-12-24T16:13:44.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc08ebe] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17bf53b9] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:44.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@577c3835]
2025-12-24T16:13:44.981+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1061302028 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:44.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@428857529 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:44.981+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 6
2025-12-24T16:13:44.982+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:13:44.983+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:13:44.984+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:44.985+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:13:44.986+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T16:13:44.987+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:13:44.988+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cd67121]
2025-12-24T16:13:44.987+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:13:44.989+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:44.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:44.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:44.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.002+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T16:13:45.003+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 6
2025-12-24T16:13:45.003+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2fc08ebe]
2025-12-24T16:13:45.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17bf53b9]
2025-12-24T16:13:45.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.006+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 6
2025-12-24T16:13:45.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:45.008+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.008+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.010+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:13:45.012+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.576+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:13:45.577+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:13:45.577+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:13:45.581+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:13:45.582+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:13:45.585+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:13:45.585+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:13:45.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:13:45.602+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:13:45.603+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:13:45.604+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:13:45.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:13:45.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:13:45.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:13:45.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:13:45.620+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:13:45.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:13:45.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:13:45.616+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:13:45.618+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:13:45.621+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:13:45.621+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:13:45.621+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:13:45.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:13:45.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:13:45.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:13:45.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:13:45.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:13:45.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:13:45.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:13:45.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:13:45.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:13:45.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:13:45.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:13:45.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14fea04d] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:45.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:13:45.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:13:45.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:45.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:13:45.635+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:45.635+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1571891764 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:45.641+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:13:45.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1310d0d3] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.642+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:13:45.638+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:13:45.639+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71320f33] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4d95a1] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1394913820 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:45.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3efba936] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:13:45.649+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f77a67f] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:13:45.651+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14fea04d]
2025-12-24T16:13:45.652+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:13:45.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@125734928 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:45.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@676056054 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:45.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@697715032 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:13:45.655+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1814853543 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:13:45.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:45.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:13:45.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:13:45.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713b945e] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:13:45.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:13:45.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:45.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:13:45.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1310d0d3]
2025-12-24T16:13:45.659+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2128520231 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:45.659+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:13:45.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:13:45.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.667+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ea50986] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.663+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:13:45.668+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1765452758 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:45.669+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:13:45.668+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:13:45.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:13:45.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:13:45.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:45.676+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:13:45.676+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3efba936]
2025-12-24T16:13:45.676+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:13:45.676+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3d4d95a1]
2025-12-24T16:13:45.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71320f33]
2025-12-24T16:13:45.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:13:45.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:13:45.684+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f77a67f]
2025-12-24T16:13:45.677+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@713b945e]
2025-12-24T16:13:45.683+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.683+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.684+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ea50986]
2025-12-24T16:13:45.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:45.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:13:45.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:13:45.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:45.689+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.689+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:13:45.690+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.692+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:13:45.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.700+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:13:45.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.709+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:45.715+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:13:45.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:13:45.722+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:13:45.723+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:13:45.724+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:45.724+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee572da] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:45.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@16316686 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:45.725+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:13:45.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:13:45.735+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:13:45.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5ee572da]
2025-12-24T16:13:45.736+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:45.737+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:13:45.738+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:46.846+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:13:46.851+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:13:46.852+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:13:46.852+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:13:46.876+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:13:46.876+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:13:46.876+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:13:46.878+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:13:46.921+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:13:46.923+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:13:46.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:13:46.928+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:13:46.933+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:13:46.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:13:46.939+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:13:46.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:13:46.935+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:13:46.935+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:13:46.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:13:46.944+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:13:46.939+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:13:46.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:13:46.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:13:46.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:46.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a5b8934] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:46.949+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:46.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:13:46.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:13:46.953+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:13:46.952+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b144f50] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:46.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:46.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:46.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@387db732] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:46.954+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bfa5ad] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:46.959+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1394551318 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:13:46.959+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@926090666 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:46.959+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@889980598 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:13:46.962+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:46.968+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@601783881 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:46.970+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:13:46.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:46.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:46.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:13:46.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:13:46.976+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:13:46.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:13:46.995+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:46.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:13:46.998+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:13:46.998+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:13:47.003+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@a5b8934]
2025-12-24T16:13:47.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29bfa5ad]
2025-12-24T16:13:47.006+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1b144f50]
2025-12-24T16:13:47.006+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@387db732]
2025-12-24T16:13:47.008+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:47.008+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:13:47.010+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:13:47.012+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:47.018+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:13:47.018+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:47.018+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:47.019+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:47.019+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:13:47.019+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:47.020+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:13:47.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:47.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:47.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:52.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:13:52.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:13:52.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:13:52.916+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:13:52.923+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:13:52.924+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:13:52.926+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:13:52.926+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:13:52.935+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:13:52.927+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:13:52.931+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:13:52.935+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:13:52.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:13:52.936+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:13:52.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:13:52.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:13:52.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:13:52.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:13:52.942+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:13:52.943+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:13:52.943+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:13:52.944+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:52.955+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@410f081c] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:52.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:13:52.954+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:13:52.954+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:52.958+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:52.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:13:52.958+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450cafdd] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:52.958+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:52.959+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:52.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:52.963+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:52.964+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d1ed52] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:52.965+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1364128268 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:52.967+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:13:52.967+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:52.968+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:13:52.968+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2955b5] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:52.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@852857597 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:13:52.970+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:13:52.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:13:52.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1468205845 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:52.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:13:52.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:13:52.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@410f081c]
2025-12-24T16:13:52.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@876140312 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:13:52.975+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:13:52.975+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:13:52.976+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:52.976+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:13:52.976+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@450cafdd]
2025-12-24T16:13:52.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:52.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:13:52.979+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:52.980+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:13:52.980+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:52.985+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:52.987+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:13:52.987+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72d1ed52]
2025-12-24T16:13:52.988+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e2955b5]
2025-12-24T16:13:52.988+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:52.990+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:52.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:52.993+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:13:52.993+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:13:52.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:52.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:55.349+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:13:55.349+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:13:55.349+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:13:55.351+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:13:55.353+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:13:55.353+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:13:55.355+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:13:55.355+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:13:55.356+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:13:55.356+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:13:55.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:13:55.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:13:55.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:13:55.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:13:55.363+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:13:55.359+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:13:55.360+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:13:55.361+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:13:55.365+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:13:55.372+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:13:55.365+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:55.371+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:13:55.372+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:13:55.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:55.374+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7406bcbe] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:55.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c68561] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:55.373+09:00  INFO 25100 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:13:55.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:55.374+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:13:55.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb3e35] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:55.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:13:55.384+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:13:55.385+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@79724434 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:55.385+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2058875694 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:55.386+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:55.386+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:55.386+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@984972329 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:55.387+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:55.388+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f76042] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:55.391+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:13:55.391+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:13:55.392+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:55.393+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:13:55.394+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:13:55.395+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7406bcbe]
2025-12-24T16:13:55.395+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@252525880 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:13:55.396+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:13:55.398+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:55.399+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:55.398+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:13:55.399+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5cbb3e35]
2025-12-24T16:13:55.402+09:00  INFO 25100 --- [http-nio-8080-exec-7] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:13:55.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:55.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c68561]
2025-12-24T16:13:55.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:13:55.403+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:55.405+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:55.406+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:55.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:13:55.408+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:13:55.409+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:55.411+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:55.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:13:55.424+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@36f76042]
2025-12-24T16:13:55.426+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:13:55.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:55.427+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:13:55.428+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:58.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:13:58.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:13:58.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:13:58.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:13:58.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:13:58.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:13:58.055+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:13:58.056+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:13:58.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:13:58.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:13:58.055+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:13:58.056+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:13:58.061+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:13:58.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:58.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:13:58.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:13:58.067+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:13:58.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d0903f] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:58.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:13:58.071+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:13:58.071+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:13:58.071+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:13:58.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:13:58.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:13:58.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:13:58.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@680997278 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:58.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:58.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:13:58.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:58.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:13:58.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c89c83] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:58.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:58.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:58.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:13:58.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:13:58.082+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1813134886 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:58.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:58.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:58.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:13:58.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0586f7] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:58.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223e148d] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:58.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:13:58.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:13:58.085+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62d0903f]
2025-12-24T16:13:58.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:58.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:13:58.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1714571420 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:58.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1856035393 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:13:58.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:58.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8c89c83]
2025-12-24T16:13:58.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:13:58.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:13:58.088+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:58.088+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:58.088+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:13:58.089+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:13:58.089+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:58.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:58.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:13:58.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:13:58.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5c0586f7]
2025-12-24T16:13:58.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@223e148d]
2025-12-24T16:13:58.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:58.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:58.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:13:58.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:13:58.101+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:58.101+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:59.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:13:59.192+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:13:59.192+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:13:59.192+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:13:59.205+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:13:59.205+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:13:59.207+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:13:59.223+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:13:59.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:13:59.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:13:59.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:13:59.226+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:13:59.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:13:59.240+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:13:59.241+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:13:59.242+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:13:59.242+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:13:59.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:13:59.258+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:59.271+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715edebe] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:59.258+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:13:59.260+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:13:59.265+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:13:59.275+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:13:59.275+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:13:59.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:13:59.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:59.304+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3dcd58] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:59.291+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:59.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1380c66a] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:59.291+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:13:59.311+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:13:59.317+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1976937688 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:13:59.325+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:59.325+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:13:59.326+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:13:59.333+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@304299211 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:13:59.333+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1816994987 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:13:59.334+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d2f7b3] was not registered for synchronization because synchronization is not active
2025-12-24T16:13:59.350+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:13:59.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:13:59.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:13:59.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:13:59.376+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:13:59.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715edebe]
2025-12-24T16:13:59.384+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1639982644 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:13:59.385+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:59.387+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:13:59.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:13:59.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:13:59.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:13:59.392+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:13:59.394+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:59.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b3dcd58]
2025-12-24T16:13:59.403+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1380c66a]
2025-12-24T16:13:59.410+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:13:59.419+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:13:59.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:59.419+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:13:59.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:59.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:13:59.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:13:59.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:59.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38d2f7b3]
2025-12-24T16:13:59.424+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:13:59.425+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:13:59.427+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:13:59.433+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:14:01.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/payments
2025-12-24T16:14:01.576+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/payments
2025-12-24T16:14:01.582+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/payments
2025-12-24T16:14:01.584+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/payments
2025-12-24T16:14:01.584+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/payments
2025-12-24T16:14:01.586+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/payments
2025-12-24T16:14:01.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/payments", parameters={}
2025-12-24T16:14:01.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/payments
2025-12-24T16:14:01.588+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/payments
2025-12-24T16:14:01.588+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPayments()
2025-12-24T16:14:01.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getPayments(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:14:01.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/payments", parameters={}
2025-12-24T16:14:01.593+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getPayments(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:14:01.594+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPayments()
2025-12-24T16:14:01.594+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:14:01.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getPayments(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:14:01.599+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a8443] was not registered for synchronization because synchronization is not active
2025-12-24T16:14:01.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getPayments(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:14:01.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:14:01.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed415a5] was not registered for synchronization because synchronization is not active
2025-12-24T16:14:01.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025243480 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:14:01.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.PaymentMapper.findByCompanyId    : ==>  Preparing: SELECT p.* FROM payment_tb p INNER JOIN subscription_tb s ON p.subscription_id = s.subscription_id WHERE s.company_id = ? ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-24T16:14:01.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1092771316 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:14:01.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.PaymentMapper.findByCompanyId    : ==> Parameters: 1(Long)
2025-12-24T16:14:01.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.PaymentMapper.findByCompanyId    : ==>  Preparing: SELECT p.* FROM payment_tb p INNER JOIN subscription_tb s ON p.subscription_id = s.subscription_id WHERE s.company_id = ? ORDER BY p.payment_date DESC, p.created_at DESC
2025-12-24T16:14:01.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.PaymentMapper.findByCompanyId    : ==> Parameters: 1(Long)
2025-12-24T16:14:01.618+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.PaymentMapper.findByCompanyId    : <==      Total: 0
2025-12-24T16:14:01.618+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24a8443]
2025-12-24T16:14:01.619+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:14:01.619+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.PaymentMapper.findByCompanyId    : <==      Total: 0
2025-12-24T16:14:01.620+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:14:01.620+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ed415a5]
2025-12-24T16:14:01.621+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:14:01.621+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:14:01.625+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:14:01.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:14:02.525+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:14:02.525+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:14:02.525+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:14:02.525+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:14:02.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:14:02.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:14:02.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:14:02.534+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:14:02.534+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:14:02.535+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:14:02.536+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:14:02.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:14:02.536+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:14:02.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:14:02.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:14:02.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:14:02.537+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:14:02.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:14:02.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:14:02.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:14:02.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:14:02.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:14:02.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:14:02.632+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:14:02.632+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:14:02.634+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:14:02.633+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc46056] was not registered for synchronization because synchronization is not active
2025-12-24T16:14:02.633+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:14:02.634+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:14:02.634+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:14:02.635+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:14:02.635+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28dd4050] was not registered for synchronization because synchronization is not active
2025-12-24T16:14:02.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@667729154 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:14:02.635+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8da7c7] was not registered for synchronization because synchronization is not active
2025-12-24T16:14:02.636+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a7621e] was not registered for synchronization because synchronization is not active
2025-12-24T16:14:02.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:14:02.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:14:02.651+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@582762715 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:14:02.654+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:14:02.655+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:14:02.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1148889722 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:14:02.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1539652228 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:14:02.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:14:02.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:14:02.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:14:02.665+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:14:02.667+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@28dd4050]
2025-12-24T16:14:02.666+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:14:02.666+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1dc46056]
2025-12-24T16:14:02.667+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:14:02.667+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:14:02.670+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:14:02.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:14:02.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:14:02.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:14:02.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:14:02.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:14:02.674+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:14:02.675+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@74a7621e]
2025-12-24T16:14:02.675+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:14:02.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:14:02.682+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a8da7c7]
2025-12-24T16:14:02.683+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:14:02.685+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:14:02.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:14:02.689+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:14:02.690+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:14:02.693+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:27.321+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:16:27.322+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:16:27.322+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:16:27.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:16:27.339+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:16:27.339+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:16:27.347+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:16:27.349+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:16:27.350+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:16:27.365+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:16:27.366+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:16:27.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:16:27.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:16:27.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:16:27.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:16:27.378+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:16:27.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:16:27.381+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:16:27.405+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:16:27.408+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:16:27.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:27.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:16:27.413+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:16:27.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:16:27.408+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:27.412+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:27.413+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:27.414+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:16:27.417+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fa9e89c] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:27.418+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:27.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8890e71] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:27.419+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:27.420+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:27.432+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:27.435+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@386552776 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:16:27.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:16:27.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f441ad] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:27.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@331a8a2b] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:27.438+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:16:27.443+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2115269749 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:16:27.450+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:16:27.469+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:16:27.475+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1954073200 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:16:27.489+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1554946214 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:16:27.489+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:16:27.499+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:16:27.499+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:16:27.499+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fa9e89c]
2025-12-24T16:16:27.505+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:16:27.519+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:16:27.520+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:27.524+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:16:27.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:16:27.540+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:27.545+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8890e71]
2025-12-24T16:16:27.568+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:27.568+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:16:27.568+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:16:27.583+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:16:27.584+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39f441ad]
2025-12-24T16:16:27.586+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@331a8a2b]
2025-12-24T16:16:27.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:27.591+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:27.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:27.603+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:16:27.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:16:27.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:27.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:29.384+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:16:29.385+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:16:29.385+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:16:29.387+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:16:29.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:16:29.401+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:16:29.401+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:16:29.410+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:16:29.411+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:16:29.402+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:16:29.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:16:29.416+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:16:29.411+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:16:29.412+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:16:29.416+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:16:29.417+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:16:29.418+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:16:29.419+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:16:29.419+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:16:29.419+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:16:29.419+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:16:29.420+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:16:29.420+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:16:29.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:16:29.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:29.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:16:29.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:29.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:29.424+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3b2772] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:29.424+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:16:29.425+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@337c2ce2] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:29.425+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6df04f30] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:29.428+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:29.430+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78740ae5] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:29.432+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@111932674 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:16:29.433+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1292786978 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:16:29.433+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1109965396 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:16:29.433+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:16:29.434+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:16:29.434+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:16:29.435+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1805667885 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:16:29.435+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:16:29.435+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:16:29.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:16:29.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:16:29.437+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:16:29.439+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:16:29.439+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:16:29.440+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6df04f30]
2025-12-24T16:16:29.439+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:16:29.439+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:16:29.441+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@337c2ce2]
2025-12-24T16:16:29.440+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78740ae5]
2025-12-24T16:16:29.440+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:29.441+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b3b2772]
2025-12-24T16:16:29.444+09:00  INFO 25100 --- [http-nio-8080-exec-4] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:16:29.444+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:16:29.447+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:29.445+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:16:29.448+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:16:29.448+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:29.445+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:29.447+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:29.448+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:29.449+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:16:29.449+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:16:29.450+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:29.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:31.889+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:16:31.890+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:16:31.891+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:16:31.891+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:16:31.899+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:16:31.899+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:16:31.900+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:16:31.902+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:16:31.901+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:16:31.902+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:16:31.903+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:16:31.903+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:16:31.906+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:16:31.907+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:16:31.908+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:16:31.910+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:16:31.912+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:16:31.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:16:31.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:16:31.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:16:31.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:16:31.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:16:31.915+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:16:31.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:31.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:31.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:16:31.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:31.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32696796] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:31.918+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:31.918+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:31.920+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:16:31.920+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:31.920+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432834e9] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:31.921+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:16:31.921+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b26033c] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:31.922+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1353416563 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:16:31.922+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd264a2] was not registered for synchronization because synchronization is not active
2025-12-24T16:16:31.923+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:16:31.929+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1245547116 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:16:31.929+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@277298569 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:16:31.930+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:16:31.930+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:16:31.931+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:16:31.932+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717028973 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:16:31.932+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:16:31.932+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:16:31.933+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:16:31.933+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:16:31.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:16:31.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@32696796]
2025-12-24T16:16:31.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:31.936+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:16:31.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:31.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:16:31.938+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@dd264a2]
2025-12-24T16:16:31.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:16:31.937+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:16:31.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:31.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b26033c]
2025-12-24T16:16:31.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@432834e9]
2025-12-24T16:16:31.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:16:31.941+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:31.944+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:16:31.942+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:16:31.944+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:31.947+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:16:31.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:16:31.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:20.788+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:17:20.788+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:17:20.800+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:17:20.801+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:17:20.804+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:17:20.815+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:17:20.817+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:17:20.816+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:17:20.817+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:17:20.818+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:17:20.818+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:17:20.818+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:17:20.820+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:20.821+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:20.822+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50738456] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:20.822+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:20.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:20.832+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6b29f] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:20.832+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1034196984 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:17:20.834+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:17:20.835+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:17:20.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1868883823 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:17:20.838+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:17:20.839+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:17:20.840+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:17:20.844+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50738456]
2025-12-24T16:17:20.844+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:20.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:20.848+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:20.848+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:17:20.852+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a6b29f]
2025-12-24T16:17:20.853+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:20.854+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:17:20.855+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:26.849+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:17:26.849+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:17:26.872+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:17:26.877+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:17:26.989+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:17:27.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:17:27.208+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:17:27.278+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:17:27.303+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:17:27.304+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:17:27.304+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:17:27.304+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:17:27.305+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:27.305+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:27.306+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1598a2] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:27.306+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:27.313+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:27.355+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1490687453 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:17:27.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:17:27.356+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8c6f65] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:27.401+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:17:27.496+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:17:27.496+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@259775381 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:17:27.573+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2e1598a2]
2025-12-24T16:17:27.577+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:17:27.579+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:27.583+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:17:27.584+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:27.586+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:27.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:17:27.780+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d8c6f65]
2025-12-24T16:17:27.854+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:27.920+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:17:28.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:29.509+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:17:29.513+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:17:29.514+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:17:29.514+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:17:29.836+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:17:29.867+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:17:29.886+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:17:29.889+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:17:29.916+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:17:29.929+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:17:30.004+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:17:30.067+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:17:30.149+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:17:30.168+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:17:30.183+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:17:30.183+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:17:30.184+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:17:30.185+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:17:30.185+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:17:30.187+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:17:30.188+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:17:30.197+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:17:30.198+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:17:30.215+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:30.201+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:17:30.215+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:17:30.201+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:30.202+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:17:30.215+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@480893d7] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:30.216+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:30.216+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e73550c] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:30.217+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:30.223+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50c0c87d] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:30.233+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1756b71a] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:30.245+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@775499218 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:17:30.253+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:17:30.254+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2071502772 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:17:30.255+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2092853437 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:17:30.267+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1192615493 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:17:30.283+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:17:30.284+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:17:30.285+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:17:30.286+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:17:30.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:17:30.298+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:17:30.298+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:17:30.305+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:17:30.305+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@480893d7]
2025-12-24T16:17:30.306+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:30.306+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:17:30.309+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:17:30.309+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:17:30.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:17:30.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e73550c]
2025-12-24T16:17:30.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1756b71a]
2025-12-24T16:17:30.313+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50c0c87d]
2025-12-24T16:17:30.314+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:17:30.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:30.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:30.315+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:17:30.317+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:30.319+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:30.320+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:30.321+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:17:30.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:30.330+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:17:30.331+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:30.334+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:33.786+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:17:33.786+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:17:33.786+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:17:33.787+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:17:33.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:17:33.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:17:33.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:17:33.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:17:33.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:17:33.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:17:33.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:17:33.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:17:33.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:17:33.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:17:33.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:17:33.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:17:33.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:17:33.803+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:17:33.799+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:17:33.799+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:17:33.800+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:33.851+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:17:33.897+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:17:33.904+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:33.904+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:33.905+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:33.906+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bcf9d4] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:33.904+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:33.905+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:17:33.905+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335165fd] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:33.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:33.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:17:33.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1291923318 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:17:33.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:33.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d26c321] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:33.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:33.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:17:33.915+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@834138083 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:17:33.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:17:33.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2066109382 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:17:33.916+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761fa102] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:33.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:17:33.918+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:17:33.938+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:17:33.939+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:17:33.943+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:17:33.952+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bcf9d4]
2025-12-24T16:17:33.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:33.953+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:17:33.955+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1075919178 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:17:33.957+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:17:33.955+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:33.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:17:33.956+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:17:33.961+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:17:33.968+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@335165fd]
2025-12-24T16:17:33.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d26c321]
2025-12-24T16:17:33.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:33.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:33.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:33.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:17:33.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:33.979+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:33.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:17:34.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761fa102]
2025-12-24T16:17:34.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:34.013+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:34.016+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:39.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:17:39.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:17:39.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:17:39.637+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:17:39.646+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:17:39.647+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:17:39.648+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:17:39.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:17:39.663+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:17:39.651+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:17:39.654+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:17:39.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:17:39.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:17:39.666+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:17:39.667+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:17:39.669+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:17:39.669+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:17:39.670+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:17:39.670+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:17:39.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:17:39.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:39.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1755c134] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:39.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:17:39.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:17:39.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:17:39.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:17:39.680+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:39.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:39.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:39.682+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:39.682+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d491920] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:39.683+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:17:39.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:39.687+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:39.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7a6de0] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:39.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567aa940] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:39.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2131698633 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:17:39.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:17:39.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1665381225 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:17:39.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1906629656 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:17:39.694+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1101584715 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:17:39.695+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:17:39.696+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:17:39.696+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:17:39.697+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:17:39.698+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:17:39.698+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:17:39.699+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:17:39.700+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:17:39.702+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1755c134]
2025-12-24T16:17:39.702+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:17:39.702+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:17:39.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d491920]
2025-12-24T16:17:39.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:39.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:39.703+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@b7a6de0]
2025-12-24T16:17:39.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:17:39.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:39.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:39.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:39.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@567aa940]
2025-12-24T16:17:39.705+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:39.706+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:17:39.710+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:39.710+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:39.711+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:39.715+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:17:39.717+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:41.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:17:41.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:17:41.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:17:41.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:17:41.245+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:17:41.247+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:17:41.249+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:17:41.251+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:17:41.251+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:17:41.251+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:17:41.252+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:17:41.249+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:17:41.251+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:17:41.252+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:17:41.253+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:17:41.254+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:17:41.253+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:17:41.253+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:17:41.255+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:41.254+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:17:41.254+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:17:41.256+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:17:41.256+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:41.261+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3229a80f] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:41.255+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dc886b] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:41.256+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:41.263+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45aed7a7] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:41.268+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:17:41.272+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@9129650 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:17:41.273+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@332199309 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:17:41.273+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:17:41.273+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1112084625 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:17:41.278+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:17:41.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:17:41.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:17:41.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:17:41.280+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:17:41.281+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:17:41.281+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:17:41.282+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:17:41.283+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:17:41.285+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:17:41.285+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:17:41.286+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:17:41.287+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@45aed7a7]
2025-12-24T16:17:41.286+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@62dc886b]
2025-12-24T16:17:41.286+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6023322d] was not registered for synchronization because synchronization is not active
2025-12-24T16:17:41.287+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:41.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:17:41.288+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:17:41.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:17:41.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3229a80f]
2025-12-24T16:17:41.292+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:41.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:41.295+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:17:41.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:17:41.299+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:41.300+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1403440222 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:17:41.300+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:41.301+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:17:41.301+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:17:41.303+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:17:41.305+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:17:41.310+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:17:41.311+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6023322d]
2025-12-24T16:17:41.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:17:41.313+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:17:41.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:18:01.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:18:01.231+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:18:01.232+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:18:01.233+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:18:01.486+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:18:01.497+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:18:01.499+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:18:01.499+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:18:01.613+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:18:01.617+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:18:01.738+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:18:01.739+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:18:01.691+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:18:01.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:18:01.731+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:18:01.737+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:18:01.743+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:18:01.744+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:18:01.748+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:18:01.745+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:18:01.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:18:01.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:18:01.747+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:18:01.749+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:18:01.750+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:18:01.752+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:18:01.754+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:18:01.756+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:18:01.758+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:18:01.759+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:18:01.763+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220b5e2d] was not registered for synchronization because synchronization is not active
2025-12-24T16:18:01.767+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:18:01.768+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:18:01.768+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10cf2efd] was not registered for synchronization because synchronization is not active
2025-12-24T16:18:01.769+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0ade0b] was not registered for synchronization because synchronization is not active
2025-12-24T16:18:01.770+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@308cd4c] was not registered for synchronization because synchronization is not active
2025-12-24T16:18:01.777+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1108620796 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:18:01.781+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:18:01.783+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@431904294 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:18:01.783+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@766903429 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:18:01.788+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:18:01.788+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:18:01.789+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:18:01.795+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:18:01.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1875561018 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:18:01.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:18:01.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:18:01.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:18:01.800+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:18:01.801+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@220b5e2d]
2025-12-24T16:18:01.805+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:18:01.806+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:18:01.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:18:01.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:18:01.815+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f0ade0b]
2025-12-24T16:18:01.817+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:18:01.819+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:18:01.819+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : <==      Total: 0
2025-12-24T16:18:01.820+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@308cd4c]
2025-12-24T16:18:01.820+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:18:01.820+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10cf2efd]
2025-12-24T16:18:01.821+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:18:01.822+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:18:01.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:18:01.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:18:01.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:18:01.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:18:01.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:21.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:21.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:21.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:21:21.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:21.829+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:21.847+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:21.848+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:21.860+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:21.860+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:21.865+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:21.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:21.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:21:21.874+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:21.874+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:21.878+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:21.881+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:21.884+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-24T16:21:21.886+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:21.888+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:21.891+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:21.895+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:21.895+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:21:21.895+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:21.910+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:21.917+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:21.918+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:21.926+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:21:21.929+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:21.930+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:21.931+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:21.931+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:21.936+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:21:21.940+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317e14ea] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:21.942+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:21.942+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:21.943+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:21.943+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:21.946+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:21.946+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:21.947+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa61237] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:21.948+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e143dbb] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:21.948+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6188270c] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:21.950+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:21.959+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1448842649 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:21.967+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c51f83e] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:21.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@905885420 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:21:21.972+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1910125993 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:21:21.983+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:21.989+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@438547720 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:21:21.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:21.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:21:22.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:22.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T16:21:22.010+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:22.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:22.012+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:22.028+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@629476627 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:22.033+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:22.033+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T16:21:22.037+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:22.040+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:22.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6188270c]
2025-12-24T16:21:22.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4e143dbb]
2025-12-24T16:21:22.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7aa61237]
2025-12-24T16:21:22.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:22.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:22.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-24T16:21:22.080+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:22.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@317e14ea]
2025-12-24T16:21:22.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:22.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:22.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:22.104+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:22.108+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.115+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:22.138+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c51f83e]
2025-12-24T16:21:22.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:22.157+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.160+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:22.161+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:22.163+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:22.180+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:22.180+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:22.217+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:22.219+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:22.223+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:22.224+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:22.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:22.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:22.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:22.226+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:22.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:22.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:22.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:22.229+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:22.229+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:22.233+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:22.234+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb22c1c] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:22.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2047507496 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:22.234+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6243dc93] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:22.240+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:22.241+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@623954854 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:22.242+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:22.242+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:22.243+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:22.257+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:22.260+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:22.267+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6243dc93]
2025-12-24T16:21:22.268+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5eb22c1c]
2025-12-24T16:21:22.273+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.275+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:22.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:22.277+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:22.278+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:22.280+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:24.234+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:21:24.235+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:21:24.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:21:24.238+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:21:24.294+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:21:24.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:21:24.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:21:24.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:21:24.366+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:21:24.366+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:21:24.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:21:24.366+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:21:24.366+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:21:24.367+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:21:24.367+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:21:24.367+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:21:24.369+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:21:24.367+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:21:24.370+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:21:24.368+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:21:24.369+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:21:24.371+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:21:24.369+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:21:24.370+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:21:24.371+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:24.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:24.373+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:21:24.374+09:00  INFO 25100 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:21:24.406+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:24.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6076099a] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:24.406+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167bd482] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:24.406+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:24.411+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c87a2d3] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:24.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b44837] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:24.416+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1536625459 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:24.416+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1799619487 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:24.417+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:21:24.417+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@738494488 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:21:24.417+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:21:24.420+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:21:24.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:21:24.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1817131089 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:21:24.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:21:24.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:21:24.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:21:24.429+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:21:24.448+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:21:24.450+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6076099a]
2025-12-24T16:21:24.459+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:24.476+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:21:24.477+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:21:24.479+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:21:24.480+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c87a2d3]
2025-12-24T16:21:24.493+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@167bd482]
2025-12-24T16:21:24.494+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:21:24.497+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:24.497+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:21:24.497+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:24.498+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6b44837]
2025-12-24T16:21:24.503+09:00  INFO 25100 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:21:24.500+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:24.505+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:24.500+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:21:24.505+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:21:24.505+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:21:24.507+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:24.508+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:24.510+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:27.024+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:27.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:27.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:27.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:27.033+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:27.033+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:27.034+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:27.035+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:27.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:27.040+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:27.041+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:27.041+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:27.041+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:27.038+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:27.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:27.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:27.046+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:27.047+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:27.048+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76b51d3c] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:27.038+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:27.051+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:27.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:27.040+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:27.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d5ee7e] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:27.055+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:27.056+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:27.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@495394607 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:21:27.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:27.058+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:27.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:27.061+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:27.062+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:27.062+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:27.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@692921348 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:27.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:27.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:27.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:27.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be73e43] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:27.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:27.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76b51d3c]
2025-12-24T16:21:27.067+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:27.067+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:27.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:27.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:27.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:27.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54df8481] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:27.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2122426243 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:21:27.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:27.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:27.082+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:27.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30d5ee7e]
2025-12-24T16:21:27.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1520687569 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:27.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:27.085+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:27.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:27.089+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:27.092+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:27.093+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:27.093+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:27.095+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1be73e43]
2025-12-24T16:21:27.096+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:27.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:27.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54df8481]
2025-12-24T16:21:27.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:27.099+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:27.099+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:27.099+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:27.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:31.462+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:21:31.462+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:21:31.463+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:21:31.463+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:21:31.471+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:21:31.472+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:21:31.472+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:21:31.473+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:21:31.473+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:21:31.473+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:21:31.478+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:21:31.475+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:21:31.479+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:21:31.479+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:21:31.476+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:21:31.477+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:21:31.479+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:21:31.480+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:21:31.481+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:21:31.482+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:21:31.483+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:21:31.484+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:21:31.483+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:21:31.483+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:31.484+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:21:31.485+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:31.487+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:21:31.490+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:31.488+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38e5f447] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:31.489+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:21:31.490+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7869fa1c] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:31.491+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24609e60] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:31.491+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:31.494+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2edae88a] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:31.496+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@418665852 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:21:31.497+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1580868704 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:31.498+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:21:31.498+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:21:31.499+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1336972979 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:21:31.500+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:21:31.500+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:21:31.500+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:21:31.501+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2028390320 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:31.504+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:21:31.504+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:21:31.509+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:21:31.510+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:21:31.510+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:21:31.511+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@38e5f447]
2025-12-24T16:21:31.512+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7869fa1c]
2025-12-24T16:21:31.512+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:21:31.513+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:21:31.513+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:31.514+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:21:31.514+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24609e60]
2025-12-24T16:21:31.514+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:31.514+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:21:31.515+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2edae88a]
2025-12-24T16:21:31.515+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:21:31.515+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:21:31.516+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:31.516+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:31.516+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:31.517+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:31.517+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:21:31.518+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:21:31.521+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:31.522+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:33.764+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:33.765+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:33.765+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:33.765+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:33.772+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:33.773+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:33.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:33.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:33.779+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:33.782+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:33.782+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:33.782+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:33.783+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:33.783+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:33.783+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:33.789+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2050283] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:33.784+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:33.784+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:33.788+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:33.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:33.796+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:33.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:33.806+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:33.799+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:33.800+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1607396193 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:21:33.804+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:33.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b8c24c9] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:33.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:33.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:33.807+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:33.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:33.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:33.810+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:33.811+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:33.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@146307158 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:33.813+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:33.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f21697f] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:33.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:33.815+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:33.816+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:33.817+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:33.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1537309516 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:21:33.823+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:33.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2050283]
2025-12-24T16:21:33.824+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:33.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40db0b80] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:33.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:33.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:33.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:33.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:33.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b8c24c9]
2025-12-24T16:21:33.829+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2137592302 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:33.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:33.831+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:33.833+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:33.834+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:33.834+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:33.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:33.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f21697f]
2025-12-24T16:21:33.838+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:33.841+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:33.844+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:33.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:33.847+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40db0b80]
2025-12-24T16:21:33.847+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:33.848+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:33.849+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:33.850+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:34.776+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:34.776+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:34.777+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:34.778+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:34.790+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:34.793+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:34.797+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:34.798+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:34.799+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:34.808+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:34.809+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f343bde] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:34.800+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:34.801+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:34.812+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:34.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:34.814+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:34.825+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:34.816+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:34.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:34.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:34.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:34.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:34.829+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1056764079 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:34.833+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:34.833+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:34.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:34.835+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2929ca78] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:34.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:34.842+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:34.832+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:34.844+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:34.844+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:34.843+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:34.845+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:34.846+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580bfae9] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:34.848+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:34.850+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:34.859+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1321446497 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:21:34.860+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1042901845 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:21:34.860+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:34.865+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3f343bde]
2025-12-24T16:21:34.861+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:34.863+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:34.865+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:34.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:34.872+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:34.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7305daab] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:34.867+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:34.870+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:34.875+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:34.881+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1580352487 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:34.883+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:34.888+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:34.889+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:34.890+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:34.891+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2929ca78]
2025-12-24T16:21:34.891+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@580bfae9]
2025-12-24T16:21:34.892+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:34.892+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:34.894+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:34.896+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:34.898+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:34.899+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:34.910+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:34.912+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7305daab]
2025-12-24T16:21:34.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:34.914+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=null)]
2025-12-24T16:21:34.916+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:40.816+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions
2025-12-24T16:21:40.822+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/subscriptions
2025-12-24T16:21:40.826+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions
2025-12-24T16:21:40.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/subscriptions
2025-12-24T16:21:40.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/subscriptions", parameters={}
2025-12-24T16:21:40.828+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#createSubscription(SubscriptionCreateRequest)
2025-12-24T16:21:40.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [SubscriptionCreateRequest(planId=1, autoRenew=true)]
2025-12-24T16:21:40.908+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.createSubscription(com.innersignature.backend.dto.SubscriptionCreateRequest); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:40.909+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.createSubscription(com.innersignature.backend.dto.SubscriptionCreateRequest); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:40.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:40.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:40.913+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1136794925 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will be managed by Spring
2025-12-24T16:21:40.915+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE plan_id = ? LIMIT 1
2025-12-24T16:21:40.915+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : ==> Parameters: 1(Long)
2025-12-24T16:21:40.921+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionPlanMapper.findById  : <==      Total: 1
2025-12-24T16:21:40.921+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:40.922+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525] from current transaction
2025-12-24T16:21:40.922+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:40.923+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:40.925+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 0
2025-12-24T16:21:40.925+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:40.926+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525] from current transaction
2025-12-24T16:21:40.926+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.insert   : ==>  Preparing: INSERT INTO subscription_tb (company_id, plan_id, status, start_date, end_date, auto_renew, created_at, updated_at) VALUES (?, ?, ?, ?, ?, COALESCE(?, 1), ?, ?)
2025-12-24T16:21:40.928+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.insert   : ==> Parameters: 1(Long), 1(Long), ACTIVE(String), 2025-12-24(LocalDate), 2026-01-24(LocalDate), true(Boolean), 2025-12-24T16:21:40.926277200(LocalDateTime), 2025-12-24T16:21:40.926277200(LocalDateTime)
2025-12-24T16:21:40.973+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.SubscriptionMapper.insert   : <==    Updates: 1
2025-12-24T16:21:40.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:40.977+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525] from current transaction
2025-12-24T16:21:40.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.C.updateSubscriptionId           : ==>  Preparing: UPDATE company_tb SET subscription_id = ? WHERE company_id = ?
2025-12-24T16:21:40.978+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.C.updateSubscriptionId           : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:21:40.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.C.updateSubscriptionId           : <==    Updates: 1
2025-12-24T16:21:40.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:40.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525] from current transaction
2025-12-24T16:21:40.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findById      : ==>  Preparing: SELECT * FROM company_tb WHERE company_id = ? LIMIT 1
2025-12-24T16:21:40.993+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findById      : ==> Parameters: 1(Long)
2025-12-24T16:21:40.995+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.findById      : <==      Total: 1
2025-12-24T16:21:40.995+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:40.996+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.service.SubscriptionService  : 구독 생성 완료 - subscriptionId: 1, companyId: 1, planId: 1
2025-12-24T16:21:40.997+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525] from current transaction
2025-12-24T16:21:40.997+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.subscription_id = ? LIMIT 1
2025-12-24T16:21:40.997+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : ==> Parameters: 1(Long)
2025-12-24T16:21:41.000+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.SubscriptionMapper.findById      : <==      Total: 1
2025-12-24T16:21:41.000+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:41.008+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:41.008+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:41.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@67f3f525]
2025-12-24T16:21:41.014+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.b.controller.SubscriptionController  : 구독 생성 완료 - subscriptionId: 1, companyId: 1, planId: 1
2025-12-24T16:21:41.014+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:41.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=구독이 생성되었습니다., data=SubscriptionDto(subscriptionId=1, companyId=1,  (truncated)...]
2025-12-24T16:21:41.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:42.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:42.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:42.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:21:42.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:21:42.048+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:42.049+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:42.049+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:21:42.049+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:21:42.050+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:42.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:42.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:21:42.055+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:21:42.056+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:42.058+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:42.058+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:42.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:42.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:21:42.060+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:21:42.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:21:42.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:42.062+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@101f0845] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:42.060+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:42.061+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:21:42.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:42.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9c5d3b] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:42.062+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:21:42.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:42.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:21:42.074+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:42.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:42.081+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:42.082+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@699068457 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:21:42.082+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:42.081+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:21:42.082+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:42.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1318985210 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:42.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:42.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:42.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a80290a] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:42.084+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:21:42.092+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:21:42.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6262c43c] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:42.093+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@33606377 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:21:42.093+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:42.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:42.095+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a9c5d3b]
2025-12-24T16:21:42.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@605304080 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:42.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:42.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:42.097+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:21:42.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:21:42.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:42.099+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@101f0845]
2025-12-24T16:21:42.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:21:42.100+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-24T16:21:42.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:42.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:42.107+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a80290a]
2025-12-24T16:21:42.110+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:21:42.111+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:42.113+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:42.113+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-24T16:21:42.118+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-24T16:21:42.119+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:42.124+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6262c43c]
2025-12-24T16:21:42.125+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:42.128+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-24T16:21:42.132+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:47.527+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:21:47.528+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:21:47.528+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:21:47.528+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:21:47.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:21:47.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:21:47.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:21:47.537+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:21:47.535+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:21:47.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:21:47.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:21:47.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:21:47.537+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:21:47.537+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:21:47.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:21:47.540+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:21:47.540+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:21:47.540+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:21:47.541+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:21:47.542+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:21:47.541+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:47.541+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:21:47.544+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:21:47.541+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:21:47.542+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:21:47.543+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e295b7] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:47.545+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:47.547+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02e3e0] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:47.545+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:21:47.546+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:21:47.548+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:47.549+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:21:47.549+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@897380174 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:21:47.550+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:21:47.549+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@594723224 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:21:47.555+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:21:47.550+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40dab19] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:47.550+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1edd48c9] was not registered for synchronization because synchronization is not active
2025-12-24T16:21:47.555+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:21:47.559+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:21:47.559+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2030824169 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:21:47.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1413252778 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:21:47.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:21:47.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:21:47.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:21:47.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75e295b7]
2025-12-24T16:21:47.564+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:21:47.564+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:21:47.565+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:47.565+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:21:47.567+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:21:47.567+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:47.567+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:21:47.567+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:21:47.568+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a02e3e0]
2025-12-24T16:21:47.571+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1edd48c9]
2025-12-24T16:21:47.571+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40dab19]
2025-12-24T16:21:47.572+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:47.572+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:21:47.573+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:21:47.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:21:47.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:47.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:47.576+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:21:47.576+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:47.577+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:21:47.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:47.580+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:21:50.433+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T16:21:50.438+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T16:21:50.441+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2025-12-24T16:21:50.441+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T16:21:50.442+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T16:21:50.442+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T16:21:50.446+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T16:21:50.450+09:00  INFO 25100 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=1
2025-12-24T16:21:50.453+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:21:50.455+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T16:21:50.457+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:00.558+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/check-username?username=test_user6
2025-12-24T16:22:00.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:22:00.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/check-username?username=test_user6
2025-12-24T16:22:00.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/check-username?username=test_user6", parameters={masked}
2025-12-24T16:22:00.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#checkUsername(String)
2025-12-24T16:22:00.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:00.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50c28649] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:00.565+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@169272632 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:00.565+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:22:00.566+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user6(String)
2025-12-24T16:22:00.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:22:00.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50c28649]
2025-12-24T16:22:00.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:00.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용 가능한 username입니다., data={available=true, exists=false})]
2025-12-24T16:22:00.580+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:08.285+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/search?name=test
2025-12-24T16:22:08.286+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:22:08.287+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/search?name=test
2025-12-24T16:22:08.287+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/search?name=test", parameters={masked}
2025-12-24T16:22:08.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#searchCompanies(String)
2025-12-24T16:22:08.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:08.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467fa0b6] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:08.292+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1515950354 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:08.292+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==>  Preparing: SELECT c.company_id AS companyId, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, MAX(u.korean_name) AS adminName, CASE WHEN c.company_name = ? THEN 1 WHEN c.company_name LIKE CONCAT(?, '%') THEN 2 WHEN c.company_name LIKE CONCAT('%', ?, '%') THEN 3 ELSE 4 END AS matchPriority FROM company_tb c LEFT JOIN user_tb u ON c.created_by = u.user_id AND u.role = 'ADMIN' WHERE ( c.company_name LIKE CONCAT('%', ?, '%') OR REPLACE(c.business_reg_no, '-', '') LIKE CONCAT('%', REPLACE(?, '-', ''), '%') ) AND c.is_active = 1 GROUP BY c.company_id, c.company_name, c.business_reg_no, c.representative_name ORDER BY matchPriority ASC, c.company_name ASC LIMIT 20
2025-12-24T16:22:08.293+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : ==> Parameters: test(String), test(String), test(String), test(String), test(String)
2025-12-24T16:22:08.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.CompanyMapper.searchByName  : <==      Total: 1
2025-12-24T16:22:08.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@467fa0b6]
2025-12-24T16:22:08.298+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:08.299+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=검색 완료, data=[CompanySearchResultDto(companyId=1, companyName=test_ (truncated)...]
2025-12-24T16:22:08.303+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:10.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/register
2025-12-24T16:22:10.678+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/register
2025-12-24T16:22:10.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:22:10.689+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/register
2025-12-24T16:22:10.689+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/register", parameters={}
2025-12-24T16:22:10.695+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#register(RegisterRequest)
2025-12-24T16:22:10.704+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RegisterRequest(username=test_user6, password=1234, koreanName=test_user6, email=, po (truncated)...]
2025-12-24T16:22:10.714+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회원가입 시도 - username: test_user6, koreanName: test_user6, role: USER
2025-12-24T16:22:10.715+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:10.716+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a14f69] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:10.726+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1701846492 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:10.728+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==>  Preparing: SELECT COUNT(*) > 0 FROM user_tb WHERE username = ?
2025-12-24T16:22:10.729+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : ==> Parameters: test_user6(String)
2025-12-24T16:22:10.732+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.isUsernameExists      : <==      Total: 1
2025-12-24T16:22:10.732+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a14f69]
2025-12-24T16:22:10.832+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:10.833+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f13ac10] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:10.834+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1767459561 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:10.834+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : ==>  Preparing: INSERT INTO user_tb (username, password, korean_name, email, position, role, company_id, is_active, approval_status) VALUES (?, ?, ?, ?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 'APPROVED'))
2025-12-24T16:22:10.836+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : ==> Parameters: test_user6(String), $2a$10$V2rpUW8sXUPez6IJKLRlx.BiwAi5chEXuVmkDd0XCVlRULUyVUfLe(String), test_user6(String), null, 사원(String), USER(String), 1(Long), false(Boolean), PENDING(String)
2025-12-24T16:22:10.850+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.backend.mapper.UserMapper.register   : <==    Updates: 1
2025-12-24T16:22:10.850+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f13ac10]
2025-12-24T16:22:10.851+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:10.851+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b3d09e] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:10.852+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@899847508 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:10.852+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:22:10.854+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user6(String)
2025-12-24T16:22:10.858+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:22:10.858+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57b3d09e]
2025-12-24T16:22:10.861+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:10.861+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.861+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@6205289 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will be managed by Spring
2025-12-24T16:22:10.861+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:10.862+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 7(Long)
2025-12-24T16:22:10.864+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:10.864+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.865+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99] from current transaction
2025-12-24T16:22:10.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:10.866+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 7(Long)
2025-12-24T16:22:10.870+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:22:10.871+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.872+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99] from current transaction
2025-12-24T16:22:10.873+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.applyToCompany   : ==>  Preparing: INSERT INTO user_company_tb (user_id, company_id, role, position, is_active, is_primary, approval_status, created_at, updated_at) VALUES (?, ?, ?, ?, COALESCE(?, 1), COALESCE(?, 0), 'PENDING', NOW(), NOW())
2025-12-24T16:22:10.874+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.applyToCompany   : ==> Parameters: 7(Long), 1(Long), USER(String), 사원(String), true(Boolean), false(Boolean)
2025-12-24T16:22:10.877+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.applyToCompany   : <==    Updates: 1
2025-12-24T16:22:10.877+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.878+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.880+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.880+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68898c99]
2025-12-24T16:22:10.922+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 회원가입 완료 - username: test_user6, role: USER
2025-12-24T16:22:10.922+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:10.923+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회원가입 신청이 완료되었습니다. 관리자 승인 후 사용 가능합니다., data=null)]
2025-12-24T16:22:10.924+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:22:14.102+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:22:14.102+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:22:14.103+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:22:14.103+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:22:14.103+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:22:14.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T16:22:14.106+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T16:22:14.106+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.107+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9ca54a] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.109+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@358219624 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:14.109+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:22:14.110+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T16:22:14.115+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:22:14.115+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f9ca54a]
2025-12-24T16:22:14.226+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-24T16:22:14.226+09:00  INFO 25100 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T16:22:14.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T16:22:14.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.444+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:22:14.459+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:22:14.464+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-24T16:22:14.464+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:22:14.465+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:22:14.465+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:22:14.466+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.468+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a876df] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.482+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@683989328 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:14.486+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:22:14.488+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:14.490+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:22:14.490+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:22:14.492+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:22:14.493+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:22:14.495+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:14.497+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:22:14.503+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:22:14.505+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T16:22:14.509+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:22:14.509+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:22:14.506+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:14.506+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:22:14.508+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:22:14.509+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:22:14.510+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:22:14.513+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:22:14.511+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:22:14.512+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:22:14.526+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:22:14.527+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:22:14.512+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:22:14.513+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:22:14.523+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.525+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:14.528+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:22:14.528+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:22:14.529+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:22:14.529+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eef098d] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.529+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:22:14.530+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414b49ee] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:22:14.533+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:22:14.534+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T16:22:14.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:22:14.544+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:22:14.546+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:22:14.547+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a876df]
2025-12-24T16:22:14.549+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.549+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2025710228 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:14.554+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2052181522 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:14.555+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.555+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:14.556+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.556+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e2dc7] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.557+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:14.558+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:14.558+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d71bd1] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.558+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:14.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1693023063 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:14.559+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-24T16:22:14.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:14.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1344181657 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:14.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:14.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:14.563+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.565+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:22:14.566+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:14.567+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a0e09f] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.569+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:14.571+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:14.572+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:22:14.572+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7eef098d]
2025-12-24T16:22:14.594+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.577+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:22:14.579+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:14.594+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25f7a4f2] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:14.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@414b49ee]
2025-12-24T16:22:14.597+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@999324879 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:14.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:14.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@934846910 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:14.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:22:14.599+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:22:14.599+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.599+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:14.603+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17d71bd1]
2025-12-24T16:22:14.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:22:14.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24e2dc7]
2025-12-24T16:22:14.613+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.614+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:22:14.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:22:14.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:22:14.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:14.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:22:14.615+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.617+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.618+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732c0db7] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:22:14.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29488058] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.626+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:14.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-24T16:22:14.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1552587152 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:14.629+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2140490517 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:14.630+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@25f7a4f2]
2025-12-24T16:22:14.630+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:22:14.630+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a0e09f]
2025-12-24T16:22:14.630+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:14.638+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:14.630+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:22:14.631+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:22:14.631+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:22:14.632+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:22:14.641+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.642+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:22:14.643+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=7, username=test_user6, password=null, (truncated)...]
2025-12-24T16:22:14.648+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:22:14.649+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.652+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:14.656+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:14.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:14.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:22:14.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:14.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3f49ee] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:14.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@29488058]
2025-12-24T16:22:14.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@732c0db7]
2025-12-24T16:22:14.662+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1435411276 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:14.662+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.663+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:22:14.663+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:22:14.665+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:22:14.667+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.671+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:22:14.672+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:14.679+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 1
2025-12-24T16:22:14.681+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d3f49ee]
2025-12-24T16:22:14.683+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:14.684+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserDto(userId=7, username=test_user6, password=null, (truncated)...]
2025-12-24T16:22:14.686+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:16.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/7/approval
2025-12-24T16:22:16.591+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/users/7/approval
2025-12-24T16:22:16.593+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/7/approval
2025-12-24T16:22:16.593+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/users/7/approval
2025-12-24T16:22:16.593+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/users/7/approval", parameters={}
2025-12-24T16:22:16.594+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#approveUser(Long, ApprovalRequest)
2025-12-24T16:22:16.595+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.ApprovalRequest(action=APPROVE)]
2025-12-24T16:22:16.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:16.597+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.approveUser(java.lang.Long,com.innersignature.backend.controller.UserController$ApprovalRequest); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:16.597+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 사용자 승인/거부 시도 - userId: 7, action: APPROVE, operatorId: 1
2025-12-24T16:22:16.605+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:16.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@135260506 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will be managed by Spring
2025-12-24T16:22:16.606+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:16.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 7(Long)
2025-12-24T16:22:16.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:16.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426] from current transaction
2025-12-24T16:22:16.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:16.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:22:16.614+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:16.614+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.615+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426] from current transaction
2025-12-24T16:22:16.615+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==>  Preparing: UPDATE user_tb SET korean_name = ?, email = ?, position = ?, role = ?, is_active = ?, company_id = ?, approval_status = ? WHERE user_id = ?
2025-12-24T16:22:16.615+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : ==> Parameters: test_user6(String), null, 사원(String), USER(String), true(Boolean), 1(Long), APPROVED(String), 7(Long)
2025-12-24T16:22:16.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.mapper.UserMapper.updateUser       : <==    Updates: 1
2025-12-24T16:22:16.622+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426] from current transaction
2025-12-24T16:22:16.623+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.approveUserCompany    : ==>  Preparing: UPDATE user_company_tb SET approval_status = 'APPROVED', is_active = 1, updated_at = NOW() WHERE user_id = ? AND company_id = ?
2025-12-24T16:22:16.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.approveUserCompany    : ==> Parameters: 7(Long), 1(Long)
2025-12-24T16:22:16.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.UserMapper.approveUserCompany    : <==    Updates: 1
2025-12-24T16:22:16.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.627+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.628+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a61b426]
2025-12-24T16:22:16.638+09:00  INFO 25100 --- [http-nio-8080-exec-9] c.i.backend.controller.UserController    : 사용자 승인 완료 - userId: 7
2025-12-24T16:22:16.639+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:16.640+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=사용자가 승인되었습니다., data=null)]
2025-12-24T16:22:16.641+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:16.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:22:16.648+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:22:16.650+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:22:16.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:22:16.653+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:22:16.654+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:22:16.655+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:16.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:16.657+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:16.658+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343bd51c] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:16.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1579006528 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:16.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:22:16.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:22:16.663+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:22:16.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@343bd51c]
2025-12-24T16:22:16.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:16.665+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:16.666+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:20.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:22:20.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:22:20.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:22:20.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:22:20.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:22:20.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:22:20.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:22:20.068+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:22:20.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:22:20.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:22:20.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:22:20.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:22:20.071+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.072+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.072+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7705013f] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2252e149] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@929086701 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:20.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@969820328 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:20.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:20.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:20.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:20.080+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:20.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:20.083+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:20.086+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2252e149]
2025-12-24T16:22:20.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7705013f]
2025-12-24T16:22:20.087+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:20.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:20.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:22:20.090+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:22:20.091+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:20.091+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:20.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:22:20.098+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:22:20.099+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies/1/applications
2025-12-24T16:22:20.099+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/company/1
2025-12-24T16:22:20.110+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:22:20.112+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/companies/1/applications
2025-12-24T16:22:20.112+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:22:20.125+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:22:20.115+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/company/1
2025-12-24T16:22:20.115+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies/1/applications
2025-12-24T16:22:20.130+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:22:20.126+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:22:20.127+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/companies/1/applications
2025-12-24T16:22:20.128+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/company/1
2025-12-24T16:22:20.131+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:22:20.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:22:20.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/companies/1/applications", parameters={}
2025-12-24T16:22:20.142+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/company/1
2025-12-24T16:22:20.142+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:22:20.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:22:20.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getCompanyApplications(Long)
2025-12-24T16:22:20.143+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/company/1", parameters={}
2025-12-24T16:22:20.144+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:22:20.145+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:22:20.146+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:22:20.146+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCompanyUsersById(Long)
2025-12-24T16:22:20.147+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:22:20.148+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:20.149+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.CompanyController.getCompanyApplications(java.lang.Long); target is of class [com.innersignature.backend.controller.CompanyController]
2025-12-24T16:22:20.150+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:20.151+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.156+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:20.156+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.156+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getCompanyUsersById(java.lang.Long); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:20.157+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748526e8] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.157+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.158+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@659077161 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:20.157+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d762856] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.158+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.160+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c5f9658] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.158+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72fe6883] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.159+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:20.163+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:20.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@56342886 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:20.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1020855116 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:20.167+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:20.165+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2118264384 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:20.166+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:20.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:20.170+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:20.172+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:20.173+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:20.177+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@748526e8]
2025-12-24T16:22:20.180+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:20.181+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:20.186+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1c5f9658]
2025-12-24T16:22:20.182+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.185+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:20.188+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.188+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b9d41a] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.189+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72fe6883]
2025-12-24T16:22:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d762856]
2025-12-24T16:22:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421c6ef] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@341182883 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:20.190+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a1c51d] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.191+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:20.191+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@998314151 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:20.191+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:22:20.191+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1625854306 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:20.191+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590aa08a] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:20.192+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:22:20.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:22:20.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'APPROVED' ORDER BY u.user_id
2025-12-24T16:22:20.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1717303044 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:20.194+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:22:20.195+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : ==> Parameters: 1(Long)
2025-12-24T16:22:20.195+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY uc.created_at DESC
2025-12-24T16:22:20.195+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T16:22:20.197+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : ==> Parameters: 1(Long)
2025-12-24T16:22:20.197+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@49b9d41a]
2025-12-24T16:22:20.197+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 7
2025-12-24T16:22:20.197+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.U.selectUsersByCompanyId         : <==      Total: 7
2025-12-24T16:22:20.205+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@61a1c51d]
2025-12-24T16:22:20.205+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 7
2025-12-24T16:22:20.205+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:20.201+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:20.204+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@421c6ef]
2025-12-24T16:22:20.205+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.U.findPendingCompanyApplications : <==      Total: 0
2025-12-24T16:22:20.209+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:22:20.211+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:20.212+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 회사별 사용자 목록 조회 완료 - companyId: 1, count: 7
2025-12-24T16:22:20.214+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@590aa08a]
2025-12-24T16:22:20.215+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:20.229+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:20.232+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:20.237+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:20.239+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=회사별 사용자 목록 조회 성공, data=[UserDto(userId=1, username=test_ceo, passw (truncated)...]
2025-12-24T16:22:20.240+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:20.241+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:20.244+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.317+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:22:24.318+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:24.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:22:24.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:22:24.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:22:24.324+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:24.327+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:22:24.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:24.329+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:22:24.329+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:22:24.333+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:22:24.330+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:22:24.330+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:22:24.331+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:22:24.331+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:24.336+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:22:24.336+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:22:24.340+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:22:24.338+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:22:24.338+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:22:24.340+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:24.340+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:22:24.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:22:24.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:22:24.343+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:22:24.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:22:24.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:22:24.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:22:24.345+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:22:24.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:22:24.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:22:24.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:22:24.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:22:24.345+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:22:24.346+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.355+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1845494d] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.346+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:22:24.347+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4816583b] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.348+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.349+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:22:24.349+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:22:24.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:24.358+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54037d28] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.360+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.363+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fff0bcd] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.361+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.362+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:24.363+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1908264374 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:24.363+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@996429330 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:24.365+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce1f90f] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.365+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.365+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:24.370+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1815893090 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:24.370+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:22:24.372+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c744195] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.372+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:24.372+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:22:24.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:22:24.373+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1385633241 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:24.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:22:24.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:24.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:24.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@915959184 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:22:24.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@162302652 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:24.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:24.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:22:24.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:22:24.382+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:24.383+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:22:24.383+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4816583b]
2025-12-24T16:22:24.386+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1845494d]
2025-12-24T16:22:24.387+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54037d28]
2025-12-24T16:22:24.388+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:24.388+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:24.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1fff0bcd]
2025-12-24T16:22:24.388+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:22:24.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.389+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.390+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.390+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7163ebcc] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.391+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:22:24.393+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:22:24.393+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:24.393+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:22:24.396+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ce1f90f]
2025-12-24T16:22:24.394+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:22:24.395+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1689750817 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:24.396+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.396+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.396+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c744195]
2025-12-24T16:22:24.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:24.399+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:22:24.399+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.405+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd90312] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.407+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:24.409+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:22:24.410+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:24.410+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1446470443 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:22:24.414+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:22:24.417+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:22:24.411+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:22:24.414+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.420+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:22:24.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:22:24.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:24.425+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:22:24.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:24.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50c95f1f] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:24.427+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1325786446 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:24.428+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:22:24.429+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:22:24.430+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:24.431+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7163ebcc]
2025-12-24T16:22:24.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.436+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:22:24.437+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.439+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:22:24.440+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cd90312]
2025-12-24T16:22:24.442+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.442+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:22:24.443+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:24.445+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:22:24.445+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@50c95f1f]
2025-12-24T16:22:24.446+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:24.447+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:24.447+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:25.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:22:25.028+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:22:25.029+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:22:25.029+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:22:25.033+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:22:25.033+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:22:25.037+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:22:25.037+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:22:25.035+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:22:25.038+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:22:25.035+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:22:25.038+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:22:25.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:22:25.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:22:25.038+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:22:25.038+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:22:25.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:22:25.040+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:22:25.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:22:25.040+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:22:25.040+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:22:25.041+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:25.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:22:25.042+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:25.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:22:25.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126a4918] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:25.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:22:25.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562326db] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:25.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:22:25.047+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:25.048+09:00  INFO 25100 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:22:25.048+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0d8c0] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:25.052+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:25.055+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1113705194 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:25.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@171850946 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:25.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcfc21c] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:25.058+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:25.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:25.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@871708905 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:25.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:22:25.060+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:25.061+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:25.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1407960237 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:25.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:25.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:22:25.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:25.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:25.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@562326db]
2025-12-24T16:22:25.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:22:25.066+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@126a4918]
2025-12-24T16:22:25.066+09:00  INFO 25100 --- [http-nio-8080-exec-10] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:22:25.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:25.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:25.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:22:25.069+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:22:25.070+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:25.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:25.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:25.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:22:25.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bcfc21c]
2025-12-24T16:22:25.077+09:00  INFO 25100 --- [http-nio-8080-exec-8] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:22:25.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5a0d8c0]
2025-12-24T16:22:25.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:25.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:25.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:22:25.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:25.080+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:25.081+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:27.266+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:22:27.266+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:22:27.267+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/current
2025-12-24T16:22:27.268+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/subscriptions/plans
2025-12-24T16:22:27.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:22:27.277+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:22:27.278+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/current
2025-12-24T16:22:27.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/subscriptions/plans
2025-12-24T16:22:27.281+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:22:27.286+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:22:27.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/current
2025-12-24T16:22:27.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/subscriptions/plans
2025-12-24T16:22:27.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:22:27.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:22:27.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/current
2025-12-24T16:22:27.291+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/subscriptions/plans
2025-12-24T16:22:27.293+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:22:27.293+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:22:27.294+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/current", parameters={}
2025-12-24T16:22:27.294+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/subscriptions/plans", parameters={}
2025-12-24T16:22:27.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:22:27.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:22:27.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getCurrentSubscription()
2025-12-24T16:22:27.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:22:27.296+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.SubscriptionController#getPlans()
2025-12-24T16:22:27.296+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:22:27.302+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:22:27.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:27.298+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.innersignature.backend.controller.SubscriptionController.getCurrentSubscription(); target is of class [com.innersignature.backend.controller.SubscriptionController]
2025-12-24T16:22:27.299+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:27.303+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:27.306+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ee3bca] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:27.306+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:27.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bc98c7f] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:27.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2384b7e4] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:27.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e13ed42] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:27.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@774848014 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:27.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@595605697 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:22:27.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1221007222 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:22:27.313+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:22:27.313+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1160951421 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:27.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:22:27.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findAllActive                  : ==>  Preparing: SELECT * FROM subscription_plan_tb WHERE is_active = 1 ORDER BY price ASC
2025-12-24T16:22:27.315+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:22:27.315+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==>  Preparing: SELECT s.*, p.plan_code, p.plan_name, p.price, p.max_users, p.features, p.is_active AS plan_is_active FROM subscription_tb s INNER JOIN subscription_plan_tb p ON s.plan_id = p.plan_id WHERE s.company_id = ? AND s.status = 'ACTIVE' ORDER BY s.created_at DESC LIMIT 1
2025-12-24T16:22:27.316+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:22:27.318+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findAllActive                  : ==> Parameters: 
2025-12-24T16:22:27.322+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : ==> Parameters: 1(Long)
2025-12-24T16:22:27.325+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-24T16:22:27.326+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5bc98c7f]
2025-12-24T16:22:27.327+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:27.327+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:22:27.327+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.S.findActiveByCompanyId          : <==      Total: 1
2025-12-24T16:22:27.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.S.findAllActive                  : <==      Total: 3
2025-12-24T16:22:27.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-24T16:22:27.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@14ee3bca]
2025-12-24T16:22:27.329+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@e13ed42]
2025-12-24T16:22:27.330+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2384b7e4]
2025-12-24T16:22:27.331+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:27.332+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:27.332+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:27.336+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:27.339+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:22:27.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=SubscriptionDto(subscriptionId=1, companyId=1, planId= (truncated)...]
2025-12-24T16:22:27.341+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[SubscriptionPlanDto(planId=1, planCode=FREE, planName (truncated)...]
2025-12-24T16:22:27.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:27.342+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:27.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:31.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:22:31.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:22:31.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:22:31.574+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:22:31.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:22:31.580+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:22:31.581+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:22:31.581+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:22:31.578+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:22:31.580+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:22:31.581+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:22:31.583+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:22:31.582+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:22:31.585+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:22:31.583+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:22:31.583+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/me
2025-12-24T16:22:31.585+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:22:31.586+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:31.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761f5775] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:31.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:22:31.588+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:22:31.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:22:31.587+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:22:31.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:22:31.589+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:22:31.590+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:31.590+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:22:31.590+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:31.590+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:22:31.590+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5f9bbb] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:31.591+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144ebe1f] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:31.591+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 1, companyId: 1
2025-12-24T16:22:31.592+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:22:31.592+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e523517] was not registered for synchronization because synchronization is not active
2025-12-24T16:22:31.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1140698791 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:22:31.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@535448069 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:22:31.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1165531955 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:22:31.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:31.596+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:31.597+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:22:31.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:22:31.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:22:31.598+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 1(Long)
2025-12-24T16:22:31.599+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@502415550 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:22:31.600+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:22:31.602+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 1(Long), PENDING(String)
2025-12-24T16:22:31.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:22:31.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:31.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:22:31.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:22:31.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@761f5775]
2025-12-24T16:22:31.607+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e523517]
2025-12-24T16:22:31.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:31.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b5f9bbb]
2025-12-24T16:22:31.608+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@144ebe1f]
2025-12-24T16:22:31.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:31.608+09:00  INFO 25100 --- [http-nio-8080-exec-3] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:22:31.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:22:31.609+09:00  INFO 25100 --- [http-nio-8080-exec-6] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 1, companyId: 1
2025-12-24T16:22:31.609+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:22:31.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:31.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:22:31.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:31.610+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:31.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:22:31.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=1, username=test_ceo, passwor (truncated)...]
2025-12-24T16:22:31.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:22:31.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:02.647+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T16:23:02.660+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T16:23:02.661+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/logout
2025-12-24T16:23:02.664+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T16:23:02.665+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T16:23:02.673+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T16:23:02.675+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T16:23:02.677+09:00  INFO 25100 --- [http-nio-8080-exec-10] SECURITY                                 : LOGOUT userId=1
2025-12-24T16:23:02.682+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:02.688+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T16:23:02.689+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:05.282+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:23:05.287+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:23:05.287+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:23:05.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:23:05.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:23:05.288+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:23:05.289+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_user6, password=1234)]
2025-12-24T16:23:05.290+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 시도 - username: test_user6
2025-12-24T16:23:05.290+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:05.291+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c4cae2] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:05.294+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1491245567 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:23:05.294+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:23:05.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_user6(String)
2025-12-24T16:23:05.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:23:05.298+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@11c4cae2]
2025-12-24T16:23:05.396+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 로그인 성공 - userId: 7, role: USER, companyId: 1
2025-12-24T16:23:05.396+09:00  INFO 25100 --- [http-nio-8080-exec-5] SECURITY                                 : LOGIN_SUCCESS userId=7 username=test_user6 role=USER
2025-12-24T16:23:05.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:05.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=7, username=test_user6, password (truncated)...]
2025-12-24T16:23:05.401+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:06.213+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:23:06.222+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:23:06.225+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/companies
2025-12-24T16:23:06.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:23:06.227+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:23:06.238+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:23:06.238+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.239+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce10171] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.257+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:23:06.260+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=7
2025-12-24T16:23:06.261+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:23:06.263+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=7
2025-12-24T16:23:06.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:23:06.276+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=7
2025-12-24T16:23:06.277+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:23:06.277+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1183133271 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:23:06.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T16:23:06.278+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=7
2025-12-24T16:23:06.278+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/expenses
2025-12-24T16:23:06.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:23:06.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:23:06.279+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:23:06.280+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:23:06.291+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=7
2025-12-24T16:23:06.280+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:23:06.292+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:23:06.293+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:23:06.281+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=7
2025-12-24T16:23:06.290+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 7(Long)
2025-12-24T16:23:06.291+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:23:06.297+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:23:06.292+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=7", parameters={masked}
2025-12-24T16:23:06.294+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:23:06.295+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=7", parameters={masked}
2025-12-24T16:23:06.298+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1374f286] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.307+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.309+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:23:06.309+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79895c46] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.312+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe410a3] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.313+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T16:23:06.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.314+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1678348533 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:23:06.324+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:06.317+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce10171]
2025-12-24T16:23:06.323+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b775230] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.324+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:06.325+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:06.326+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-24T16:23:06.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:06.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@572025479 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:23:06.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@181369373 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:23:06.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@821341204 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:23:06.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:06.343+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:23:06.343+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:23:06.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:06.344+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1374f286]
2025-12-24T16:23:06.346+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 7(Long), 1(Long)
2025-12-24T16:23:06.346+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 7(Long), 1(Long)
2025-12-24T16:23:06.347+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:06.359+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.364+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb89c91] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.369+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@365832251 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:23:06.370+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:06.374+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:06.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:06.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:23:06.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:23:06.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79895c46]
2025-12-24T16:23:06.376+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7fe410a3]
2025-12-24T16:23:06.376+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b775230]
2025-12-24T16:23:06.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:06.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:06.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:06.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:06.377+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a96d12] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:06.378+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:23:06.378+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bb89c91]
2025-12-24T16:23:06.379+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:23:06.379+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@558908069 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:23:06.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:06.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:06.381+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:06.382+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:06.386+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:23:06.390+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:06.391+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:06.396+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:06.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22a96d12]
2025-12-24T16:23:06.397+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:06.399+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:23:06.400+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:07.965+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:23:07.965+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:23:07.970+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies/pending
2025-12-24T16:23:07.971+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/me
2025-12-24T16:23:07.990+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:23:07.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:23:07.993+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/users/companies
2025-12-24T16:23:07.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies/pending
2025-12-24T16:23:07.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T16:23:07.994+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:23:07.997+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:23:07.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/users/companies/pending
2025-12-24T16:23:07.998+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies/pending
2025-12-24T16:23:07.996+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:23:07.998+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:23:08.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies/pending", parameters={}
2025-12-24T16:23:08.005+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:23:08.006+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:08.011+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102fc76a] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:08.007+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/me
2025-12-24T16:23:08.009+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingCompanies()
2025-12-24T16:23:08.010+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:23:08.014+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/users/me
2025-12-24T16:23:08.019+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:08.024+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c2b69c] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:08.021+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 7, companyId: 1
2025-12-24T16:23:08.025+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:08.025+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e49186] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:08.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/me
2025-12-24T16:23:08.023+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1313611001 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:23:08.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:23:08.030+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 7(Long)
2025-12-24T16:23:08.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/me", parameters={}
2025-12-24T16:23:08.037+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getCurrentUser()
2025-12-24T16:23:08.039+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1886584303 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:23:08.042+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 요청 - userId: 7, companyId: 1
2025-12-24T16:23:08.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:23:08.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@138841709 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:23:08.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = ? ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:23:08.047+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : ==> Parameters: 7(Long), PENDING(String)
2025-12-24T16:23:08.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:08.044+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@102fc76a]
2025-12-24T16:23:08.045+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:23:08.048+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7f16bc] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:08.055+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:08.056+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 7(Long)
2025-12-24T16:23:08.057+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=7, userId=7, companyId=1 (truncated)...]
2025-12-24T16:23:08.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:08.059+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.U.findUserCompaniesByStatus      : <==      Total: 0
2025-12-24T16:23:08.061+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1509609366 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:23:08.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@48c2b69c]
2025-12-24T16:23:08.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:23:08.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:08.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==>  Preparing: SELECT * FROM user_tb WHERE user_id = ?
2025-12-24T16:23:08.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@15e49186]
2025-12-24T16:23:08.065+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : ==> Parameters: 7(Long)
2025-12-24T16:23:08.064+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:23:08.065+09:00  INFO 25100 --- [http-nio-8080-exec-1] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 7, companyId: 1
2025-12-24T16:23:08.067+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:08.071+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:08.073+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=7, username=test_user6, passw (truncated)...]
2025-12-24T16:23:08.074+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.mapper.UserMapper.selectUserById   : <==      Total: 1
2025-12-24T16:23:08.075+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:08.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1f7f16bc]
2025-12-24T16:23:08.079+09:00  INFO 25100 --- [http-nio-8080-exec-5] c.i.backend.controller.UserController    : 현재 사용자 정보 조회 완료 - userId: 7, companyId: 1
2025-12-24T16:23:08.079+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:08.081+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=현재 사용자 정보 조회 성공, data=UserDto(userId=7, username=test_user6, passw (truncated)...]
2025-12-24T16:23:08.092+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:11.207+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/logout
2025-12-24T16:23:11.224+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-12-24T16:23:11.228+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 7, role: USER, companyId: 1, uri: /api/logout
2025-12-24T16:23:11.245+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-12-24T16:23:11.248+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-12-24T16:23:11.259+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#logout(String, RefreshTokenRequest)
2025-12-24T16:23:11.261+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.RefreshTokenRequest(refreshToken=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI3IiwidXNlcm5hbWUiOiJ (truncated)...]
2025-12-24T16:23:11.269+09:00  INFO 25100 --- [http-nio-8080-exec-8] SECURITY                                 : LOGOUT userId=7
2025-12-24T16:23:11.375+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:11.410+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그아웃되었습니다., data=null)]
2025-12-24T16:23:11.456+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:21.827+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/login
2025-12-24T16:23:21.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/login
2025-12-24T16:23:21.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-12-24T16:23:21.830+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/login
2025-12-24T16:23:21.831+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/login", parameters={}
2025-12-24T16:23:21.831+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#login(LoginRequest)
2025-12-24T16:23:21.831+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [UserController.LoginRequest(username=test_ceo, password=1234)]
2025-12-24T16:23:21.833+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 시도 - username: test_ceo
2025-12-24T16:23:21.834+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:21.835+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab1d615] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:21.837+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1617657431 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:23:21.838+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==>  Preparing: SELECT * FROM user_tb WHERE username = ?
2025-12-24T16:23:21.838+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : ==> Parameters: test_ceo(String)
2025-12-24T16:23:21.841+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.mapper.UserMapper.findByUsername   : <==      Total: 1
2025-12-24T16:23:21.841+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@ab1d615]
2025-12-24T16:23:21.931+09:00  INFO 25100 --- [http-nio-8080-exec-2] c.i.backend.controller.UserController    : 로그인 성공 - userId: 1, role: CEO, companyId: 1
2025-12-24T16:23:21.932+09:00  INFO 25100 --- [http-nio-8080-exec-2] SECURITY                                 : LOGIN_SUCCESS userId=1 username=test_ceo role=CEO
2025-12-24T16:23:21.934+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:21.935+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=로그인 성공, data={user=UserDto(userId=1, username=test_ceo, password=n (truncated)...]
2025-12-24T16:23:21.936+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:22.356+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/companies
2025-12-24T16:23:22.422+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:23:22.424+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:23:22.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:23:22.428+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/companies
2025-12-24T16:23:22.431+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses?page=1&size=10
2025-12-24T16:23:22.435+09:00 DEBUG 25100 --- [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/expenses/pending-approvals?userId=1
2025-12-24T16:23:22.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/users/pending
2025-12-24T16:23:22.624+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/companies
2025-12-24T16:23:22.909+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:23:22.911+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:23:22.969+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:23:22.990+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/companies
2025-12-24T16:23:23.021+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:23:23.021+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:23:23.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:23:23.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:23:23.022+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:23:22.991+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/companies
2025-12-24T16:23:22.992+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses?page=1&size=10
2025-12-24T16:23:23.025+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/companies
2025-12-24T16:23:23.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/companies
2025-12-24T16:23:22.995+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:23:23.014+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:23:23.021+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/companies
2025-12-24T16:23:23.024+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:23:23.025+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses
2025-12-24T16:23:23.026+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/companies", parameters={}
2025-12-24T16:23:23.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:23:23.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getUserCompanies()
2025-12-24T16:23:23.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses?page=1&size=10
2025-12-24T16:23:23.027+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:23:23.029+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/companies", parameters={}
2025-12-24T16:23:23.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:23:23.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.031+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses?page=1&size=10", parameters={masked}
2025-12-24T16:23:23.032+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:23:23.032+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.CompanyController#getMyCompanies()
2025-12-24T16:23:23.053+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.054+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f58dbf] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.035+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aae581a] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.043+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:23:23.046+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7eef6d] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.047+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getExpenseList(int, int, String, String, Long, Long, String[], String, Boolean, Boolean, String)
2025-12-24T16:23:23.048+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:23:23.063+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.076+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.091+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164757ef] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.077+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.094+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66320fa2] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.078+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7909de56] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.108+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@745107370 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:23:23.108+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@772036540 wrapping com.mysql.cj.jdbc.ConnectionImpl@2be5d82c] will not be managed by Spring
2025-12-24T16:23:23.120+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==>  Preparing: SELECT uc.user_company_id AS userCompanyId, uc.user_id AS userId, uc.company_id AS companyId, uc.role, uc.position, uc.is_active AS isActive, uc.is_primary AS isPrimary, uc.approval_status AS approvalStatus, uc.created_at AS createdAt, uc.updated_at AS updatedAt, u.korean_name AS koreanName, u.username, u.email, c.company_name AS companyName, c.company_code AS companyCode FROM user_company_tb uc INNER JOIN user_tb u ON uc.user_id = u.user_id INNER JOIN company_tb c ON uc.company_id = c.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' ORDER BY uc.is_primary DESC, uc.created_at DESC
2025-12-24T16:23:23.108+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@684186910 wrapping com.mysql.cj.jdbc.ConnectionImpl@4c223934] will not be managed by Spring
2025-12-24T16:23:23.118+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==>  Preparing: SELECT c.company_id AS companyId, c.company_code AS companyCode, c.company_name AS companyName, c.business_reg_no AS businessRegNo, c.representative_name AS representativeName, c.created_by AS createdBy, c.is_active AS isActive, c.created_at AS createdAt, c.updated_at AS updatedAt FROM company_tb c INNER JOIN user_company_tb uc ON c.company_id = uc.company_id WHERE uc.user_id = ? AND uc.approval_status = 'APPROVED' AND c.is_active = 1 ORDER BY uc.is_primary DESC, c.created_at DESC
2025-12-24T16:23:23.122+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : ==> Parameters: 1(Long)
2025-12-24T16:23:23.123+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1032906947 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:23:23.124+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1969993411 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:23:23.124+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@962363481 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:23:23.125+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:23:23.127+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : ==> Parameters: 1(Long)
2025-12-24T16:23:23.139+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:23.140+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:23:23.141+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:23.163+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:23:23.164+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:23.169+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:23:23.170+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:23.179+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] c.i.b.m.UserMapper.findUserCompanies     : <==      Total: 1
2025-12-24T16:23:23.187+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:23.189+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:23:23.189+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:23.189+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] c.i.b.m.U.findCompaniesByUserId          : <==      Total: 1
2025-12-24T16:23:23.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2a7eef6d]
2025-12-24T16:23:23.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@164757ef]
2025-12-24T16:23:23.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aae581a]
2025-12-24T16:23:23.193+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7909de56]
2025-12-24T16:23:23.220+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@43f58dbf]
2025-12-24T16:23:23.221+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.222+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:23:23.265+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.328+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.348+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:23:23.350+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.354+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[UserCompanyDto(userCompanyId=1, userId=1, companyId=1 (truncated)...]
2025-12-24T16:23:23.355+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@66320fa2]
2025-12-24T16:23:23.356+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1006c1f7] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.381+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.381+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@608255532 wrapping com.mysql.cj.jdbc.ConnectionImpl@452016e9] will not be managed by Spring
2025-12-24T16:23:23.382+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:23.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399db3a1] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.411+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@874863293 wrapping com.mysql.cj.jdbc.ConnectionImpl@611af09] will not be managed by Spring
2025-12-24T16:23:23.412+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==>  Preparing: SELECT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id WHERE r.company_id = ? ORDER BY r.expense_report_id DESC LIMIT ? OFFSET ?
2025-12-24T16:23:23.357+09:00 DEBUG 25100 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.379+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, message=조회 성공, data=[CompanyDto(companyId=1, companyCode=2C4PSB, companyNa (truncated)...]
2025-12-24T16:23:23.380+09:00 DEBUG 25100 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.421+09:00 DEBUG 25100 --- [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.381+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:23:23.391+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:23.413+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : ==> Parameters: 1(Long), 2147483647(Integer), 0(Integer)
2025-12-24T16:23:23.423+09:00 DEBUG 25100 --- [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:23:23.426+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/pending
2025-12-24T16:23:23.476+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:23.477+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] c.i.b.m.E.selectExpenseListWithFilters   : <==      Total: 0
2025-12-24T16:23:23.521+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/expenses/pending-approvals
2025-12-24T16:23:23.525+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.security.JwtAuthenticationFilter   : JWT 인증 성공 - userId: 1, role: CEO, companyId: 1, uri: /api/users/pending
2025-12-24T16:23:23.538+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/pending
2025-12-24T16:23:23.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/pending", parameters={}
2025-12-24T16:23:23.526+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@399db3a1]
2025-12-24T16:23:23.527+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1006c1f7]
2025-12-24T16:23:23.529+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/expenses/pending-approvals?userId=1
2025-12-24T16:23:23.539+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.UserController#getPendingUsers()
2025-12-24T16:23:23.540+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.541+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.542+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/expenses/pending-approvals?userId=1", parameters={masked}
2025-12-24T16:23:23.542+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:23:23.543+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:23:23.547+09:00 DEBUG 25100 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.544+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=목록 조회 성공, data=PagedResponse(content=[], page=1, size=10, totalEle (truncated)...]
2025-12-24T16:23:23.544+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.innersignature.backend.controller.ExpenseController#getPendingApprovals()
2025-12-24T16:23:23.558+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@633cb16f] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1559454755 wrapping com.mysql.cj.jdbc.ConnectionImpl@7d97871d] will not be managed by Spring
2025-12-24T16:23:23.545+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public com.innersignature.backend.dto.ApiResponse com.innersignature.backend.controller.UserController.getPendingUsers(); target is of class [com.innersignature.backend.controller.UserController]
2025-12-24T16:23:23.558+09:00 DEBUG 25100 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.560+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==>  Preparing: SELECT DISTINCT r.*, u.korean_name AS drafterName FROM expense_report_tb r JOIN user_tb u ON r.drafter_id = u.user_id JOIN approval_line_tb al ON r.expense_report_id = al.expense_report_id WHERE al.approver_id = ? AND al.status = 'WAIT' AND r.status != 'REJECTED' AND r.company_id = ? ORDER BY r.expense_report_id DESC
2025-12-24T16:23:23.561+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-12-24T16:23:23.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : ==> Parameters: 1(Long), 1(Long)
2025-12-24T16:23:23.562+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75658c3a] was not registered for synchronization because synchronization is not active
2025-12-24T16:23:23.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2135138706 wrapping com.mysql.cj.jdbc.ConnectionImpl@1666ca9a] will not be managed by Spring
2025-12-24T16:23:23.575+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==>  Preparing: SELECT u.user_id, u.username, u.korean_name, u.email, uc.position, uc.role, uc.is_active, u.company_id, uc.approval_status FROM user_tb u INNER JOIN user_company_tb uc ON u.user_id = uc.user_id WHERE uc.company_id = ? AND uc.approval_status = 'PENDING' ORDER BY u.user_id DESC
2025-12-24T16:23:23.576+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : ==> Parameters: 1(Long)
2025-12-24T16:23:23.600+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] c.i.b.m.E.selectPendingApprovalsByUserId : <==      Total: 0
2025-12-24T16:23:23.604+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] c.i.b.m.UserMapper.findPendingUsers      : <==      Total: 0
2025-12-24T16:23:23.611+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@633cb16f]
2025-12-24T16:23:23.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@75658c3a]
2025-12-24T16:23:23.612+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.613+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-12-24T16:23:23.644+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=조회 성공, data=[])]
2025-12-24T16:23:23.613+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse(success=true, message=미서명 건 조회 성공, data=[])]
2025-12-24T16:23:23.645+09:00 DEBUG 25100 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-12-24T16:23:23.646+09:00 DEBUG 25100 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
